!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=104)}([function(e,t,n){"use strict";e.exports=n(149)},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(36),i=n(79),o=n(81);e.exports=function(e,t){return o(i(e,t,r),e+"")}},function(e,t,n){var r=n(199),i=n(229),o=n(36),a=n(10),l=n(238);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):l(e)}},function(e,t,n){var r=n(164);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){"use strict";e.exports=n(106)},function(e,t,n){"use strict";var r=n(64),i=n(114),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function l(e){return null!==e&&"object"==typeof e}function s(e){return"[object Function]"===o.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===o.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:l,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:s,isStream:function(e){return l(e)&&s(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:u,merge:function e(){var t={};function n(n,r){"object"==typeof t[r]&&"object"==typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)u(arguments[r],n);return t},extend:function(e,t,n){return u(t,function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){var r=n(44),i=n(21);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){var r=n(46),i=n(168);e.exports=function e(t,n,o,a,l){var s=-1,u=t.length;for(o||(o=i),l||(l=[]);++s<u;){var c=t[s];n>0&&o(c)?n>1?e(c,n-1,o,a,l):r(l,c):a||(l[l.length]=c)}return l}},function(e,t){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t,n){var r=n(75),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t,n){e.exports=n(151)()},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(24),i=n(21),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},function(e,t,n){var r=n(174),i=n(177);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(28),i=n(50),o=n(52),a=n(35),l=n(292),s=n(53),u=200;e.exports=function(e,t,n){var c=-1,d=i,p=e.length,h=!0,f=[],m=f;if(n)h=!1,d=o;else if(p>=u){var g=t?null:l(e);if(g)return s(g);h=!1,d=a,m=new r}else m=t?[]:f;e:for(;++c<p;){var y=e[c],v=t?t(y):y;if(y=n||0!==y?y:0,h&&v==v){for(var x=m.length;x--;)if(m[x]===v)continue e;t&&m.push(v),f.push(y)}else d(m,v,n)||(m!==f&&m.push(v),f.push(y))}return f}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(17),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,$,fullScreenApi;//! openseadragon 2.4.0
//! Built on 2018-07-20
//! Git commit: v2.4.0-0-446af4d
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}!function(e){e.version={versionStr:"2.4.0",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("0",10)};var t,n={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},r=Object.prototype.toString,i=Object.prototype.hasOwnProperty;e.isFunction=function(t){return"function"===e.type(t)},e.isArray=Array.isArray||function(t){return"array"===e.type(t)},e.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},e.type=function(e){return null==e?String(e):n[r.call(e)]||"object"},e.isPlainObject=function(t){if(!t||"object"!==OpenSeadragon.type(t)||t.nodeType||e.isWindow(t))return!1;if(t.constructor&&!i.call(t,"constructor")&&!i.call(t.constructor.prototype,"isPrototypeOf"))return!1;var n;for(var r in t)n=r;return void 0===n||i.call(t,n)},e.isEmptyObject=function(e){for(var t in e)return!1;return!0},e.freezeObject=function(t){return Object.freeze?e.freezeObject=Object.freeze:e.freezeObject=function(e){return e},e.freezeObject(t)},e.supportsCanvas=(t=document.createElement("canvas"),!(!e.isFunction(t.getContext)||!t.getContext("2d"))),e.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},e.pixelDensityRatio=function(){if(e.supportsCanvas){var t=document.createElement("canvas").getContext("2d"),n=window.devicePixelRatio||1,r=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return Math.max(n,1)/r}return 1}()}(OpenSeadragon),function($){$.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},l=arguments.length,s=!1,u=1;for("boolean"==typeof a&&(s=a,a=arguments[1]||{},u=2),"object"==typeof a||OpenSeadragon.isFunction(a)||(a={}),l===u&&(a=this,--u);u<l;u++)if(null!==(e=arguments[u])||void 0!==e)for(t in e)n=a[t],a!==(r=e[t])&&(s&&r&&(OpenSeadragon.isPlainObject(r)||(i=OpenSeadragon.isArray(r)))?(i?(i=!1,o=n&&OpenSeadragon.isArray(n)?n:[]):o=n&&OpenSeadragon.isPlainObject(n)?n:{},a[t]=OpenSeadragon.extend(s,o,r)):void 0!==r&&(a[t]=r));return a};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(e,t){return function(){var n=arguments;return void 0===n&&(n=[]),t.apply(e,n)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,n,r=new $.Point;for(n=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);n;)r.x+=e.offsetLeft,r.y+=e.offsetTop,t&&(r=r.plus($.getPageScroll())),n=getOffsetParent(e=n,t="fixed"==$.getElementStyle(e).position);return r},getElementOffset:function(e){var t,n,r=(e=$.getElement(e))&&e.ownerDocument,i={top:0,left:0};return r?(t=r.documentElement,void 0!==e.getBoundingClientRect&&(i=e.getBoundingClientRect()),n=r==r.window?r:9===r.nodeType&&(r.defaultView||r.parentWindow),new $.Point(i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0),i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var t={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==t[e])return t[e];var n=document.createElement("div").style,r=null;if(void 0!==n[e])r=e;else for(var i=["Webkit","Moz","MS","O","webkit","moz","ms","o"],o=$.capitalizeFirstLetter(e),a=0;a<i.length;a++){var l=i[a]+o;if(void 0!==n[l]){r=l;break}}return t[e]=r,r},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var n=e%t;return n<0&&(n+=t),n},pointInElement:function(e,t){e=$.getElement(e);var n=$.getElementOffset(e),r=$.getElementSize(e);return t.x>=n.x&&t.x<n.x+r.x&&t.y<n.y+r.y&&t.y>=n.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if(void 0!==window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var n=$.getPageScroll();if(n.x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(n=$.getPageScroll()).x!==t.x&&n.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(e){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),n=t.style;return n.background="transparent none",n.border="none",n.margin="0px",n.padding="0px",n.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),n=null;return(n=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){n.style.width=n.style.width||t.width+"px",n.style.height=n.style.height||t.height+"px",t.onload=null,t=null},t.src=e,n.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",n}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,n){var r;e=$.getElement(e),n&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(r="alpha(opacity="+Math.round(100*t)+")",e.style.filter=r):e.style.filter=""},setElementTouchActionNone:function(e){void 0!==(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":void 0!==e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,n){return Array.prototype.indexOf?this.indexOf=function(e,t,n){return e.indexOf(t,n)}:this.indexOf=function(e,t,n){var r,i,o=n||0;if(!e)throw new TypeError;if(0===(i=e.length)||o>=i)return-1;for(o<0&&(o=i-Math.abs(o)),r=o;r<i;r++)if(e[r]===t)return r;return-1},this.indexOf(e,t,n)},removeClass:function(e,t){var n,r,i=[];for(n=(e=$.getElement(e)).className.split(/\s+/),r=0;r<n.length;r++)n[r]&&n[r]!==t&&i.push(n[r]);e.className=i.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,n,r){(e=$.getElement(e)).addEventListener(t,n,r)};if(window.attachEvent)return function(e,t,n,r){(e=$.getElement(e)).attachEvent("on"+t,n)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,n,r){(e=$.getElement(e)).removeEventListener(t,n,r)};if(window.detachEvent)return function(e,t,n,r){(e=$.getElement(e)).detachEvent("on"+t,n)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(e,t){var n,r=[];for(n=2;n<arguments.length;n++)r.push(arguments[n]);return function(){var n,i=r.concat([]);for(n=0;n<arguments.length;n++)i.push(arguments[n]);return t.apply(e,i)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,n){var r,i,o;$.isPlainObject(e)&&(t=e.success,n=e.error,r=e.withCredentials,i=e.headers,o=e.responseType||null,e=e.url);var a=$.getUrlProtocol(e),l=$.createAjaxRequest("file:"===a);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");l.onreadystatechange=function(){4==l.readyState&&(l.onreadystatechange=function(){},l.status>=200&&l.status<300||0===l.status&&"http:"!==a&&"https:"!==a?t(l):($.console.log("AJAX request returned %d: %s",l.status,e),$.isFunction(n)&&n(l)))};try{if(l.open("GET",e,!0),o&&(l.responseType=o),i)for(var s in i)i.hasOwnProperty(s)&&i[s]&&l.setRequestHeader(s,i[s]);r&&(l.withCredentials=!0),l.send(null)}catch(r){var u=r.message;if($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10&&void 0!==r.number&&-2147024891==r.number&&(u+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",r.name,u),l.onreadystatechange=function(){},window.XDomainRequest){var c=new XDomainRequest;if(c){c.onload=function(e){$.isFunction(t)&&t({responseText:c.responseText,status:200,statusText:"OK"})},c.onerror=function(e){$.isFunction(n)&&n({responseText:c.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{c.open("GET",e),c.send()}catch(e){$.isFunction(n)&&n(l,r)}}}else $.isFunction(n)&&n(l,r)}return l},jsonp:function(e){var t,n=e.url,r=document.head||document.getElementsByTagName("head")[0]||document.documentElement,i=e.callbackName||"openseadragon"+$.now(),o=window[i],a="$1"+i+"$2",l=e.param||"callback",s=e.callback;n=n.replace(/(\=)\?(&|$)|\?\?/i,a),n+=(/\?/.test(n)?"&":"?")+l+"="+i,window[i]=function(e){if(o)window[i]=o;else try{delete window[i]}catch(e){}s&&$.isFunction(s)&&s(e)},t=document.createElement("script"),void 0===e.async&&!1===e.async||(t.async="async"),e.scriptCharset&&(t.charset=e.scriptCharset),t.src=n,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,r&&t.parentNode&&r.removeChild(t),t=void 0)},r.insertBefore(t,r.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(t.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):t.indexOf("Safari")>=0?($.Browser.vendor=t.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var n,r,i,o=window.location.search.substring(1).split("&");for(i=0;i<o.length;i++)(r=(n=o[i]).indexOf("="))>0&&(URLPARAMS[n.substring(0,r)]=decodeURIComponent(n.substring(r+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(e){};function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&n)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return n.apply(e,arguments)};else{var r,i=[],o=[],a=0;$.requestAnimationFrame=function(e){return i.push([++a,e]),r||(r=setInterval(function(){if(i.length){var e=$.now(),t=o;for(o=i,i=t;o.length;)o.shift()[1](e)}else clearInterval(r),r=void 0},20)),a},$.cancelAnimationFrame=function(e){var t,n;for(t=0,n=i.length;t<n;t+=1)if(i[t][0]===e)return void i.splice(t,1);for(t=0,n=o.length;t<n;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),__WEBPACK_AMD_DEFINE_ARRAY__=[],void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=function(){return OpenSeadragon})?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__),$=OpenSeadragon,fullScreenApi={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""},document.exitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.fullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.requestFullscreen()},fullScreenApi.exitFullScreen=function(){document.exitFullscreen()},fullScreenApi.fullScreenEventName="fullscreenchange",fullScreenApi.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.msFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.msRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.msExitFullscreen()},fullScreenApi.fullScreenEventName="MSFullscreenChange",fullScreenApi.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitFullscreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullscreen()},fullScreenApi.exitFullScreen=function(){document.webkitExitFullscreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.webkitRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.webkitCancelFullScreen()},fullScreenApi.fullScreenEventName="webkitfullscreenchange",fullScreenApi.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(fullScreenApi.supportsFullScreen=!0,fullScreenApi.getFullScreenElement=function(){return document.mozFullScreenElement},fullScreenApi.requestFullScreen=function(e){return e.mozRequestFullScreen()},fullScreenApi.exitFullScreen=function(){document.mozCancelFullScreen()},fullScreenApi.fullScreenEventName="mozfullscreenchange",fullScreenApi.fullScreenErrorEventName="mozfullscreenerror"),fullScreenApi.isFullScreen=function(){return null!==fullScreenApi.getFullScreenElement()},fullScreenApi.cancelFullScreen=function(){$.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),fullScreenApi.exitFullScreen()},$.extend($,fullScreenApi),function(e){e.EventSource=function(){this.events={}},e.EventSource.prototype={addOnceHandler:function(e,t,n,r){var i=this;r=r||1;var o=0,a=function(n){++o===r&&i.removeHandler(e,a),t(n)};this.addHandler(e,a,n)},addHandler:function(t,n,r){var i=this.events[t];i||(this.events[t]=i=[]),n&&e.isFunction(n)&&(i[i.length]={handler:n,userData:r||null})},removeHandler:function(t,n){var r,i=this.events[t],o=[];if(i&&e.isArray(i)){for(r=0;r<i.length;r++)i[r].handler!==n&&o.push(i[r]);this.events[t]=o}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var t=this.events[e];return t&&t.length?(t=1===t.length?[t[0]]:Array.apply(null,t),function(e,n){var r,i=t.length;for(r=0;r<i;r++)t[r]&&(n.eventSource=e,n.userData=t[r].userData,t[r].handler(n))}):null},raiseEvent:function(e,t){var n=this.getHandler(e);n&&(t||(t={}),n(this,t))}}}(OpenSeadragon),function(e){var t,n,r,i,o,a,l=[],s={};function u(t){var n,r=s[t.hash],i=r.activePointersLists.length;for(n=0;n<i;n++)r.activePointersLists[n].captureCount>0&&(e.removeEvent(e.MouseTracker.captureElement,"mousemove",r.mousemovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"mouseup",r.mouseupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",r.pointermovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",r.pointerupcaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchmove",r.touchmovecaptured,!0),e.removeEvent(e.MouseTracker.captureElement,"touchend",r.touchendcaptured,!0),r.activePointersLists[n].captureCount=0);for(n=0;n<i;n++)r.activePointersLists.pop()}function c(t){var n,r,i=s[t.hash];if(i.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)n=e.MouseTracker.subscribeEvents[r],e.removeEvent(t.element,n,i[n],!1);u(t),i.tracking=!1}}function d(t,n){var r=s[t.hash];if("pointerevent"===n)return{upName:e.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:r.pointerupcaptured,moveName:e.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:r.pointermovecaptured};if("mouse"===n)return{upName:"mouseup",upHandler:r.mouseupcaptured,moveName:"mousemove",moveHandler:r.mousemovecaptured};if("touch"===n)return{upName:"touchend",upHandler:r.touchendcaptured,moveName:"touchmove",moveHandler:r.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function p(t,n,r){var i,o=t.getActivePointersListByType(n);o.captureCount+=r||1,1===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.setCapture(!0):(i=d(t,e.MouseTracker.havePointerEvents?"pointerevent":n),G&&q(window.top)&&e.addEvent(window.top,i.upName,i.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,i.upName,i.upHandler,!0),e.addEvent(e.MouseTracker.captureElement,i.moveName,i.moveHandler,!0)))}function h(t,n,r){var i,o=t.getActivePointersListByType(n);o.captureCount-=r||1,0===o.captureCount&&(e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?t.element.releaseCapture():(i=d(t,e.MouseTracker.havePointerEvents?"pointerevent":n),G&&q(window.top)&&e.removeEvent(window.top,i.upName,i.upHandler,!0),e.removeEvent(e.MouseTracker.captureElement,i.moveName,i.moveHandler,!0),e.removeEvent(e.MouseTracker.captureElement,i.upName,i.upHandler,!0)))}function f(t){var n;if(e.MouseTracker.unprefixedPointerEvents)n=t.pointerType;else switch(t.pointerType){case 2:n="touch";break;case 3:n="pen";break;case 4:n="mouse";break;default:n=""}return n}function m(t){return e.getMousePosition(t)}function g(e,t){return y(m(e),t)}function y(t,n){var r=e.getElementOffset(n);return t.minus(r)}function v(t,n){return new e.Point((t.x+n.x)/2,(t.y+n.y)/2)}function x(t,n){var r={target:(n=e.getEvent(n)).target||n.srcElement,type:"wheel",shiftKey:n.shiftKey||!1,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX?n.pageX:n.clientX,pageY:n.pageY?n.pageY:n.clientY,deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==e.MouseTracker.wheelEventName?r.deltaY=-n.wheelDelta/e.DEFAULT_SETTINGS.pixelsPerWheelLine:r.deltaY=n.detail,b(t,r,n)}function b(t,n,r){var i;i=n.deltaY<0?1:-1,t.scrollHandler&&!1===t.scrollHandler({eventSource:t,pointerType:"mouse",position:g(n,t.element),scroll:i,shift:n.shiftKey,isTouchEvent:!1,originalEvent:r,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(r)}function w(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function k(t,n){F(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:m(n),currentTime:e.now()}])}function _(t,n){W(t,n,[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:m(n),currentTime:e.now()}])}function T(t){return e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?1===t?0:2===t?2:4===t?1:-1:t}function S(t,n){V(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:m(n),currentTime:e.now()}],T(n.button))&&h(t,"mouse")}function E(t,n){U(t,n=e.getEvent(n),[{id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:m(n),currentTime:e.now()}])}function P(e,t,n){var r,i=n.getLength(),o=[];if("touch"===n.type||n.contacts>0){for(r=0;r<i;r++)o.push(n.getByIndex(r));o.length>0&&(V(e,t,o,0),n.captureCount=1,h(e,n.type),W(e,t,o))}}function M(t,n){var r,i,o,a,s=n.changedTouches.length,u=[];for(r=e.now(),i=0;i<s;i++)u.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:m(n.changedTouches[i]),currentTime:r});for(V(t,n,u,0)&&h(t,"touch",s),W(t,n,u),i=0;i<l.length;i++)if(l[i]!==t&&l[i].isTracking()&&w(l[i].element,t.element)){for(a=[],o=0;o<s;o++)a.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:m(n.changedTouches[o]),currentTime:r});W(l[i],n,a)}e.cancelEvent(n)}function C(t,n){var r,i=n.changedTouches.length,o=[];for(r=0;r<i;r++)o.push({id:n.changedTouches[r].identifier,type:"touch",currentPos:m(n.changedTouches[r]),currentTime:e.now()});U(t,n,o),e.cancelEvent(n)}function A(t,n){n.currentTarget===n.relatedTarget||w(n.currentTarget,n.relatedTarget)||F(t,n,[{id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:m(n),currentTime:e.now()}])}function O(t,n){n.currentTarget===n.relatedTarget||w(n.currentTarget,n.relatedTarget)||W(t,n,[{id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:m(n),currentTime:e.now()}])}function R(t,n){var r;j(t,n,[r={id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:m(n),currentTime:e.now()}],n.button)&&(e.stopEvent(n),p(t,r.type)),(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.cancelEvent(n)}function I(e,t){D(e,t)}function D(t,n){var r;V(t,n,[r={id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:m(n),currentTime:e.now()}],n.button)&&h(t,r.type)}function H(e,t){L(e,t)}function L(t,n){U(t,n,[{id:n.pointerId,type:f(n),isPrimary:n.isPrimary,currentPos:m(n),currentTime:e.now()}])}function N(e,t){!function(e,t,n){V(e,t,n,0),W(e,t,n)}(e,t,[{id:t.pointerId,type:f(t)}])}function B(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function z(e,t){var n,r;return e.getById(t.id)?(n=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(r=e.getPrimary())||(r=e.getByIndex(0))&&(r.isPrimary=!0)):n=e.getLength(),n}function F(t,n,r){var i,o,a,l=t.getActivePointersListByType(r[0].type),s=r.length;for(i=0;i<s;i++)o=r[i],(a=l.getById(o.id))?(a.insideElement=!0,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime,o=a):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,B(l,o)),t.enterHandler&&!1===t.enterHandler({eventSource:t,pointerType:o.type,position:y(o.currentPos,t.element),buttons:l.buttons,pointers:t.getActivePointerCount(),insideElementPressed:o.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function W(t,n,r){var i,o,a,l=t.getActivePointersListByType(r[0].type),s=r.length;for(i=0;i<s;i++)o=r[i],(a=l.getById(o.id))&&(a.captured?(a.insideElement=!1,a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):z(l,a),o=a),t.exitHandler&&!1===t.exitHandler({eventSource:t,pointerType:o.type,position:y(o.currentPos,t.element),buttons:l.buttons,pointers:t.getActivePointerCount(),insideElementPressed:!!a&&a.insideElementPressed,buttonDownAny:0!==l.buttons,isTouchEvent:"touch"===o.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)}function j(t,n,r,i){var o,a,l,u=s[t.hash],c=t.getActivePointersListByType(r[0].type),d=r.length;void 0!==n.buttons?c.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===i?c.buttons+=1:1===i?c.buttons+=4:2===i?c.buttons+=2:3===i?c.buttons+=8:4===i?c.buttons+=16:5===i&&(c.buttons+=32):0===i?c.buttons|=1:1===i?c.buttons|=4:2===i?c.buttons|=2:3===i?c.buttons|=8:4===i?c.buttons|=16:5===i&&(c.buttons|=32);var p=t.getActivePointersListsExceptType(r[0].type);for(o=0;o<p.length;o++)P(t,n,p[o]);if(0!==i)return t.nonPrimaryPressHandler&&!1===t.nonPrimaryPressHandler({eventSource:t,pointerType:r[0].type,position:y(r[0].currentPos,t.element),button:i,buttons:c.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),!1;for(o=0;o<d;o++)a=r[o],(l=c.getById(a.id))?(l.captured=!0,l.insideElementPressed=!0,l.insideElement=!0,l.contactPos=a.currentPos,l.contactTime=a.currentTime,l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=a.currentPos,l.currentTime=a.currentTime,a=l):(a.captured=!0,a.insideElementPressed=!0,a.insideElement=!0,B(c,a)),c.addContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.addPoint(t,a),1===c.contacts?t.pressHandler&&!1===t.pressHandler({eventSource:t,pointerType:a.type,position:y(a.contactPos,t.element),buttons:c.buttons,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):2===c.contacts&&t.pinchHandler&&"touch"===a.type&&(u.pinchGPoints=c.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=v(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos));return!0}function V(t,n,r,i){var o,a,l,u,c,d,p=s[t.hash],h=t.getActivePointersListByType(r[0].type),f=r.length,m=!1,g=!1;if(void 0!==n.buttons?h.buttons=n.buttons:e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?0===i?h.buttons-=1:1===i?h.buttons-=4:2===i?h.buttons-=2:3===i?h.buttons-=8:4===i?h.buttons-=16:5===i&&(h.buttons-=32):0===i?h.buttons^=-2:1===i?h.buttons^=-5:2===i?h.buttons^=-3:3===i?h.buttons^=-9:4===i?h.buttons^=-17:5===i&&(h.buttons^=-33),0!==i){t.nonPrimaryReleaseHandler&&!1===t.nonPrimaryReleaseHandler({eventSource:t,pointerType:r[0].type,position:y(r[0].currentPos,t.element),button:i,buttons:h.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n);var x=t.getActivePointersListByType("mouse");return P(t,n,x),!1}for(l=0;l<f;l++)u=r[l],(c=h.getById(u.id))&&(c.captured&&(c.captured=!1,m=!0,g=!0),c.lastPos=c.currentPos,c.lastTime=c.currentTime,c.currentPos=u.currentPos,c.currentTime=u.currentTime,c.insideElement||z(h,c),o=c.currentPos,a=c.currentTime,g?(h.removeContact(),(t.dragHandler||t.dragEndHandler||t.pinchHandler)&&e.MouseTracker.gesturePointVelocityTracker.removePoint(t,c),0===h.contacts?(t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:y(o,t.element),buttons:h.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dragEndHandler&&!c.currentPos.equals(c.contactPos)&&!1===t.dragEndHandler({eventSource:t,pointerType:c.type,position:y(c.currentPos,t.element),speed:c.speed,direction:c.direction,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),(t.clickHandler||t.dblClickHandler)&&c.insideElement&&(d=a-c.contactTime<=t.clickTimeThreshold&&c.contactPos.distanceTo(o)<=t.clickDistThreshold,t.clickHandler&&!1===t.clickHandler({eventSource:t,pointerType:c.type,position:y(c.currentPos,t.element),quick:d,shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),t.dblClickHandler&&d&&(h.clicks++,1===h.clicks?(p.lastClickPos=o,p.dblClickTimeOut=setTimeout(function(){h.clicks=0},t.dblClickTimeThreshold)):2===h.clicks&&(clearTimeout(p.dblClickTimeOut),h.clicks=0,p.lastClickPos.distanceTo(o)<=t.dblClickDistThreshold&&!1===t.dblClickHandler({eventSource:t,pointerType:c.type,position:y(c.currentPos,t.element),shift:n.shiftKey,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n),p.lastClickPos=null)))):2===h.contacts&&t.pinchHandler&&"touch"===c.type&&(p.pinchGPoints=h.asArray(),p.lastPinchDist=p.currentPinchDist=p.pinchGPoints[0].currentPos.distanceTo(p.pinchGPoints[1].currentPos),p.lastPinchCenter=p.currentPinchCenter=v(p.pinchGPoints[0].currentPos,p.pinchGPoints[1].currentPos))):t.releaseHandler&&!1===t.releaseHandler({eventSource:t,pointerType:c.type,position:y(o,t.element),buttons:h.buttons,insideElementPressed:c.insideElementPressed,insideElementReleased:c.insideElement,isTouchEvent:"touch"===c.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n));return m}function U(t,n,r){var i,o,a,l,u,c=s[t.hash],d=t.getActivePointersListByType(r[0].type),p=r.length;for(void 0!==n.buttons&&(d.buttons=n.buttons),i=0;i<p;i++)o=r[i],(a=d.getById(o.id))?(o.hasOwnProperty("isPrimary")&&(a.isPrimary=o.isPrimary),a.lastPos=a.currentPos,a.lastTime=a.currentTime,a.currentPos=o.currentPos,a.currentTime=o.currentTime):(o.captured=!1,o.insideElementPressed=!1,o.insideElement=!0,B(d,o));t.stopHandler&&"mouse"===r[0].type&&(clearTimeout(t.stopTimeOut),t.stopTimeOut=setTimeout(function(){!function(e,t,n){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:n,position:g(t,e.element),buttons:e.getActivePointersListByType(n).buttons,isTouchEvent:"touch"===n,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}(t,n,r[0].type)},t.stopDelay)),0===d.contacts?t.moveHandler&&!1===t.moveHandler({eventSource:t,pointerType:r[0].type,position:y(r[0].currentPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n):1===d.contacts?(t.moveHandler&&(a=d.asArray()[0],!1===t.moveHandler({eventSource:t,pointerType:a.type,position:y(a.currentPos,t.element),buttons:d.buttons,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.dragHandler&&(u=(a=d.asArray()[0]).currentPos.minus(a.lastPos),!1===t.dragHandler({eventSource:t,pointerType:a.type,position:y(a.currentPos,t.element),buttons:d.buttons,delta:u,speed:a.speed,direction:a.direction,shift:n.shiftKey,isTouchEvent:"touch"===a.type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))):2===d.contacts&&(t.moveHandler&&(l=d.asArray(),!1===t.moveHandler({eventSource:t,pointerType:l[0].type,position:y(v(l[0].currentPos,l[1].currentPos),t.element),buttons:d.buttons,isTouchEvent:"touch"===l[0].type,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)),t.pinchHandler&&"touch"===r[0].type&&(u=c.pinchGPoints[0].currentPos.distanceTo(c.pinchGPoints[1].currentPos))!=c.currentPinchDist&&(c.lastPinchDist=c.currentPinchDist,c.currentPinchDist=u,c.lastPinchCenter=c.currentPinchCenter,c.currentPinchCenter=v(c.pinchGPoints[0].currentPos,c.pinchGPoints[1].currentPos),!1===t.pinchHandler({eventSource:t,pointerType:"touch",gesturePoints:c.pinchGPoints,lastCenter:y(c.lastPinchCenter,t.element),center:y(c.currentPinchCenter,t.element),lastDistance:c.lastPinchDist,distance:c.currentPinchDist,shift:n.shiftKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n)))}e.MouseTracker=function(t){l.push(this);var n=arguments;e.isPlainObject(t)||(t={element:n[0],clickTimeThreshold:n[1],clickDistThreshold:n[2]}),this.hash=Math.random(),this.element=e.getElement(t.element),this.clickTimeThreshold=t.clickTimeThreshold||e.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=t.clickDistThreshold||e.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=t.dblClickTimeThreshold||e.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=t.dblClickDistThreshold||e.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=t.userData||null,this.stopDelay=t.stopDelay||50,this.enterHandler=t.enterHandler||null,this.exitHandler=t.exitHandler||null,this.pressHandler=t.pressHandler||null,this.nonPrimaryPressHandler=t.nonPrimaryPressHandler||null,this.releaseHandler=t.releaseHandler||null,this.nonPrimaryReleaseHandler=t.nonPrimaryReleaseHandler||null,this.moveHandler=t.moveHandler||null,this.scrollHandler=t.scrollHandler||null,this.clickHandler=t.clickHandler||null,this.dblClickHandler=t.dblClickHandler||null,this.dragHandler=t.dragHandler||null,this.dragEndHandler=t.dragEndHandler||null,this.pinchHandler=t.pinchHandler||null,this.stopHandler=t.stopHandler||null,this.keyDownHandler=t.keyDownHandler||null,this.keyUpHandler=t.keyUpHandler||null,this.keyHandler=t.keyHandler||null,this.focusHandler=t.focusHandler||null,this.blurHandler=t.blurHandler||null;var r=this;s[this.hash]={click:function(t){!function(t,n){t.clickHandler&&e.cancelEvent(n)}(r,t)},dblclick:function(t){!function(t,n){t.dblClickHandler&&e.cancelEvent(n)}(r,t)},keydown:function(t){!function(t,n){t.keyDownHandler&&(n=e.getEvent(n),t.keyDownHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(r,t)},keyup:function(t){!function(t,n){t.keyUpHandler&&(n=e.getEvent(n),t.keyUpHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(r,t)},keypress:function(t){!function(t,n){t.keyHandler&&(n=e.getEvent(n),t.keyHandler({eventSource:t,keyCode:n.keyCode?n.keyCode:n.charCode,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey,originalEvent:n,preventDefaultAction:!1,userData:t.userData})||e.cancelEvent(n))}(r,t)},focus:function(t){!function(t,n){t.focusHandler&&(n=e.getEvent(n),!1===t.focusHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}(r,t)},blur:function(t){!function(t,n){t.blurHandler&&(n=e.getEvent(n),!1===t.blurHandler({eventSource:t,originalEvent:n,preventDefaultAction:!1,userData:t.userData})&&e.cancelEvent(n))}(r,t)},wheel:function(e){!function(e,t){b(e,t,t)}(r,e)},mousewheel:function(e){x(r,e)},DOMMouseScroll:function(e){x(r,e)},MozMousePixelScroll:function(e){x(r,e)},mouseenter:function(t){!function(t,n){n=e.getEvent(n),k(t,n)}(r,t)},mouseleave:function(t){!function(t,n){n=e.getEvent(n),_(t,n)}(r,t)},mouseover:function(t){!function(t,n){if((n=e.getEvent(n)).currentTarget===n.relatedTarget||w(n.currentTarget,n.relatedTarget))return;k(t,n)}(r,t)},mouseout:function(t){!function(t,n){if((n=e.getEvent(n)).currentTarget===n.relatedTarget||w(n.currentTarget,n.relatedTarget))return;_(t,n)}(r,t)},mousedown:function(t){!function(t,n){var r;n=e.getEvent(n),r={id:e.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:m(n),currentTime:e.now()},j(t,n,[r],T(n.button))&&(e.stopEvent(n),p(t,"mouse"));(t.clickHandler||t.dblClickHandler||t.pressHandler||t.dragHandler||t.dragEndHandler)&&e.cancelEvent(n)}(r,t)},mouseup:function(e){!function(e,t){S(e,t)}(r,e)},mouseupcaptured:function(t){!function(t,n){S(t,n),e.stopEvent(n)}(r,t)},mousemove:function(e){!function(e,t){E(e,t)}(r,e)},mousemovecaptured:function(t){!function(t,n){E(t,n),e.stopEvent(n)}(r,t)},touchstart:function(t){!function(t,n){var r,i,o,a,s=n.changedTouches.length,u=[],c=t.getActivePointersListByType("touch");r=e.now(),c.getLength()>n.touches.length-s&&(e.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),P(t,n,c));for(i=0;i<s;i++)u.push({id:n.changedTouches[i].identifier,type:"touch",currentPos:m(n.changedTouches[i]),currentTime:r});for(F(t,n,u),i=0;i<l.length;i++)if(l[i]!==t&&l[i].isTracking()&&w(l[i].element,t.element)){for(a=[],o=0;o<s;o++)a.push({id:n.changedTouches[o].identifier,type:"touch",currentPos:m(n.changedTouches[o]),currentTime:r});F(l[i],n,a)}j(t,n,u,0)&&(e.stopEvent(n),p(t,"touch",s));e.cancelEvent(n)}(r,t)},touchend:function(e){!function(e,t){M(e,t)}(r,e)},touchendcaptured:function(t){!function(t,n){M(t,n),e.stopEvent(n)}(r,t)},touchmove:function(e){!function(e,t){C(e,t)}(r,e)},touchmovecaptured:function(t){!function(t,n){C(t,n),e.stopEvent(n)}(r,t)},touchcancel:function(e){!function(e,t){var n=e.getActivePointersListByType("touch");P(e,t,n)}(r,e)},gesturestart:function(e){!function(e,t){t.stopPropagation(),t.preventDefault()}(0,e)},gesturechange:function(e){!function(e,t){t.stopPropagation(),t.preventDefault()}(0,e)},pointerover:function(e){A(r,e)},MSPointerOver:function(e){A(r,e)},pointerout:function(e){O(r,e)},MSPointerOut:function(e){O(r,e)},pointerdown:function(e){R(r,e)},MSPointerDown:function(e){R(r,e)},pointerup:function(e){I(r,e)},MSPointerUp:function(e){I(r,e)},pointermove:function(e){H(r,e)},MSPointerMove:function(e){H(r,e)},pointercancel:function(e){N(r,e)},MSPointerCancel:function(e){N(r,e)},pointerupcaptured:function(t){!function(t,n){t.getActivePointersListByType(f(n)).getById(n.pointerId)&&D(t,n);e.stopEvent(n)}(r,t)},pointermovecaptured:function(t){!function(t,n){t.getActivePointersListByType(f(n)).getById(n.pointerId)&&L(t,n);e.stopEvent(n)}(r,t)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},t.startDisabled||this.setTracking(!0)},e.MouseTracker.prototype={destroy:function(){var e;for(c(this),this.element=null,e=0;e<l.length;e++)if(l[e]===this){l.splice(e,1);break}s[this.hash]=null,delete s[this.hash]},isTracking:function(){return s[this.hash].tracking},setTracking:function(t){return t?function(t){var n,r,i=s[t.hash];if(!i.tracking){for(r=0;r<e.MouseTracker.subscribeEvents.length;r++)n=e.MouseTracker.subscribeEvents[r],e.addEvent(t.element,n,i[n],!1);u(t),i.tracking=!0}}(this):c(this),this},getActivePointersListsExceptType:function(e){for(var t=s[this.hash],n=[],r=0;r<t.activePointersLists.length;++r)t.activePointersLists[r].type!==e&&n.push(t.activePointersLists[r]);return n},getActivePointersListByType:function(t){var n,r,i=s[this.hash],o=i.activePointersLists.length;for(n=0;n<o;n++)if(i.activePointersLists[n].type===t)return i.activePointersLists[n];return r=new e.MouseTracker.GesturePointList(t),i.activePointersLists.push(r),r},getActivePointerCount:function(){var e,t=s[this.hash],n=t.activePointersLists.length,r=0;for(e=0;e<n;e++)r+=t.activePointersLists[e].getLength();return r},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},e.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<l.length;e++)l[e].isTracking()&&(l[e].setTracking(!1),l[e].setTracking(!0))},e.MouseTracker.gesturePointVelocityTracker=(t=[],n=0,r=0,i=function(e,t){return e.hash.toString()+t.type+t.id.toString()},o=function(){var n,i,o,a,l,s,u=t.length,c=e.now();for(a=c-r,r=c,n=0;n<u;n++)(o=(i=t[n]).gPoint).direction=Math.atan2(o.currentPos.y-i.lastPos.y,o.currentPos.x-i.lastPos.x),l=i.lastPos.distanceTo(o.currentPos),i.lastPos=o.currentPos,s=1e3*l/(a+1),o.speed=.75*s+.25*o.speed},{addPoint:function(a,l){var s=i(a,l);t.push({guid:s,gPoint:l,lastPos:l.currentPos}),1===t.length&&(r=e.now(),n=window.setInterval(o,50))},removePoint:function(e,r){var o,a=i(e,r),l=t.length;for(o=0;o<l;o++)if(t[o].guid===a){t.splice(o,1),0==--l&&window.clearInterval(n);break}}}),e.MouseTracker.captureElement=document,e.MouseTracker.wheelEventName=e.Browser.vendor==e.BROWSERS.IE&&e.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",e.MouseTracker.supportsMouseCapture=(a=document.createElement("div"),e.isFunction(a.setCapture)&&e.isFunction(a.releaseCapture)),e.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",e.MouseTracker.wheelEventName],"DOMMouseScroll"==e.MouseTracker.wheelEventName&&e.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||e.Browser.vendor!==e.BROWSERS.IE)?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),e.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(e.MouseTracker.havePointerEvents=!0,e.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),e.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?e.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:e.MouseTracker.maxTouchPoints=0,e.MouseTracker.haveMouseEnter=!1):(e.MouseTracker.havePointerEvents=!1,e.Browser.vendor===e.BROWSERS.IE&&e.Browser.version<9?(e.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),e.MouseTracker.haveMouseEnter=!0):(e.MouseTracker.subscribeEvents.push("mouseover","mouseout"),e.MouseTracker.haveMouseEnter=!1),e.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&e.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&e.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),e.MouseTracker.mousePointerId="legacy-mouse",e.MouseTracker.maxTouchPoints=10),e.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},e.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(e){var t,n=this._gPoints.length;for(t=0;t<n;t++)if(this._gPoints[t].isPrimary)return this._gPoints[t];return null},addContact:function(){++this.contacts,this.contacts>1&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var G=function(){try{return window.self!==window.top}catch(e){return!0}}();function q(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}}(OpenSeadragon),function(e){e.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},e.Control=function(t,n,r){var i=t.parentNode;"number"==typeof n&&(e.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),n={anchor:n}),n.attachToViewer=void 0===n.attachToViewer||n.attachToViewer,this.autoFade=void 0===n.autoFade||n.autoFade,this.element=t,this.anchor=n.anchor,this.container=r,this.anchor==e.ControlAnchor.ABSOLUTE?(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof n.top?n.top+"px":n.top,this.wrapper.style.left="number"==typeof n.left?n.left+"px":n.left,this.wrapper.style.height="number"==typeof n.height?n.height+"px":n.height,this.wrapper.style.width="number"==typeof n.width?n.width+"px":n.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=e.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==e.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),n.attachToViewer?this.anchor==e.ControlAnchor.TOP_RIGHT||this.anchor==e.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):i.appendChild(this.wrapper)},e.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(t){this.wrapper.style.display=t?this.anchor==e.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(t){this.element[e.SIGNAL]&&e.Browser.vendor==e.BROWSERS.IE?e.setElementOpacity(this.element,t,!0):e.setElementOpacity(this.wrapper,t,!0)}}}(OpenSeadragon),function(e){function t(e,t){var n,r=e.controls;for(n=r.length-1;n>=0;n--)if(r[n].element==t)return n;return-1}e.ControlDock=function(t){var n,r,i=["topleft","topright","bottomright","bottomleft"];for(e.extend(!0,this,{id:"controldock-"+e.now()+"-"+Math.floor(1e6*Math.random()),container:e.makeNeutralElement("div"),controls:[]},t),this.container.onsubmit=function(){return!1},this.element&&(this.element=e.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),r=0;r<i.length;r++)n=i[r],this.controls[n]=e.makeNeutralElement("div"),this.controls[n].style.position="absolute",n.match("left")&&(this.controls[n].style.left="0px"),n.match("right")&&(this.controls[n].style.right="0px"),n.match("top")&&(this.controls[n].style.top="0px"),n.match("bottom")&&(this.controls[n].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},e.ControlDock.prototype={addControl:function(n,r){var i=null;if(!(t(this,n=e.getElement(n))>=0)){switch(r.anchor){case e.ControlAnchor.TOP_RIGHT:i=this.controls.topright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,n.style.position="relative",n.style.paddingRight="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingBottom="0px";break;case e.ControlAnchor.TOP_LEFT:i=this.controls.topleft,n.style.position="relative",n.style.paddingLeft="0px",n.style.paddingTop="0px";break;case e.ControlAnchor.ABSOLUTE:i=this.container,n.style.margin="0px",n.style.padding="0px";break;default:case e.ControlAnchor.NONE:i=this.container,n.style.margin="0px",n.style.padding="0px"}this.controls.push(new e.Control(n,r,i)),n.style.display="inline-block"}},removeControl:function(n){var r=t(this,n=e.getElement(n));return r>=0&&(this.controls[r].destroy(),this.controls.splice(r,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;e>=0;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;t>=0;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(e){var t={},n=1;function r(t){return t=e.getElement(t),new e.Point(0===t.clientWidth?1:t.clientWidth,0===t.clientHeight?1:t.clientHeight)}function i(t,n){if(n instanceof e.Overlay)return n;var r=null;if(n.element)r=e.getElement(n.element);else{var i=n.id?n.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(r=e.getElement(n.id))||((r=document.createElement("a")).href="#/overlay/"+i),r.id=i,e.addClass(r,n.className?n.className:"openseadragon-overlay")}var o=n.location,a=n.width,l=n.height;if(!o){var s=n.x,u=n.y;if(void 0!==n.px){var c=t.viewport.imageToViewportRectangle(new e.Rect(n.px,n.py,a||0,l||0));s=c.x,u=c.y,a=void 0!==a?c.width:void 0,l=void 0!==l?c.height:void 0}o=new e.Point(s,u)}var d=n.placement;return d&&"string"===e.type(d)&&(d=e.Placement[n.placement.toUpperCase()]),new e.Overlay({element:r,location:o,placement:d,onDraw:n.onDraw,checkResize:n.checkResize,width:a,height:l,rotationMode:n.rotationMode})}function o(e,t){var n;for(n=e.length-1;n>=0;n--)if(e[n].element===t)return n;return-1}function a(t,n){return e.requestAnimationFrame(function(){n(t)})}function l(t){e.requestAnimationFrame(function(){!function(t){var n,r,i,o;if(t.controlsShouldFade){for(n=e.now(),r=n-t.controlsFadeBeginTime,i=1-r/t.controlsFadeLength,i=Math.min(1,i),i=Math.max(0,i),o=t.controls.length-1;o>=0;o--)t.controls[o].autoFade&&t.controls[o].setOpacity(i);i>0&&l(t)}}(t)})}function s(t){t.autoHideControls&&(t.controlsShouldFade=!0,t.controlsFadeBeginTime=e.now()+t.controlsFadeDelay,window.setTimeout(function(){l(t)},t.controlsFadeDelay))}function u(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;t>=0;t--)e.controls[t].setOpacity(1)}function c(){u(this)}function d(){s(this)}function p(t){var n={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 38:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}}function h(t){var n={originalEvent:t.originalEvent,preventDefaultAction:t.preventDefaultAction,preventVerticalPan:t.preventVerticalPan,preventHorizontalPan:t.preventHorizontalPan};if(this.raiseEvent("canvas-key",n),n.preventDefaultAction||t.ctrl||t.alt||t.meta)return!0;switch(t.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return n.preventVerticalPan||(t.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return n.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new e.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees-90):this.viewport.setRotation(this.viewport.degrees+90),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(this.viewport.degrees+90):this.viewport.setRotation(this.viewport.degrees-90),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}}function f(e){var t;document.activeElement==this.canvas||this.canvas.focus(),this.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",n),!n.preventDefaultAction&&this.viewport&&e.quick&&(t=this.gestureSettingsByDeviceType(e.pointerType)).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function m(e){var t,n={tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-double-click",n),!n.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,t.zoomToRefPoint?this.viewport.pointFromPixel(e.position,!0):null),this.viewport.applyConstraints())}function g(e){var t,n={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",n),!n.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewport.flipped&&(e.delta.x=-e.delta.x),this.constrainDuringPan){var r=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=r.x,this.viewport.centerSpringY.target.value+=r.y;var i=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=r.x,this.viewport.centerSpringY.target.value-=r.y,i.x!=o.x&&(e.delta.x=0),i.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function y(t){if(!t.preventDefaultAction&&this.viewport){var n=this.gestureSettingsByDeviceType(t.pointerType);if(n.flickEnabled&&t.speed>=n.flickMinSpeed){var r=0;this.panHorizontal&&(r=n.flickMomentum*t.speed*Math.cos(t.direction));var i=0;this.panVertical&&(i=n.flickMomentum*t.speed*Math.sin(t.direction));var o=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),a=this.viewport.pointFromPixel(new e.Point(o.x-r,o.y-i));this.viewport.panTo(a,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:t.eventSource,position:t.position,speed:t.speed,direction:t.direction,shift:t.shift,originalEvent:t.originalEvent})}function v(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function x(t){window.location!=window.parent.location&&e.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:t.eventSource,pointerType:t.pointerType,position:t.position,buttons:t.buttons,pointers:t.pointers,insideElementPressed:t.insideElementPressed,buttonDownAny:t.buttonDownAny,originalEvent:t.originalEvent})}function b(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function w(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function k(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function _(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function T(e){var t,n,r;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(n=this.viewport.pointFromPixel(e.center,!0),r=this.viewport.pointFromPixel(e.lastCenter,!0).minus(n),this.panHorizontal||(r.x=0),this.panVertical||(r.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,n,!0),t.zoomToRefPoint&&this.viewport.panBy(r,!0),this.viewport.applyConstraints()),t.pinchRotate)){var i=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(i-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function S(t){var n,r,i;if((i=e.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=i,this.viewport.flipped&&(t.position.x=this.viewport.getContainerSize().x-t.position.x),!t.preventDefaultAction&&this.viewport&&(n=this.gestureSettingsByDeviceType(t.pointerType)).scrollToZoom&&(r=Math.pow(this.zoomPerScroll,t.scroll),this.viewport.zoomBy(r,n.zoomToRefPoint?this.viewport.pointFromPixel(t.position,!0):null),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:t.eventSource,position:t.position,scroll:t.scroll,shift:t.shift,originalEvent:t.originalEvent}),n&&n.scrollToZoom)return!1}else if((n=this.gestureSettingsByDeviceType(t.pointerType))&&n.scrollToZoom)return!1}function E(e){t[this.hash].mouseInside=!0,u(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function P(e){e.pointers<1&&(t[this.hash].mouseInside=!1,t[this.hash].animating||s(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function M(e){!function(e){if(e._opening)return;if(e.autoResize){var n=r(e.container),i=t[e.hash].prevContainerSize;if(!n.equals(i)){var o=e.viewport;if(e.preserveImageSizeOnResize){var a=i.x/n.x,l=o.getZoom()*a,c=o.getCenter();o.resize(n,!1),o.zoomTo(l,null,!0),o.panTo(c,!0)}else{var d=o.getBounds();o.resize(n,!0),o.fitBoundsWithConstraints(d,!0)}t[e.hash].prevContainerSize=n,t[e.hash].forceRedraw=!0}}var p=e.viewport.update(),h=e.world.update()||p;p&&e.raiseEvent("viewport-change");e.referenceStrip&&(h=e.referenceStrip.update(e.viewport)||h);!t[e.hash].animating&&h&&(e.raiseEvent("animation-start"),u(e));(h||t[e.hash].forceRedraw||e.world.needsDraw())&&(!function(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),t[e.hash].forceRedraw=!1,h&&e.raiseEvent("animation"));t[e.hash].animating&&!h&&(e.raiseEvent("animation-finish"),t[e.hash].mouseInside||s(e));t[e.hash].animating=h}(e),e.isOpen()?e._updateRequestId=a(e,M):e._updateRequestId=!1}function C(e,t){return e?e+t:t}function A(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=this.zoomPerSecond,t[this.hash].zooming=!0,I(this)}function O(){t[this.hash].lastZoomTime=e.now(),t[this.hash].zoomFactor=1/this.zoomPerSecond,t[this.hash].zooming=!0,I(this)}function R(){t[this.hash].zooming=!1}function I(t){e.requestAnimationFrame(e.delegate(t,D))}function D(){var n,r,i;t[this.hash].zooming&&this.viewport&&(r=(n=e.now())-t[this.hash].lastZoomTime,i=Math.pow(t[this.hash].zoomFactor,r/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),t[this.hash].lastZoomTime=n,I(this))}function H(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function L(){this.viewport&&(t[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function N(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function B(){this.viewport&&this.viewport.goHome()}function z(){this.isFullPage()&&!e.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function F(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t+90,360):e.positiveModulo(t-90,360),this.viewport.setRotation(t)}}function W(){if(this.viewport){var t=this.viewport.getRotation();t=this.viewport.flipped?e.positiveModulo(t-90,360):e.positiveModulo(t+90,360),this.viewport.setRotation(t)}}function j(){this.viewport.toggleFlip()}function V(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function U(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}e.Viewer=function(i){var o,l,u=arguments,c=this;if(e.isPlainObject(i)||(i={id:u[0],xmlPath:u.length>1?u[1]:void 0,prefixUrl:u.length>2?u[2]:void 0,controls:u.length>3?u[3]:void 0,overlays:u.length>4?u[4]:void 0}),i.config&&(e.extend(!0,i,i.config),delete i.config),e.extend(!0,this,{id:i.id,hash:i.hash||n++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},e.DEFAULT_SETTINGS,i),void 0===this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(void 0!==t[this.hash]&&e.console.warn("Hash "+this.hash+" has already been used."),t[this.hash]={fsBoundsDelta:new e.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=e.now(),e.EventSource.call(this),this.addHandler("open-failed",function(t){var n=e.getString("Errors.OpenFailed",t.eventSource,t.message);c._showMessage(n)}),e.ControlDock.call(this,i),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=e.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(l=this.canvas.style).width="100%",l.height="100%",l.overflow="hidden",l.position="absolute",l.top="0px",l.left="0px",e.setElementTouchActionNone(this.canvas),""!==i.tabIndex&&(this.canvas.tabIndex=void 0===i.tabIndex?0:i.tabIndex),this.container.className="openseadragon-container",function(e){e.width="100%",e.height="100%",e.position="relative",e.overflow="hidden",e.left="0px",e.top="0px",e.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new e.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:e.delegate(this,p),keyHandler:e.delegate(this,h),clickHandler:e.delegate(this,f),dblClickHandler:e.delegate(this,m),dragHandler:e.delegate(this,g),dragEndHandler:e.delegate(this,y),enterHandler:e.delegate(this,v),exitHandler:e.delegate(this,x),pressHandler:e.delegate(this,b),releaseHandler:e.delegate(this,w),nonPrimaryPressHandler:e.delegate(this,k),nonPrimaryReleaseHandler:e.delegate(this,_),scrollHandler:e.delegate(this,S),pinchHandler:e.delegate(this,T)}),this.outerTracker=new e.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:e.delegate(this,E),exitHandler:e.delegate(this,P)}),this.toolbar&&(this.toolbar=new e.ControlDock({element:this.toolbar})),this.bindStandardControls(),t[this.hash].prevContainerSize=r(this.container),this.world=new e.World({viewer:this}),this.world.addHandler("add-item",function(e){c.source=c.world.getItemAt(0).source,t[c.hash].forceRedraw=!0,c._updateRequestId||(c._updateRequestId=a(c,M))}),this.world.addHandler("remove-item",function(e){c.world.getItemCount()?c.source=c.world.getItemAt(0).source:c.source=null,t[c.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(e){c.viewport&&c.viewport._setContentBounds(c.world.getHomeBounds(),c.world.getContentFactor())}),this.world.addHandler("item-index-change",function(e){c.source=c.world.getItemAt(0).source}),this.viewport=new e.Viewport({containerSize:t[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new e.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:i.timeout}),this.tileCache=new e.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new e.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=e.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(o=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(o=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(o,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new e.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),o=0;o<this.customControls.length;o++)this.addControl(this.customControls[o].id,{anchor:this.customControls[o].anchor});e.requestAnimationFrame(function(){s(c)})},e.extend(e.Viewer.prototype,e.EventSource.prototype,e.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(t){return e.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(t)},openTileSource:function(t){return e.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(t)},open:function(t,n){var r=this;if(this.close(),t){if(this.sequenceMode&&e.isArray(t))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===n||isNaN(n)||(this.initialPage=n),this.tileSources=t,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),void this._updateSequenceButtons(this._sequenceIndex);if(e.isArray(t)||(t=[t]),t.length){this._opening=!0;for(var o,a=t.length,l=0,s=0,u=function(){if(l+s===a)if(l){!r._firstOpen&&r.preserveViewport||(r.viewport.goHome(!0),r.viewport.update()),r._firstOpen=!1;var e=t[0];if(e.tileSource&&(e=e.tileSource),r.overlays&&!r.preserveOverlays)for(var n=0;n<r.overlays.length;n++)r.currentOverlays[n]=i(r,r.overlays[n]);r._drawOverlays(),r._opening=!1,r.raiseEvent("open",{source:e})}else r._opening=!1,r.raiseEvent("open-failed",o)},c=function(t){e.isPlainObject(t)&&t.tileSource||(t={tileSource:t}),void 0!==t.index&&(e.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete t.index),void 0===t.collectionImmediately&&(t.collectionImmediately=!0);var n=t.success;t.success=function(e){if(l++,t.tileSource.overlays)for(var i=0;i<t.tileSource.overlays.length;i++)r.addOverlay(t.tileSource.overlays[i]);n&&n(e),u()};var i=t.error;t.error=function(e){s++,o||(o=e),i&&i(e),u()},r.addTiledImage(t)},d=0;d<t.length;d++)c(t[d]);return this}}},close:function(){return t[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),t[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(t[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(e.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),t[this.hash]=null,delete t[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?u(this):s(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return t[this.hash].fullPage},setFullPage:function(n){var r,i,o=document.body,a=o.style,l=document.documentElement.style,s=this;if(n==this.isFullPage())return this;var u={fullPage:n,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",u),u.preventDefaultAction)return this;if(n){for(this.elementSize=e.getElementSize(this.element),this.pageScroll=e.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=a.margin,this.docMargin=l.margin,a.margin="0",l.margin="0",this.bodyPadding=a.padding,this.docPadding=l.padding,a.padding="0",l.padding="0",this.bodyWidth=a.width,this.docWidth=l.width,a.width="100%",l.width="100%",this.bodyHeight=a.height,this.docHeight=l.height,a.height="100%",l.height="100%",this.previousBody=[],t[this.hash].prevElementParent=this.element.parentNode,t[this.hash].prevNextSibling=this.element.nextSibling,t[this.hash].prevElementWidth=this.element.style.width,t[this.hash].prevElementHeight=this.element.style.height,r=o.childNodes.length,i=0;i<r;i++)this.previousBody.push(o.childNodes[0]),o.removeChild(o.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,o.appendChild(this.toolbar.element),e.addClass(this.toolbar.element,"fullpage")),e.addClass(this.element,"fullpage"),o.appendChild(this.element),this.element.style.height=e.getWindowSize().y+"px",this.element.style.width=e.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=e.getElementSize(this.element).y-e.getElementSize(this.toolbar.element).y+"px"),t[this.hash].fullPage=!0,e.delegate(this,E)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,a.margin=this.bodyMargin,l.margin=this.docMargin,a.padding=this.bodyPadding,l.padding=this.docPadding,a.width=this.bodyWidth,l.width=this.docWidth,a.height=this.bodyHeight,l.height=this.docHeight,o.removeChild(this.element),r=this.previousBody.length,i=0;i<r;i++)o.appendChild(this.previousBody.shift());e.removeClass(this.element,"fullpage"),t[this.hash].prevElementParent.insertBefore(this.element,t[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(o.removeChild(this.toolbar.element),e.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=t[this.hash].prevElementWidth,this.element.style.height=t[this.hash].prevElementHeight;var c=0,d=function(){e.setPageScroll(s.pageScroll);var t=e.getPageScroll();++c<10&&(t.x!==s.pageScroll.x||t.y!==s.pageScroll.y)&&e.requestAnimationFrame(d)};e.requestAnimationFrame(d),t[this.hash].fullPage=!1,e.delegate(this,P)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:n}),this},setFullScreen:function(t){var n=this;if(!e.supportsFullScreen)return this.setFullPage(t);if(e.isFullScreen()===t)return this;var r={fullScreen:t,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",r),r.preventDefaultAction)return this;if(t){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var i=function(){var t=e.isFullScreen();t||(e.removeEvent(document,e.fullScreenEventName,i),e.removeEvent(document,e.fullScreenErrorEventName,i),n.setFullPage(!1),n.isFullPage()&&(n.element.style.width=n.fullPageStyleWidth,n.element.style.height=n.fullPageStyleHeight)),n.navigator&&n.viewport&&n.navigator.update(n.viewport),n.raiseEvent("full-screen",{fullScreen:t})};e.addEvent(document,e.fullScreenEventName,i),e.addEvent(document,e.fullScreenErrorEventName,i),e.requestFullScreen(document.body)}else e.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(t){e.console.assert(t,"[Viewer.addTiledImage] options is required"),e.console.assert(t.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),e.console.assert(!t.replace||t.index>-1&&t.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var n=this;t.replace&&(t.replaceItem=n.world.getItemAt(t.index)),this._hideMessage(),void 0===t.placeholderFillStyle&&(t.placeholderFillStyle=this.placeholderFillStyle),void 0===t.opacity&&(t.opacity=this.opacity),void 0===t.preload&&(t.preload=this.preload),void 0===t.compositeOperation&&(t.compositeOperation=this.compositeOperation),void 0===t.crossOriginPolicy&&(t.crossOriginPolicy=void 0!==t.tileSource.crossOriginPolicy?t.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===t.ajaxWithCredentials&&(t.ajaxWithCredentials=this.ajaxWithCredentials),void 0===t.loadTilesWithAjax&&(t.loadTilesWithAjax=this.loadTilesWithAjax),void 0===t.ajaxHeaders||null===t.ajaxHeaders?t.ajaxHeaders=this.ajaxHeaders:e.isPlainObject(t.ajaxHeaders)&&e.isPlainObject(this.ajaxHeaders)&&(t.ajaxHeaders=e.extend({},this.ajaxHeaders,t.ajaxHeaders));var r={options:t};function i(e){for(var i=0;i<n._loadQueue.length;i++)if(n._loadQueue[i]===r){n._loadQueue.splice(i,1);break}0===n._loadQueue.length&&o(r),n.raiseEvent("add-item-failed",e),t.error&&t.error(e)}function o(e){n.collectionMode&&(n.world.arrange({immediately:e.options.collectionImmediately,rows:n.collectionRows,columns:n.collectionColumns,layout:n.collectionLayout,tileSize:n.collectionTileSize,tileMargin:n.collectionTileMargin}),n.world.setAutoRefigureSizes(!0))}function a(){for(var t,r,i;n._loadQueue.length&&(t=n._loadQueue[0]).tileSource;){if(n._loadQueue.splice(0,1),t.options.replace){var a=n.world.getIndexOfItem(t.options.replaceItem);-1!=a&&(t.options.index=a),n.world.removeItem(t.options.replaceItem)}r=new e.TiledImage({viewer:n,source:t.tileSource,viewport:n.viewport,drawer:n.drawer,tileCache:n.tileCache,imageLoader:n.imageLoader,x:t.options.x,y:t.options.y,width:t.options.width,height:t.options.height,fitBounds:t.options.fitBounds,fitBoundsPlacement:t.options.fitBoundsPlacement,clip:t.options.clip,placeholderFillStyle:t.options.placeholderFillStyle,opacity:t.options.opacity,preload:t.options.preload,degrees:t.options.degrees,compositeOperation:t.options.compositeOperation,springStiffness:n.springStiffness,animationTime:n.animationTime,minZoomImageRatio:n.minZoomImageRatio,wrapHorizontal:n.wrapHorizontal,wrapVertical:n.wrapVertical,immediateRender:n.immediateRender,blendTime:n.blendTime,alwaysBlend:n.alwaysBlend,minPixelRatio:n.minPixelRatio,smoothTileEdgesMinZoom:n.smoothTileEdgesMinZoom,iOSDevice:n.iOSDevice,crossOriginPolicy:t.options.crossOriginPolicy,ajaxWithCredentials:t.options.ajaxWithCredentials,loadTilesWithAjax:t.options.loadTilesWithAjax,ajaxHeaders:t.options.ajaxHeaders,debugMode:n.debugMode}),n.collectionMode&&n.world.setAutoRefigureSizes(!1),n.world.addItem(r,{index:t.options.index}),0===n._loadQueue.length&&o(t),1!==n.world.getItemCount()||n.preserveViewport||n.viewport.goHome(!0),n.navigator&&(i=e.extend({},t.options,{replace:!1,originalTiledImage:r,tileSource:t.tileSource}),n.navigator.addTiledImage(i)),t.options.success&&t.options.success({item:r})}}e.isArray(t.tileSource)?setTimeout(function(){i({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:t.tileSource,options:t})}):(this._loadQueue.push(r),function(t,n,r,i,o){var a=t;if("string"==e.type(n))if(n.match(/^\s*<.*>\s*$/))n=e.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var l=e.parseJSON(n);n=l}catch(e){}function s(e,t){e.ready?i(e):(e.addHandler("ready",function(){i(e)}),e.addHandler("open-failed",function(e){o({message:e.message,source:t})}))}setTimeout(function(){if("string"==e.type(n))(n=new e.TileSource({url:n,crossOriginPolicy:void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,ajaxHeaders:t.ajaxHeaders,useCanvas:t.useCanvas,success:function(e){i(e.tileSource)}})).addHandler("open-failed",function(e){o(e)});else if(e.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===r.crossOriginPolicy&&void 0===t.crossOriginPolicy||(n.crossOriginPolicy=void 0!==r.crossOriginPolicy?r.crossOriginPolicy:t.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=t.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=t.useCanvas),e.isFunction(n.getTileUrl)){var l=new e.TileSource(n);l.getTileUrl=n.getTileUrl,i(l)}else{var u=e.TileSource.determineType(a,n);if(!u)return void o({message:"Unable to load TileSource",source:n});var c=u.prototype.configure.apply(a,[n]);s(new u(c),n)}else s(n,n)})}(this,t.tileSource,t,function(e){r.tileSource=e,a()},function(e){e.options=t,i(e),a()}))},addSimpleImage:function(t){e.console.assert(t,"[Viewer.addSimpleImage] options is required"),e.console.assert(t.url,"[Viewer.addSimpleImage] options.url is required");var n=e.extend({},t,{tileSource:{type:"image",url:t.url}});delete n.url,this.addTiledImage(n)},addLayer:function(t){var n=this;e.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var r=e.extend({},t,{success:function(e){n.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){n.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(r),this},getLayerAtLevel:function(t){return e.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(t)},getLevelOfLayer:function(t){return e.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(t)},getLayersCount:function(){return e.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(t,n){return e.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(t,n)},removeLayer:function(t){return e.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(t)},forceRedraw:function(){return t[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var t=e.delegate(this,c),n=e.delegate(this,d),r=e.delegate(this,U),i=e.delegate(this,V),o=this.navImages,a=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(a=!1),this.previousButton=new e.Button({element:this.previousButton?e.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.PreviousPage"),srcRest:C(this.prefixUrl,o.previous.REST),srcGroup:C(this.prefixUrl,o.previous.GROUP),srcHover:C(this.prefixUrl,o.previous.HOVER),srcDown:C(this.prefixUrl,o.previous.DOWN),onRelease:i,onFocus:t,onBlur:n}),this.nextButton=new e.Button({element:this.nextButton?e.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.NextPage"),srcRest:C(this.prefixUrl,o.next.REST),srcGroup:C(this.prefixUrl,o.next.GROUP),srcHover:C(this.prefixUrl,o.next.HOVER),srcDown:C(this.prefixUrl,o.next.DOWN),onRelease:r,onFocus:t,onBlur:n}),this.navPrevNextWrap||this.previousButton.disable(),this.tileSources&&this.tileSources.length||this.nextButton.disable(),a&&(this.paging=new e.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:e.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var t=e.delegate(this,A),n=e.delegate(this,R),r=e.delegate(this,H),i=e.delegate(this,O),o=e.delegate(this,L),a=e.delegate(this,B),l=e.delegate(this,z),s=e.delegate(this,F),u=e.delegate(this,W),p=e.delegate(this,j),h=e.delegate(this,c),f=e.delegate(this,d),m=this.navImages,g=[],y=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(y=!1),this.showZoomControl&&(g.push(this.zoomInButton=new e.Button({element:this.zoomInButton?e.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomIn"),srcRest:C(this.prefixUrl,m.zoomIn.REST),srcGroup:C(this.prefixUrl,m.zoomIn.GROUP),srcHover:C(this.prefixUrl,m.zoomIn.HOVER),srcDown:C(this.prefixUrl,m.zoomIn.DOWN),onPress:t,onRelease:n,onClick:r,onEnter:t,onExit:n,onFocus:h,onBlur:f})),g.push(this.zoomOutButton=new e.Button({element:this.zoomOutButton?e.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.ZoomOut"),srcRest:C(this.prefixUrl,m.zoomOut.REST),srcGroup:C(this.prefixUrl,m.zoomOut.GROUP),srcHover:C(this.prefixUrl,m.zoomOut.HOVER),srcDown:C(this.prefixUrl,m.zoomOut.DOWN),onPress:i,onRelease:n,onClick:o,onEnter:i,onExit:n,onFocus:h,onBlur:f}))),this.showHomeControl&&g.push(this.homeButton=new e.Button({element:this.homeButton?e.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Home"),srcRest:C(this.prefixUrl,m.home.REST),srcGroup:C(this.prefixUrl,m.home.GROUP),srcHover:C(this.prefixUrl,m.home.HOVER),srcDown:C(this.prefixUrl,m.home.DOWN),onRelease:a,onFocus:h,onBlur:f})),this.showFullPageControl&&g.push(this.fullPageButton=new e.Button({element:this.fullPageButton?e.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.FullPage"),srcRest:C(this.prefixUrl,m.fullpage.REST),srcGroup:C(this.prefixUrl,m.fullpage.GROUP),srcHover:C(this.prefixUrl,m.fullpage.HOVER),srcDown:C(this.prefixUrl,m.fullpage.DOWN),onRelease:l,onFocus:h,onBlur:f})),this.showRotationControl&&(g.push(this.rotateLeftButton=new e.Button({element:this.rotateLeftButton?e.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateLeft"),srcRest:C(this.prefixUrl,m.rotateleft.REST),srcGroup:C(this.prefixUrl,m.rotateleft.GROUP),srcHover:C(this.prefixUrl,m.rotateleft.HOVER),srcDown:C(this.prefixUrl,m.rotateleft.DOWN),onRelease:s,onFocus:h,onBlur:f})),g.push(this.rotateRightButton=new e.Button({element:this.rotateRightButton?e.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.RotateRight"),srcRest:C(this.prefixUrl,m.rotateright.REST),srcGroup:C(this.prefixUrl,m.rotateright.GROUP),srcHover:C(this.prefixUrl,m.rotateright.HOVER),srcDown:C(this.prefixUrl,m.rotateright.DOWN),onRelease:u,onFocus:h,onBlur:f}))),this.showFlipControl&&g.push(this.flipButton=new e.Button({element:this.flipButton?e.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:e.getString("Tooltips.Flip"),srcRest:C(this.prefixUrl,m.flip.REST),srcGroup:C(this.prefixUrl,m.flip.GROUP),srcHover:C(this.prefixUrl,m.flip.HOVER),srcDown:C(this.prefixUrl,m.flip.DOWN),onRelease:p,onFocus:h,onBlur:f})),y&&(this.buttons=new e.ButtonGroup({buttons:g,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",e.delegate(this,N)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||e.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&e>=0&&e<this.tileSources.length&&(this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e),this.raiseEvent("page",{page:e})),this},addOverlay:function(t,n,r,a){var l;if(l=e.isPlainObject(t)?t:{element:t,location:n,placement:r,onDraw:a},t=e.getElement(l.element),o(this.currentOverlays,t)>=0)return this;var s=i(this,l);return this.currentOverlays.push(s),s.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:t,location:l.location,placement:l.placement}),this},updateOverlay:function(n,r,i){var a;return n=e.getElement(n),(a=o(this.currentOverlays,n))>=0&&(this.currentOverlays[a].update(r,i),t[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:n,location:r,placement:i})),this},removeOverlay:function(n){var r;return n=e.getElement(n),(r=o(this.currentOverlays,n))>=0&&(this.currentOverlays[r].destroy(),this.currentOverlays.splice(r,1),t[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:n})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return t[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(t){var n;return t=e.getElement(t),(n=o(this.currentOverlays,t))>=0?this.currentOverlays[n]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(e>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(t){this._hideMessage();var n=e.makeNeutralElement("div");n.appendChild(document.createTextNode(t)),this.messageDiv=e.makeCenteredNode(n),e.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new e.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else e.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(e){function t(e){var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",t),!t.preventDefaultAction&&e.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(e.position.x=this.viewport.getContainerSize().x-e.position.x);var n=this.viewport.pointFromPixel(e.position);this.panVertical?this.panHorizontal||(n.x=this.viewer.viewport.getCenter(!0).x):n.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(n),this.viewer.viewport.applyConstraints()}}function n(e){var t={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",t),!t.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.flipped&&(e.delta.x=-e.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function r(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function i(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function o(e,t){a(e,"rotate("+t+"deg)")}function a(e,t){e.style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t}e.Navigator=function(a){var l,s,u,c,d=a.viewer,p=this;function h(e){o(p.displayRegionContainer,e),o(p.displayRegion,-e),p.viewport.setRotation(e)}(a.id?(this.element=document.getElementById(a.id),a.controlOptions={anchor:e.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(a.id="navigator-"+e.now(),this.element=e.makeNeutralElement("div"),a.controlOptions={anchor:e.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:a.autoFade},a.position&&("BOTTOM_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==a.position?a.controlOptions.anchor=e.ControlAnchor.TOP_LEFT:"ABSOLUTE"==a.position&&(a.controlOptions.anchor=e.ControlAnchor.ABSOLUTE,a.controlOptions.top=a.top,a.controlOptions.left=a.left,a.controlOptions.height=a.height,a.controlOptions.width=a.width))),this.element.id=a.id,this.element.className+=" navigator",(a=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.navigatorSizeRatio},a,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:a.autoResize,minZoomImageRatio:1,background:a.background,opacity:a.opacity,borderColor:a.borderColor,displayRegionColor:a.displayRegionColor})).minPixelRatio=this.minPixelRatio=d.minPixelRatio,e.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new e.Point(1,1),this.totalBorderWidths=new e.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),a.controlOptions.anchor!=e.ControlAnchor.NONE&&(u=this.element.style,c=this.borderWidth,u.margin="0px",u.border=c+"px solid "+a.borderColor,u.padding="0px",u.background=a.background,u.opacity=a.opacity,u.overflow="hidden"),this.displayRegion=e.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(e,t){e.position="relative",e.top="0px",e.left="0px",e.fontSize="0px",e.overflow="hidden",e.border=t+"px solid "+a.displayRegionColor,e.margin="0px",e.padding="0px",e.background="transparent",e.float="left",e.cssFloat="left",e.styleFloat="left",e.zIndex=999999999,e.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=e.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",d.addControl(this.element,a.controlOptions),this._resizeWithViewer=a.controlOptions.anchor!=e.ControlAnchor.ABSOLUTE&&a.controlOptions.anchor!=e.ControlAnchor.NONE,this._resizeWithViewer&&(a.width&&a.height?(this.element.style.height="number"==typeof a.height?a.height+"px":a.height,this.element.style.width="number"==typeof a.width?a.width+"px":a.width):(l=e.getElementSize(d.element),this.element.style.height=Math.round(l.y*a.sizeRatio)+"px",this.element.style.width=Math.round(l.x*a.sizeRatio)+"px",this.oldViewerSize=l),s=e.getElementSize(this.element),this.elementArea=s.x*s.y),this.oldContainerSize=new e.Point(0,0),e.Viewer.apply(this,[a]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),a.navigatorRotate)&&(h(a.viewer.viewport?a.viewer.viewport.getRotation():a.viewer.degrees||0),a.viewer.addHandler("rotate",function(e){h(e.degrees)}));this.innerTracker.destroy(),this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),clickHandler:e.delegate(this,t),releaseHandler:e.delegate(this,r),scrollHandler:e.delegate(this,i)}),this.addHandler("reset-size",function(){p.viewport&&p.viewport.goHome(!0)}),d.world.addHandler("item-index-change",function(e){window.setTimeout(function(){var t=p.world.getItemAt(e.previousIndex);p.world.setItemIndex(t,e.newIndex)},1)}),d.world.addHandler("remove-item",function(e){var t=e.item,n=p._getMatchingItem(t);n&&p.world.removeItem(n)}),this.update(d.viewport)},e.extend(e.Navigator.prototype,e.EventSource.prototype,e.Viewer.prototype,{updateSize:function(){if(this.viewport){var t=new e.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);t.equals(this.oldContainerSize)||(this.viewport.resize(t,!0),this.viewport.goHome(!0),this.oldContainerSize=t,this.drawer.clear(),this.world.draw())}},setFlip:function(e){return this.viewport.setFlip(e),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(e){a(this.displayRegion,e),a(this.canvas,e),a(this.element,e)},update:function(t){var n,r,i,o,a,l;if(n=e.getElementSize(this.viewer.element),this._resizeWithViewer&&n.x&&n.y&&!n.equals(this.oldViewerSize)&&(this.oldViewerSize=n,this.maintainSizeRatio||!this.elementArea?(r=n.x*this.sizeRatio,i=n.y*this.sizeRatio):(r=Math.sqrt(this.elementArea*(n.x/n.y)),i=this.elementArea/r),this.element.style.width=Math.round(r)+"px",this.element.style.height=Math.round(i)+"px",this.elementArea||(this.elementArea=r*i),this.updateSize()),t&&this.viewport){o=t.getBoundsNoRotate(!0),a=this.viewport.pixelFromPointNoRotate(o.getTopLeft(),!1),l=this.viewport.pixelFromPointNoRotate(o.getBottomRight(),!1).minus(this.totalBorderWidths);var s=this.displayRegion.style;s.display=this.world.getItemCount()?"block":"none",s.top=Math.round(a.y)+"px",s.left=Math.round(a.x)+"px";var u=Math.abs(a.x-l.x),c=Math.abs(a.y-l.y);s.width=Math.round(Math.max(u,0))+"px",s.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(t){var n=this,r=t.originalTiledImage;delete t.original;var i=e.extend({},t,{success:function(e){var t=e.item;function i(){n._matchBounds(t,r)}t._originalForNavigator=r,n._matchBounds(t,r,!0),r.addHandler("bounds-change",i),r.addHandler("clip-change",i),r.addHandler("opacity-change",function(){n._matchOpacity(t,r)}),r.addHandler("composite-operation-change",function(){n._matchCompositeOperation(t,r)})}});return e.Viewer.prototype.addTiledImage.apply(this,[i])},_getMatchingItem:function(e){for(var t,n=this.world.getItemCount(),r=0;r<n;r++)if((t=this.world.getItemAt(r))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,n){var r=t.getBoundsNoRotate();e.setPosition(r.getTopLeft(),n),e.setWidth(r.width,n),e.setRotation(t.getRotation(),n),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(e){var t={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};e.extend(e,{getString:function(n){var r,i=n.split("."),o=null,a=arguments,l=t;for(r=0;r<i.length-1;r++)l=l[i[r]]||{};return"string"!=typeof(o=l[i[r]])&&(e.console.log("Untranslated source string:",n),o=""),o.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<a.length?a[t]:""})},setString:function(e,n){var r,i=e.split("."),o=t;for(r=0;r<i.length-1;r++)o[i[r]]||(o[i[r]]={}),o=o[i[r]];o[i[r]]=n}})}(OpenSeadragon),function(e){e.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},e.Point.prototype={clone:function(){return new e.Point(this.x,this.y)},plus:function(t){return new e.Point(this.x+t.x,this.y+t.y)},minus:function(t){return new e.Point(this.x-t.x,this.y-t.y)},times:function(t){return new e.Point(this.x*t,this.y*t)},divide:function(t){return new e.Point(this.x/t,this.y/t)},negate:function(){return new e.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(t){return new e.Point(t(this.x),t(this.y))},equals:function(t){return t instanceof e.Point&&this.x===t.x&&this.y===t.y},rotate:function(t,n){var r,i;if(n=n||new e.Point(0,0),t%90==0){switch(e.positiveModulo(t,360)){case 0:r=1,i=0;break;case 90:r=0,i=1;break;case 180:r=-1,i=0;break;case 270:r=0,i=-1}}else{var o=t*Math.PI/180;r=Math.cos(o),i=Math.sin(o)}var a=r*(this.x-n.x)-i*(this.y-n.y)+n.x,l=i*(this.x-n.x)+r*(this.y-n.y)+n.y;return new e.Point(a,l)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(e){e.TileSource=function(t,n,r,i,o,a){var l,s,u=this,c=arguments;if(l=e.isPlainObject(t)?t:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},e.EventSource.call(this),e.extend(!0,this,l),!this.success)for(s=0;s<arguments.length;s++)if(e.isFunction(arguments[s])){this.success=arguments[s];break}this.success&&this.addHandler("ready",function(e){u.success(e)}),"string"==e.type(arguments[0])&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new e.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=l.width&&l.height?l.width/l.height:1,this.dimensions=new e.Point(l.width,l.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=l.tileOverlap?l.tileOverlap:0,this.minLevel=l.minLevel?l.minLevel:0,this.maxLevel=void 0!==l.maxLevel&&null!==l.maxLevel?l.maxLevel:l.width&&l.height?Math.ceil(Math.log(Math.max(l.width,l.height))/Math.log(2)):0,this.success&&e.isFunction(this.success)&&this.success(this))},e.TileSource.prototype={getTileSize:function(t){return e.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,n={};for(t=0;t<=this.maxLevel;t++)n[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return n[e]},this.getLevelScale(e)},getNumTiles:function(t){var n=this.getLevelScale(t),r=Math.ceil(n*this.dimensions.x/this.getTileWidth(t)),i=Math.ceil(n*this.dimensions.y/this.getTileHeight(t));return new e.Point(r,i)},getPixelRatio:function(t){var n=this.dimensions.times(this.getLevelScale(t)),r=1/n.x,i=1/n.y;return new e.Point(r,i)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!((t=this.getNumTiles(e)).x>1||t.y>1);e++);return e-1},getTileAtPoint:function(t,n){var r=n.x>=0&&n.x<=1&&n.y>=0&&n.y<=1/this.aspectRatio;e.console.assert(r,"[TileSource.getTileAtPoint] must be called with a valid point.");var i=this.dimensions.x*this.getLevelScale(t),o=n.x*i,a=n.y*i,l=Math.floor(o/this.getTileWidth(t)),s=Math.floor(a/this.getTileHeight(t));n.x>=1&&(l=this.getNumTiles(t).x-1);return n.y>=1/this.aspectRatio-1e-15&&(s=this.getNumTiles(t).y-1),new e.Point(l,s)},getTileBounds:function(t,n,r,i){var o=this.dimensions.times(this.getLevelScale(t)),a=this.getTileWidth(t),l=this.getTileHeight(t),s=0===n?0:a*n-this.tileOverlap,u=0===r?0:l*r-this.tileOverlap,c=a+(0===n?1:2)*this.tileOverlap,d=l+(0===r?1:2)*this.tileOverlap,p=1/o.x;return c=Math.min(c,o.x-s),d=Math.min(d,o.y-u),i?new e.Rect(0,0,c,d):new e.Rect(s*p,u*p,c*p,d*p)},getImageInfo:function(t){var n,r,i,o,a,l,s,u=this;t&&(s=(l=(a=t.split("/"))[a.length-1]).lastIndexOf("."))>-1&&(a[a.length-1]=l.slice(0,s)),r=function(n){"string"==typeof n&&(n=e.parseXml(n));var r=e.TileSource.determineType(u,n,t);r?(void 0===(o=r.prototype.configure.apply(u,[n,t])).ajaxWithCredentials&&(o.ajaxWithCredentials=u.ajaxWithCredentials),i=new r(o),u.ready=!0,u.raiseEvent("ready",{tileSource:i})):u.raiseEvent("open-failed",{message:"Unable to load TileSource",source:t})},t.match(/\.js$/)?(n=t.split("/").pop().replace(".js",""),e.jsonp({url:t,async:!1,callbackName:n,callback:r})):e.makeAjaxRequest({url:t,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(t){var n=function(t){var n,r,i=t.responseText,o=t.status;if(!t)throw new Error(e.getString("Errors.Security"));if(200!==t.status&&0!==t.status)throw o=t.status,n=404==o?"Not Found":t.statusText,new Error(e.getString("Errors.Status",o,n));if(i.match(/\s*<.*/))try{r=t.responseXML&&t.responseXML.documentElement?t.responseXML:e.parseXml(i)}catch(e){r=t.responseText}else if(i.match(/\s*[\{\[].*/))try{r=e.parseJSON(i)}catch(e){r=i}else r=i;return r}(t);r(n)},error:function(e,n){var r;try{r="HTTP "+e.status+" attempting to load TileSource"}catch(e){r=(void 0!==n&&n.toString?n.toString():"Unknown error")+" attempting to load TileSource"}u.raiseEvent("open-failed",{message:r,source:t})}})},supports:function(e,t){return!1},configure:function(e,t){throw new Error("Method not implemented.")},getTileUrl:function(e,t,n){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(e,t,n){return{}},tileExists:function(e,t,n){var r=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&t>=0&&n>=0&&t<r.x&&n<r.y}},e.extend(!0,e.TileSource.prototype,e.EventSource.prototype),e.TileSource.determineType=function(t,n,r){var i;for(i in OpenSeadragon)if(i.match(/.+TileSource$/)&&e.isFunction(OpenSeadragon[i])&&e.isFunction(OpenSeadragon[i].prototype.supports)&&OpenSeadragon[i].prototype.supports.call(t,n,r))return OpenSeadragon[i];e.console.error("No TileSource was able to open %s %s",r,n)}}(OpenSeadragon),function(e){function t(t,n){var r,i,o=n.Image,a=o.Url,l=o.Format,s=o.Size,u=o.DisplayRect||[],c=parseInt(s.Width,10),d=parseInt(s.Height,10),p=parseInt(o.TileSize,10),h=parseInt(o.Overlap,10),f=[];for(i=0;i<u.length;i++)r=u[i].Rect,f.push(new e.DisplayRect(parseInt(r.X,10),parseInt(r.Y,10),parseInt(r.Width,10),parseInt(r.Height,10),parseInt(r.MinLevel,10),parseInt(r.MaxLevel,10)));return e.extend(!0,{width:c,height:d,tileSize:p,tileOverlap:h,minLevel:null,maxLevel:null,tilesUrl:a,fileFormat:l,displayRects:f},n)}e.DziTileSource=function(t,n,r,i,o,a,l,s,u){var c,d,p,h;if(h=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=h.tilesUrl,this.fileFormat=h.fileFormat,this.displayRects=h.displayRects,this.displayRects)for(c=this.displayRects.length-1;c>=0;c--)for(p=(d=this.displayRects[c]).minLevel;p<=d.maxLevel;p++)this._levelRects[p]||(this._levelRects[p]=[]),this._levelRects[p].push(d);e.TileSource.apply(this,[h])},e.extend(e.DziTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){var n;return e.Image?n=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(n=e.documentElement.namespaceURI)),-1!==(n=(n||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==n.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(n,r){var i;return i=e.isPlainObject(n)?t(this,n):function(n,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a,l,s,u=r.documentElement,c=u.localName||u.tagName,d=r.documentElement.namespaceURI,p=null,h=[];if("Image"==c)try{if(void 0===(l=u.getElementsByTagName("Size")[0])&&(l=u.getElementsByTagNameNS(d,"Size")[0]),p={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:u.getAttribute("Url"),Format:u.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(u.getAttribute("Overlap"),10),TileSize:parseInt(u.getAttribute("TileSize"),10),Size:{Height:parseInt(l.getAttribute("Height"),10),Width:parseInt(l.getAttribute("Width"),10)}}},!e.imageFormatSupported(p.Image.Format))throw new Error(e.getString("Errors.ImageFormat",p.Image.Format.toUpperCase()));for(void 0===(i=u.getElementsByTagName("DisplayRect"))&&(i=u.getElementsByTagNameNS(d,"DisplayRect")[0]),s=0;s<i.length;s++)o=i[s],void 0===(a=o.getElementsByTagName("Rect")[0])&&(a=o.getElementsByTagNameNS(d,"Rect")[0]),h.push({Rect:{X:parseInt(a.getAttribute("X"),10),Y:parseInt(a.getAttribute("Y"),10),Width:parseInt(a.getAttribute("Width"),10),Height:parseInt(a.getAttribute("Height"),10),MinLevel:parseInt(o.getAttribute("MinLevel"),10),MaxLevel:parseInt(o.getAttribute("MaxLevel"),10)}});return h.length&&(p.Image.DisplayRect=h),t(n,p)}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.Dzi"))}else{if("Collection"==c)throw new Error(e.getString("Errors.Dzc"));if("Error"==c){var f=u.getElementsByTagName("Message")[0],m=f.firstChild.nodeValue;throw new Error(m)}}throw new Error(e.getString("Errors.Dzi"))}(this,n),r&&!i.tilesUrl&&(i.tilesUrl=r.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=r.search(/\.(dzi|xml|js)\?/)?i.queryParams=r.match(/\?.*/):i.queryParams=""),i},getTileUrl:function(e,t,n){return[this.tilesUrl,e,"/",t,"_",n,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,n){var r,i,o,a,l,s,u,c=this._levelRects[e];if(this.minLevel&&e<this.minLevel||this.maxLevel&&e>this.maxLevel)return!1;if(!c||!c.length)return!0;for(u=c.length-1;u>=0;u--)if(!(e<(r=c[u]).minLevel||e>r.maxLevel)&&(i=this.getLevelScale(e),o=r.x*i,a=r.y*i,l=o+r.width*i,s=a+r.height*i,o=Math.floor(o/this._tileWidth),a=Math.floor(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),s=Math.ceil(s/this._tileWidth),o<=t&&t<l&&a<=n&&n<s))return!0;return!1}})}(OpenSeadragon),function(e){e.IIIFTileSource=function(t){if(e.extend(!0,this,t),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(t.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)t.tileWidth=this.tile_width,t.tileHeight=this.tile_height;else if(this.tile_width)t.tileSize=this.tile_width;else if(this.tile_height)t.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)t.tileWidth=this.tiles[0].width,t.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var n=0;n<this.tiles.length;n++)for(var r=0;r<this.tiles[n].scaleFactors.length;r++){var i=this.tiles[n].scaleFactors[r];this.scale_factors.push(i),t.tileSizePerScaleFactor[i]={width:this.tiles[n].width,height:this.tiles[n].height||this.tiles[n].width}}}else if(u=t.profile,-1==["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(u[0])||-1!=u.indexOf("sizeByW")){for(var o=Math.min(this.height,this.width),a=[256,512,1024],l=[],s=0;s<a.length;s++)a[s]<=o&&l.push(a[s]);l.length>0?t.tileSize=Math.max.apply(null,l):t.tileSize=o}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,t.levels=function(e){for(var t=[],n=0;n<e.sizes.length;n++)t.push({url:e["@id"]+"/full/"+e.sizes[n].width+",/0/default.jpg",width:e.sizes[n].width,height:e.sizes[n].height});return t.sort(function(e,t){return e.width-t.width})}(this),e.extend(!0,t,{width:t.levels[t.levels.length-1].width,height:t.levels[t.levels.length-1].height,tileSize:Math.max(t.height,t.width),tileOverlap:0,minLevel:0,maxLevel:t.levels.length-1}),this.levels=t.levels):e.console.error("Nothing in the info.json to construct image pyramids from");var u;if(!t.maxLevel&&!this.emulateLegacyImagePyramid)if(this.scale_factors){var c=Math.max.apply(null,this.scale_factors);t.maxLevel=Math.round(Math.log(c)*Math.LOG2E)}else t.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));e.TileSource.apply(this,[t])},e.extend(e.IIIFTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return!(!e.protocol||"http://iiif.io/api/image"!=e.protocol)||(!(!e["@context"]||"http://library.stanford.edu/iiif/image-api/1.1/context.json"!=e["@context"]&&"http://iiif.io/api/image/1/context.json"!=e["@context"])||(!(!e.profile||0!==e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html"))||(!!(e.identifier&&e.width&&e.height)||!(!e.documentElement||"info"!=e.documentElement.tagName||"http://library.stanford.edu/iiif/image-api/ns/"!=e.documentElement.namespaceURI))))},configure:function(t,n){if(e.isPlainObject(t))return t["@context"]?t:(t["@context"]="http://iiif.io/api/image/1.0/context.json",t["@id"]=n.replace("/info.json",""),t);var r=function(t){if(!t||!t.documentElement)throw new Error(e.getString("Errors.Xml"));var n=t.documentElement,r=n.tagName,i=null;if("info"==r)try{return function t(n,r,i){var o,a;if(3==n.nodeType&&i)(a=n.nodeValue.trim()).match(/^\d*$/)&&(a=Number(a)),r[i]?(e.isArray(r[i])||(r[i]=[r[i]]),r[i].push(a)):r[i]=a;else if(1==n.nodeType)for(o=0;o<n.childNodes.length;o++)t(n.childNodes[o],r,n.nodeName)}(n,i={}),i}catch(t){throw t instanceof Error?t:new Error(e.getString("Errors.IIIF"))}throw new Error(e.getString("Errors.IIIF"))}(t);return r["@context"]="http://iiif.io/api/image/1.0/context.json",r["@id"]=n.replace("/info.xml",""),r},getTileWidth:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileWidth.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].width:this._tileWidth},getTileHeight:function(t){if(this.emulateLegacyImagePyramid)return e.TileSource.prototype.getTileHeight.call(this,t);var n=Math.pow(2,this.maxLevel-t);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[n]?this.tileSizePerScaleFactor[n].height:this._tileHeight},getLevelScale:function(t){if(this.emulateLegacyImagePyramid){var n=NaN;return this.levels.length>0&&t>=this.minLevel&&t<=this.maxLevel&&(n=this.levels[t].width/this.levels[this.maxLevel].width),n}return e.TileSource.prototype.getLevelScale.call(this,t)},getNumTiles:function(t){return this.emulateLegacyImagePyramid?this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0):e.TileSource.prototype.getNumTiles.call(this,t)},getTileAtPoint:function(t,n){return this.emulateLegacyImagePyramid?new e.Point(0,0):e.TileSource.prototype.getTileAtPoint.call(this,t,n)},getTileUrl:function(e,t,n){if(this.emulateLegacyImagePyramid){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}var i,o,a,l,s,u,c,d,p,h,f,m=Math.pow(.5,this.maxLevel-e),g=Math.ceil(this.width*m),y=Math.ceil(this.height*m);return i=this.getTileWidth(e),o=this.getTileHeight(e),a=Math.ceil(i/m),l=Math.ceil(o/m),f=this["@context"].indexOf("/1.0/context.json")>-1||this["@context"].indexOf("/1.1/context.json")>-1||this["@context"].indexOf("/1/context.json")>-1?"native.jpg":"default.jpg",g<i&&y<o?(h=g+",",s="full"):(u=t*a,c=n*l,d=Math.min(a,this.width-u),p=Math.min(l,this.height-c),h=Math.ceil(d*m)+",",s=[u,c,d,p].join(",")),[this["@id"],s,h,"0",f].join("/")}})}(OpenSeadragon),function(e){e.OsmTileSource=function(t,n,r,i,o){var a;(a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]}).width&&a.height||(a.width=65572864,a.height=65572864),a.tileSize||(a.tileSize=256,a.tileOverlap=0),a.tilesUrl||(a.tilesUrl="http://tile.openstreetmap.org/"),a.minLevel=8,e.TileSource.apply(this,[a])},e.extend(e.OsmTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"openstreetmaps"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){return this.tilesUrl+(e-8)+"/"+t+"/"+n+".png"}})}(OpenSeadragon),function(e){e.TmsTileSource=function(t,n,r,i,o){var a;a=e.isPlainObject(t)?t:{width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var l,s=256*Math.ceil(a.width/256),u=256*Math.ceil(a.height/256);l=s>u?s/256:u/256,a.maxLevel=Math.ceil(Math.log(l)/Math.log(2))-1,a.tileSize=256,a.width=s,a.height=u,e.TileSource.apply(this,[a])},e.extend(e.TmsTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"tiledmapservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(r-n)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,n){return{x:Math.ceil(e/n),y:Math.ceil(t/n)}},_calculateAbsoluteTileNumber:function(e,t,n){for(var r=0,i={},o=0;o<e;o++)r+=(i=this.gridSize[o]).x*i.y;return r+=(i=this.gridSize[e]).x*n+t},supports:function(e,t){return e.type&&"zoomifytileservice"==e.type},configure:function(e,t){return e},getTileUrl:function(e,t,n){var r,i=this._calculateAbsoluteTileNumber(e,t,n);return r=Math.floor(i/256),this.tilesUrl+"TileGroup"+r+"/"+e+"-"+t+"-"+n+".jpg"}})}(OpenSeadragon),function(e){function t(e,t){return t.levels}e.LegacyTileSource=function(t){var n,r,i;e.isArray(t)&&(n={type:"legacy-image-pyramid",levels:t}),n.levels=function(t){var n,r,i=[];for(r=0;r<t.length;r++)(n=t[r]).height&&n.width&&n.url?i.push({url:n.url,width:Number(n.width),height:Number(n.height)}):e.console.error("Unsupported image format: %s",n.url?n.url:"<no URL>");return i.sort(function(e,t){return e.height-t.height})}(n.levels),n.levels.length>0?(r=n.levels[n.levels.length-1].width,i=n.levels[n.levels.length-1].height):(r=0,i=0,e.console.error("No supported image formats found")),e.extend(!0,n,{width:r,height:i,tileSize:Math.max(i,r),tileOverlap:0,minLevel:0,maxLevel:n.levels.length>0?n.levels.length-1:0}),e.TileSource.apply(this,[n]),this.levels=n.levels},e.extend(e.LegacyTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(n,r){return e.isPlainObject(n)?t(this,n):function(n,r){if(!r||!r.documentElement)throw new Error(e.getString("Errors.Xml"));var i,o,a=r.documentElement,l=a.tagName,s=null,u=[];if("image"==l)try{for(s={type:a.getAttribute("type"),levels:[]},u=a.getElementsByTagName("level"),o=0;o<u.length;o++)i=u[o],s.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return t(n,s)}catch(e){throw e instanceof Error?e:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==l)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==l)throw new Error("Error: "+r)}throw new Error("Unknown element "+l)}(this,n)},getLevelScale:function(e){var t=NaN;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return this.levels.length>0&&e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r}})}(OpenSeadragon),function(e){e.ImageTileSource=function(t){t=e.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},t),e.TileSource.apply(this,[t])},e.extend(e.ImageTileSource.prototype,e.TileSource.prototype,{supports:function(e,t){return e.type&&"image"===e.type},configure:function(e,t){return e},getImageInfo:function(t){var n=this._image=new Image,r=this;this.crossOriginPolicy&&(n.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(n.useCredentials=this.ajaxWithCredentials),e.addEvent(n,"load",function(){r.width=Object.prototype.hasOwnProperty.call(n,"naturalWidth")?n.naturalWidth:n.width,r.height=Object.prototype.hasOwnProperty.call(n,"naturalHeight")?n.naturalHeight:n.height,r.aspectRatio=r.width/r.height,r.dimensions=new e.Point(r.width,r.height),r._tileWidth=r.width,r._tileHeight=r.height,r.tileOverlap=0,r.minLevel=0,r.levels=r._buildLevels(),r.maxLevel=r.levels.length-1,r.ready=!0,r.raiseEvent("ready",{tileSource:r})}),e.addEvent(n,"error",function(){r.raiseEvent("open-failed",{message:"Error loading image at "+t,source:t})}),n.src=t},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(t){return this.getLevelScale(t)?new e.Point(1,1):new e.Point(0,0)},getTileUrl:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].url),r},getContext2D:function(e,t,n){var r=null;return e>=this.minLevel&&e<=this.maxLevel&&(r=this.levels[e].context2D),r},_buildLevels:function(){var t=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!e.supportsCanvas||!this.useCanvas)return delete this._image,t;var n=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,r=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,i=document.createElement("canvas"),o=i.getContext("2d");if(i.width=n,i.height=r,o.drawImage(this._image,0,0,n,r),t[0].context2D=o,delete this._image,e.isCanvasTainted(i))return t;for(;n>=2&&r>=2;){n=Math.floor(n/2),r=Math.floor(r/2);var a=document.createElement("canvas"),l=a.getContext("2d");a.width=n,a.height=r,l.drawImage(i,0,0,n,r),t.splice(0,0,{context2D:l,width:n,height:r}),i=a,o=l}return t}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(t,n,r,i){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(e){function t(n){e.requestAnimationFrame(function(){!function(n){var r,i,o;n.shouldFade&&(r=e.now(),i=r-n.fadeBeginTime,o=1-i/n.fadeLength,o=Math.min(1,o),o=Math.max(0,o),n.imgGroup&&e.setElementOpacity(n.imgGroup,o,!0),o>0&&t(n))}(n)})}function n(t,n){t.element.disabled||(n>=e.ButtonState.GROUP&&t.currentState==e.ButtonState.REST&&(!function(t){t.shouldFade=!1,t.imgGroup&&e.setElementOpacity(t.imgGroup,1,!0)}(t),t.currentState=e.ButtonState.GROUP),n>=e.ButtonState.HOVER&&t.currentState==e.ButtonState.GROUP&&(t.imgHover&&(t.imgHover.style.visibility=""),t.currentState=e.ButtonState.HOVER),n>=e.ButtonState.DOWN&&t.currentState==e.ButtonState.HOVER&&(t.imgDown&&(t.imgDown.style.visibility=""),t.currentState=e.ButtonState.DOWN))}function r(n,r){n.element.disabled||(r<=e.ButtonState.HOVER&&n.currentState==e.ButtonState.DOWN&&(n.imgDown&&(n.imgDown.style.visibility="hidden"),n.currentState=e.ButtonState.HOVER),r<=e.ButtonState.GROUP&&n.currentState==e.ButtonState.HOVER&&(n.imgHover&&(n.imgHover.style.visibility="hidden"),n.currentState=e.ButtonState.GROUP),r<=e.ButtonState.REST&&n.currentState==e.ButtonState.GROUP&&(!function(n){n.shouldFade=!0,n.fadeBeginTime=e.now()+n.fadeDelay,window.setTimeout(function(){t(n)},n.fadeDelay)}(n),n.currentState=e.ButtonState.REST))}e.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},e.Button=function(t){var i=this;e.EventSource.call(this),e.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},t),this.element=t.element||e.makeNeutralElement("div"),t.element||(this.imgRest=e.makeTransparentImage(this.srcRest),this.imgGroup=e.makeTransparentImage(this.srcGroup),this.imgHover=e.makeTransparentImage(this.srcHover),this.imgDown=e.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",e.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",e.Browser.vendor==e.BROWSERS.FIREFOX&&e.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=e.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(t){t.insideElementPressed?(n(i,e.ButtonState.DOWN),i.raiseEvent("enter",{originalEvent:t.originalEvent})):t.buttonDownAny||n(i,e.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),i.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(t){r(i,e.ButtonState.GROUP),t.insideElementPressed&&i.raiseEvent("exit",{originalEvent:t.originalEvent})},blurHandler:function(e){this.exitHandler(e),i.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(t){n(i,e.ButtonState.DOWN),i.raiseEvent("press",{originalEvent:t.originalEvent})},releaseHandler:function(t){t.insideElementPressed&&t.insideElementReleased?(r(i,e.ButtonState.HOVER),i.raiseEvent("release",{originalEvent:t.originalEvent})):t.insideElementPressed?r(i,e.ButtonState.GROUP):n(i,e.ButtonState.HOVER)},clickHandler:function(e){e.quick&&i.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(i.raiseEvent("click",{originalEvent:e.originalEvent}),i.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),r(this,e.ButtonState.REST)},e.extend(e.Button.prototype,e.EventSource.prototype,{notifyGroupEnter:function(){n(this,e.ButtonState.GROUP)},notifyGroupExit:function(){r(this,e.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,e.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,e.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(e){e.ButtonGroup=function(t){e.extend(!0,this,{buttons:[],clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:e.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},t);var n,r=this.buttons.concat([]),i=this;if(this.element=t.element||e.makeNeutralElement("div"),!t.group)for(this.label=e.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),n=0;n<r.length;n++)this.element.appendChild(r[n].element);e.setElementTouchActionNone(this.element),this.tracker=new e.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){var t;for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<i.buttons.length;t++)i.buttons[t].notifyGroupExit()}})},e.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(e){e.Rect=function(t,n,r,i,o){var a,l;this.x="number"==typeof t?t:0,this.y="number"==typeof n?n:0,this.width="number"==typeof r?r:0,this.height="number"==typeof i?i:0,this.degrees="number"==typeof o?o:0,this.degrees=e.positiveModulo(this.degrees,360),this.degrees>=270?(a=this.getTopRight(),this.x=a.x,this.y=a.y,l=this.height,this.height=this.width,this.width=l,this.degrees-=270):this.degrees>=180?(a=this.getBottomRight(),this.x=a.x,this.y=a.y,this.degrees-=180):this.degrees>=90&&(a=this.getBottomLeft(),this.x=a.x,this.y=a.y,l=this.height,this.height=this.width,this.width=l,this.degrees-=90)},e.Rect.fromSummits=function(t,n,r){var i=t.distanceTo(n),o=t.distanceTo(r),a=n.minus(t),l=Math.atan(a.y/a.x);return a.x<0?l+=Math.PI:a.y<0&&(l+=2*Math.PI),new e.Rect(t.x,t.y,i,o,l/Math.PI*180)},e.Rect.prototype={clone:function(){return new e.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new e.Point(this.x,this.y)},getBottomRight:function(){return new e.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new e.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new e.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new e.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new e.Point(this.width,this.height)},equals:function(t){return t instanceof e.Rect&&this.x===t.x&&this.y===t.y&&this.width===t.width&&this.height===t.height&&this.degrees===t.degrees},times:function(t){return new e.Rect(this.x*t,this.y*t,this.width*t,this.height*t,this.degrees)},translate:function(t){return new e.Rect(this.x+t.x,this.y+t.y,this.width,this.height,this.degrees)},union:function(t){var n=this.getBoundingBox(),r=t.getBoundingBox(),i=Math.min(n.x,r.x),o=Math.min(n.y,r.y),a=Math.max(n.x+n.width,r.x+r.width),l=Math.max(n.y+n.height,r.y+r.height);return new e.Rect(i,o,a-i,l-o)},intersection:function(t){var n=1e-10,r=[],i=this.getTopLeft();t.containsPoint(i,n)&&r.push(i);var o=this.getTopRight();t.containsPoint(o,n)&&r.push(o);var a=this.getBottomLeft();t.containsPoint(a,n)&&r.push(a);var l=this.getBottomRight();t.containsPoint(l,n)&&r.push(l);var s=t.getTopLeft();this.containsPoint(s,n)&&r.push(s);var u=t.getTopRight();this.containsPoint(u,n)&&r.push(u);var c=t.getBottomLeft();this.containsPoint(c,n)&&r.push(c);var d=t.getBottomRight();this.containsPoint(d,n)&&r.push(d);for(var p=this._getSegments(),h=t._getSegments(),f=0;f<p.length;f++)for(var m=p[f],g=0;g<h.length;g++){var y=h[g],v=x(m[0],m[1],y[0],y[1]);v&&r.push(v)}function x(t,r,i,o){var a=r.minus(t),l=o.minus(i),s=-l.x*a.y+a.x*l.y;if(0===s)return null;var u=(a.x*(t.y-i.y)-a.y*(t.x-i.x))/s,c=(l.x*(t.y-i.y)-l.y*(t.x-i.x))/s;return-n<=u&&u<=1-n&&-n<=c&&c<=1-n?new e.Point(t.x+c*a.x,t.y+c*a.y):null}if(0===r.length)return null;for(var b=r[0].x,w=r[0].x,k=r[0].y,_=r[0].y,T=1;T<r.length;T++){var S=r[T];S.x<b&&(b=S.x),S.x>w&&(w=S.x),S.y<k&&(k=S.y),S.y>_&&(_=S.y)}return new e.Rect(b,k,w-b,_-k)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),n=this.getBottomLeft(),r=this.getBottomRight();return[[e,t],[t,r],[r,n],[n,e]]},rotate:function(t,n){if(0===(t=e.positiveModulo(t,360)))return this.clone();n=n||this.getCenter();var r=this.getTopLeft().rotate(t,n),i=this.getTopRight().rotate(t,n).minus(r);i=i.apply(function(e){return Math.abs(e)<1e-15?0:e});var o=Math.atan(i.y/i.x);return i.x<0?o+=Math.PI:i.y<0&&(o+=2*Math.PI),new e.Rect(r.x,r.y,this.width,this.height,o/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var t=this.getTopLeft(),n=this.getTopRight(),r=this.getBottomLeft(),i=this.getBottomRight(),o=Math.min(t.x,n.x,r.x,i.x),a=Math.max(t.x,n.x,r.x,i.x),l=Math.min(t.y,n.y,r.y,i.y),s=Math.max(t.y,n.y,r.y,i.y);return new e.Rect(o,l,a-o,s-l)},getIntegerBoundingBox:function(){var t=this.getBoundingBox(),n=Math.floor(t.x),r=Math.floor(t.y),i=Math.ceil(t.width+t.x-n),o=Math.ceil(t.height+t.y-r);return new e.Rect(n,r,i,o)},containsPoint:function(e,t){t=t||0;var n=this.getTopLeft(),r=this.getTopRight(),i=this.getBottomLeft(),o=r.minus(n),a=i.minus(n);return(e.x-n.x)*o.x+(e.y-n.y)*o.y>=-t&&(e.x-r.x)*o.x+(e.y-r.y)*o.y<=t&&(e.x-n.x)*a.x+(e.y-n.y)*a.y>=-t&&(e.x-i.x)*a.x+(e.y-i.y)*a.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(e){var t={};function n(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),l=e.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?-t.delta.x>0?n>-(o-l.x)&&(this.element.style.marginLeft=n+2*t.delta.x+"px",i(this,l.x,n+2*t.delta.x)):-t.delta.x<0&&n<0&&(this.element.style.marginLeft=n+2*t.delta.x+"px",i(this,l.x,n+2*t.delta.x)):-t.delta.y>0?r>-(a-l.y)&&(this.element.style.marginTop=r+2*t.delta.y+"px",i(this,l.y,r+2*t.delta.y)):-t.delta.y<0&&r<0&&(this.element.style.marginTop=r+2*t.delta.y+"px",i(this,l.y,r+2*t.delta.y))),!1}function r(t){var n=Number(this.element.style.marginLeft.replace("px","")),r=Number(this.element.style.marginTop.replace("px","")),o=Number(this.element.style.width.replace("px","")),a=Number(this.element.style.height.replace("px","")),l=e.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?t.scroll>0?n>-(o-l.x)&&(this.element.style.marginLeft=n-60*t.scroll+"px",i(this,l.x,n-60*t.scroll)):t.scroll<0&&n<0&&(this.element.style.marginLeft=n-60*t.scroll+"px",i(this,l.x,n-60*t.scroll)):t.scroll<0?r>l.y-a&&(this.element.style.marginTop=r+60*t.scroll+"px",i(this,l.y,r+60*t.scroll)):t.scroll>0&&r<0&&(this.element.style.marginTop=r+60*t.scroll+"px",i(this,l.y,r+60*t.scroll))),!1}function i(t,n,r){var i,o,a,l,s,u,c;for(i="horizontal"==t.scroll?t.panelWidth:t.panelHeight,o=Math.ceil(n/i)+5,u=o=(o=(a=Math.ceil((Math.abs(r)+n)/i)+1)-o)<0?0:o;u<a&&u<t.panels.length;u++)if(!(c=t.panels[u]).activePanel){var d,p=t.viewer.tileSources[u];d=p.referenceStripThumbnailUrl?{type:"image",url:p.referenceStripThumbnailUrl}:p,(l=new e.Viewer({id:c.id,tileSources:[d],element:c,navigatorSizeRatio:t.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=e.makeNeutralElement("div"),l.displayRegion.id=c.id+"-displayregion",l.displayRegion.className="displayregion",(s=l.displayRegion.style).position="relative",s.top="0px",s.left="0px",s.fontSize="0px",s.overflow="hidden",s.float="left",s.cssFloat="left",s.styleFloat="left",s.zIndex=999999999,s.cursor="default",s.width=t.panelWidth-4+"px",s.height=t.panelHeight-4+"px",l.displayRegion.innerTracker=new e.MouseTracker({element:l.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(l.displayRegion),t.miniViewers[c.id]=l,c.activePanel=!0}}function o(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function a(t){var n=t.eventSource.element;return"horizontal"==this.scroll?n.style.marginBottom="-"+e.getElementSize(n).y/2+"px":n.style.marginLeft="-"+e.getElementSize(n).x/2+"px",!1}function l(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function s(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return r.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return r.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}e.ReferenceStrip=function(u){var c,d,p,h=u.viewer,f=e.getElementSize(h.element);for(u.id||(u.id="referencestrip-"+e.now(),this.element=e.makeNeutralElement("div"),this.element.id=u.id,this.element.className="referencestrip"),u=e.extend(!0,{sizeRatio:e.DEFAULT_SETTINGS.referenceStripSizeRatio,position:e.DEFAULT_SETTINGS.referenceStripPosition,scroll:e.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:e.DEFAULT_SETTINGS.clickTimeThreshold},u,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),e.extend(this,u),t[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(d=this.element.style).marginTop="0px",d.marginRight="0px",d.marginBottom="0px",d.marginLeft="0px",d.left="0px",d.bottom="0px",d.border="0px",d.background="#000",d.position="relative",e.setElementTouchActionNone(this.element),e.setElementOpacity(this.element,.8),this.viewer=h,this.innerTracker=new e.MouseTracker({element:this.element,dragHandler:e.delegate(this,n),scrollHandler:e.delegate(this,r),enterHandler:e.delegate(this,o),exitHandler:e.delegate(this,a),keyDownHandler:e.delegate(this,l),keyHandler:e.delegate(this,s)}),u.width&&u.height?(this.element.style.width=u.width+"px",this.element.style.height=u.height+"px",h.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):"horizontal"==u.scroll?(this.element.style.width=f.x*u.sizeRatio*h.tileSources.length+12*h.tileSources.length+"px",this.element.style.height=f.y*u.sizeRatio+"px",h.addControl(this.element,{anchor:e.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=f.y*u.sizeRatio*h.tileSources.length+12*h.tileSources.length+"px",this.element.style.width=f.x*u.sizeRatio+"px",h.addControl(this.element,{anchor:e.ControlAnchor.TOP_LEFT})),this.panelWidth=f.x*this.sizeRatio+8,this.panelHeight=f.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},p=0;p<h.tileSources.length;p++)(c=e.makeNeutralElement("div")).id=this.element.id+"-"+p,c.style.width=this.panelWidth+"px",c.style.height=this.panelHeight+"px",c.style.display="inline",c.style.float="left",c.style.cssFloat="left",c.style.styleFloat="left",c.style.padding="2px",e.setElementTouchActionNone(c),c.innerTracker=new e.MouseTracker({element:c,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(t){t.eventSource.dragging=e.now()},releaseHandler:function(t){var n=t.eventSource,r=n.element.id,i=Number(r.split("-")[2]),o=e.now();t.insideElementPressed&&t.insideElementReleased&&n.dragging&&o-n.dragging<n.clickTimeThreshold&&(n.dragging=null,h.goToPage(i))}}),this.element.appendChild(c),c.activePanel=!1,this.panels.push(c);i(this,"vertical"==this.scroll?f.y:f.x,0),this.setFocus(0)},e.extend(e.ReferenceStrip.prototype,e.EventSource.prototype,e.Viewer.prototype,{setFocus:function(t){var n,r=e.getElement(this.element.id+"-"+t),a=e.getElementSize(this.viewer.canvas),l=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),u=-Number(this.element.style.marginLeft.replace("px","")),c=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==r&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=r,this.currentSelected.style.background="#999","horizontal"==this.scroll?(n=Number(t)*(this.panelWidth+3))>u+a.x-this.panelWidth?(n=Math.min(n,l-a.x),this.element.style.marginLeft=-n+"px",i(this,a.x,-n)):n<u&&(n=Math.max(0,n-a.x/2),this.element.style.marginLeft=-n+"px",i(this,a.x,-n)):(n=Number(t)*(this.panelHeight+3))>c+a.y-this.panelHeight?(n=Math.min(n,s-a.y),this.element.style.marginTop=-n+"px",i(this,a.y,-n)):n<c&&(n=Math.max(0,n-a.y/2),this.element.style.marginTop=-n+"px",i(this,a.y,-n)),this.currentPage=t,o.call(this,{eventSource:this.innerTracker}))},update:function(){return!!t[this.id].animating&&(e.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(e){e.DisplayRect=function(t,n,r,i,o,a){e.Rect.apply(this,[t,n,r,i]),this.minLevel=o,this.maxLevel=a},e.extend(e.DisplayRect.prototype,e.Rect.prototype)}(OpenSeadragon),function(e){e.Spring=function(t){var n=arguments;"object"!=typeof t&&(t={initial:n.length&&"number"==typeof n[0]?n[0]:void 0,springStiffness:n.length>1?n[1].springStiffness:5,animationTime:n.length>1?n[1].animationTime:1.5}),e.console.assert("number"==typeof t.springStiffness&&0!==t.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),e.console.assert("number"==typeof t.animationTime&&t.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),t.exponential&&(this._exponential=!0,delete t.exponential),e.extend(!0,this,t),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:e.now()},e.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},e.Spring.prototype={resetTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=t,this.start.time=this.target.time=this.current.time=e.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(t){e.console.assert(!this._exponential||0!==t,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=t,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(t){this.start.value+=t,this.target.value+=t,this._exponential&&(e.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(t){this._exponential=t,this._exponential&&(e.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var t,n;this.current.time=e.now(),this._exponential?(t=this.start._logValue,n=this.target._logValue):(t=this.start.value,n=this.target.value);var r,i,o=this.current.time>=this.target.time?n:t+(n-t)*(r=this.springStiffness,i=(this.current.time-this.start.time)/(this.target.time-this.start.time),(1-Math.exp(r*-i))/(1-Math.exp(-r))),a=this.current.value;return this._exponential?this.current.value=Math.exp(o):this.current.value=o,a!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(e){function t(t){e.extend(!0,this,{timeout:e.DEFAULT_SETTINGS.timeout,jobId:null},t),this.image=null}t.prototype={errorMsg:null,start:function(){var t=this,n=this.abort;this.image=new Image,this.image.onload=function(){t.finish(!0)},this.image.onabort=this.image.onerror=function(){t.errorMsg="Image load aborted",t.finish(!1)},this.jobId=window.setTimeout(function(){t.errorMsg="Image load exceeded timeout",t.finish(!1)},this.timeout),this.loadWithAjax?(this.request=e.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var n;try{n=new window.Blob([e.response])}catch(t){var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===t.name&&r){var i=new r;i.append(e.response),n=i.getBlob()}}0===n.size&&(t.errorMsg="Empty image response.",t.finish(!1));var o=(window.URL||window.webkitURL).createObjectURL(n);t.image.src=o},error:function(e){t.errorMsg="Image load aborted - XHR error",t.finish(!1)}}),this.abort=function(){t.request.abort(),"function"==typeof n&&n()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},e.ImageLoader=function(t){e.extend(!0,this,{jobLimit:e.DEFAULT_SETTINGS.imageLoaderLimit,timeout:e.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},t)},e.ImageLoader.prototype={addJob:function(e){var n=this,r=new t({src:e.src,loadWithAjax:e.loadWithAjax,ajaxHeaders:e.loadWithAjax?e.ajaxHeaders:null,crossOriginPolicy:e.crossOriginPolicy,ajaxWithCredentials:e.ajaxWithCredentials,callback:function(t){!function(e,t,n){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&e.jobQueue.length>0&&(e.jobQueue.shift().start(),e.jobsInProgress++),n(t.image,t.errorMsg,t.request)}(n,t,e.callback)},abort:e.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(r.start(),this.jobsInProgress++):this.jobQueue.push(r)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(e){e.Tile=function(e,t,n,r,i,o,a,l,s,u){this.level=e,this.x=t,this.y=n,this.bounds=r,this.sourceBounds=u,this.exists=i,this.url=o,this.context2D=a,this.loadWithAjax=l,this.ajaxHeaders=s,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},e.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(t){this.cacheImageRecord?this.loaded?(this.element||(this.element=e.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=t&&t.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",e.setElementOpacity(this.element,this.opacity)):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):e.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(t,n,r,i){var o,a,l,s=this.position.times(e.pixelDensityRatio),u=this.size.times(e.pixelDensityRatio);this.context2D||this.cacheImageRecord?(o=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&o?(t.save(),t.globalAlpha=this.opacity,"number"==typeof r&&1!==r&&(s=s.times(r),u=u.times(r)),i instanceof e.Point&&(s=s.plus(i)),1===t.globalAlpha&&this._hasTransparencyChannel()&&t.clearRect(s.x,s.y,u.x,u.y),n({context:t,tile:this,rendered:o}),this.sourceBounds?(a=Math.min(this.sourceBounds.width,o.canvas.width),l=Math.min(this.sourceBounds.height,o.canvas.height)):(a=o.canvas.width,l=o.canvas.height),t.drawImage(o.canvas,0,0,a,l,s.x,s.y,u.x,u.y),t.restore()):e.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):e.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var t;if(this.cacheImageRecord)t=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return e.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;t=this.context2D}return t.canvas.width/(this.size.x*e.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(t,n,r){var i=Math.max(1,Math.ceil((r.x-n.x)/2)),o=Math.max(1,Math.ceil((r.y-n.y)/2));return new e.Point(i,o).minus(this.position.times(e.pixelDensityRatio).times(t||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(e){e.OverlayPlacement=e.Placement,e.OverlayRotationMode=e.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),e.Overlay=function(t,n,r){var i;i=e.isPlainObject(t)?t:{element:t,location:n,placement:r},this.element=i.element,this.style=i.element.style,this._init(i)},e.Overlay.prototype={_init:function(t){this.location=t.location,this.placement=void 0===t.placement?e.Placement.TOP_LEFT:t.placement,this.onDraw=t.onDraw,this.checkResize=void 0===t.checkResize||t.checkResize,this.width=void 0===t.width?null:t.width,this.height=void 0===t.height?null:t.height,this.rotationMode=t.rotationMode||e.OverlayRotationMode.EXACT,this.location instanceof e.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=e.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new e.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(t,n){var r=e.Placement.properties[this.placement];r&&(r.isHorizontallyCentered?t.x-=n.x/2:r.isRight&&(t.x-=n.x),r.isVerticallyCentered?t.y-=n.y/2:r.isBottom&&(t.y-=n.y))},destroy:function(){var t=this.element,n=this.style;t.parentNode&&(t.parentNode.removeChild(t),t.prevElementParent&&(n.display="none",document.body.appendChild(t))),this.onDraw=null,n.top="",n.left="",n.position="",null!==this.width&&(n.width=""),null!==this.height&&(n.height="");var r=e.getCssPropertyWithVendorPrefix("transformOrigin"),i=e.getCssPropertyWithVendorPrefix("transform");r&&i&&(n[r]="",n[i]="")},drawHTML:function(t,n){var r=this.element;r.parentNode!==t&&(r.prevElementParent=r.parentNode,r.prevNextSibling=r.nextSibling,t.appendChild(r),this.style.position="absolute",this.size=e.getElementSize(r));var i=this._getOverlayPositionAndSize(n),o=i.position,a=this.size=i.size,l=i.rotate;if(this.onDraw)this.onDraw(o,a,this.element);else{var s=this.style;s.left=o.x+"px",s.top=o.y+"px",null!==this.width&&(s.width=a.x+"px"),null!==this.height&&(s.height=a.y+"px");var u=e.getCssPropertyWithVendorPrefix("transformOrigin"),c=e.getCssPropertyWithVendorPrefix("transform");u&&c&&(l?(s[u]=this._getTransformOrigin(),s[c]="rotate("+l+"deg)"):(s[u]="",s[c]="")),"none"!==s.display&&(s.display="block")}},_getOverlayPositionAndSize:function(t){var n=t.pixelFromPoint(this.location,!0),r=this._getSizeInPixels(t);this.adjust(n,r);var i=0;if(t.degrees&&this.rotationMode!==e.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var o=new e.Rect(n.x,n.y,r.x,r.y),a=this._getBoundingBox(o,t.degrees);n=a.getTopLeft(),r=a.getSize()}else i=t.degrees;return{position:n,size:r,rotate:i}},_getSizeInPixels:function(t){var n=this.size.x,r=this.size.y;if(null!==this.width||null!==this.height){var i=t.deltaPixelsFromPointsNoRotate(new e.Point(this.width||0,this.height||0),!0);null!==this.width&&(n=i.x),null!==this.height&&(r=i.y)}if(this.checkResize&&(null===this.width||null===this.height)){var o=this.size=e.getElementSize(this.element);null===this.width&&(n=o.x),null===this.height&&(r=o.y)}return new e.Point(n,r)},_getBoundingBox:function(e,t){var n=this._getPlacementPoint(e);return e.rotate(t,n).getBoundingBox()},_getPlacementPoint:function(t){var n=new e.Point(t.x,t.y),r=e.Placement.properties[this.placement];return r&&(r.isHorizontallyCentered?n.x+=t.width/2:r.isRight&&(n.x+=t.width),r.isVerticallyCentered?n.y+=t.height/2:r.isBottom&&(n.y+=t.height)),n},_getTransformOrigin:function(){var t="",n=e.Placement.properties[this.placement];return n?(n.isLeft?t="left":n.isRight&&(t="right"),n.isTop?t+=" top":n.isBottom&&(t+=" bottom"),t):t},update:function(t,n){var r=e.isPlainObject(t)?t:{location:t,placement:n};this._init({location:r.location||this.location,placement:void 0!==r.placement?r.placement:this.placement,onDraw:r.onDraw||this.onDraw,checkResize:r.checkResize||this.checkResize,width:void 0!==r.width?r.width:this.width,height:void 0!==r.height?r.height:this.height,rotationMode:r.rotationMode||this.rotationMode})},getBounds:function(t){e.console.assert(t,"A viewport must now be passed to Overlay.getBounds.");var n=this.width,r=this.height;if(null===n||null===r){var i=t.deltaPointsFromPixelsNoRotate(this.size,!0);null===n&&(n=i.x),null===r&&(r=i.y)}var o=this.location.clone();return this.adjust(o,new e.Point(n,r)),this._adjustBoundsForRotation(t,new e.Rect(o.x,o.y,n,r))},_adjustBoundsForRotation:function(t,n){if(!t||0===t.degrees||this.rotationMode===e.OverlayRotationMode.EXACT)return n;if(this.rotationMode===e.OverlayRotationMode.BOUNDING_BOX){if(null===this.width||null===this.height)return n;var r=this._getOverlayPositionAndSize(t);return t.viewerElementToViewportRectangle(new e.Rect(r.position.x,r.position.y,r.size.x,r.size.y))}return n.rotate(-t.degrees,this._getPlacementPoint(n))}}}(OpenSeadragon),function(e){e.Drawer=function(t){e.console.assert(t.viewer,"[Drawer] options.viewer is required");var n=arguments;if(e.isPlainObject(t)||(t={source:n[0],viewport:n[1],element:n[2]}),e.console.assert(t.viewport,"[Drawer] options.viewport is required"),e.console.assert(t.element,"[Drawer] options.element is required"),t.source&&e.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=t.viewer,this.viewport=t.viewport,this.debugGridColor="string"==typeof t.debugGridColor?[t.debugGridColor]:t.debugGridColor||e.DEFAULT_SETTINGS.debugGridColor,t.opacity&&e.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=e.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=e.getElement(t.element),this.canvas=e.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var r=this._calculateCanvasSize();this.canvas.width=r.x,this.canvas.height=r.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",e.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},e.Drawer.prototype={addOverlay:function(t,n,r,i){return e.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(t,n,r,i),this},updateOverlay:function(t,n,r){return e.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(t,n,r),this},removeOverlay:function(t){return e.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(t),this},clearOverlays:function(){return e.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(t){e.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var n=this.viewer.world,r=0;r<n.getItemCount();r++)n.getItemAt(r).setOpacity(t);return this},getOpacity:function(){e.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var t=this.viewer.world,n=0,r=0;r<t.getItemCount();r++){var i=t.getItemAt(r).getOpacity();i>n&&(n=i)}return n},needsUpdate:function(){return e.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return e.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return e.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return e.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var n=this._getContext(e);if(t)n.clearRect(t.x,t.y,t.width,t.height);else{var r=n.canvas;n.clearRect(0,0,r.width,r.height)}}},viewportToDrawerRectangle:function(t){var n=this.viewport.pixelFromPointNoRotate(t.getTopLeft(),!0),r=this.viewport.deltaPixelsFromPointsNoRotate(t.getSize(),!0);return new e.Rect(n.x*e.pixelDensityRatio,n.y*e.pixelDensityRatio,r.x*e.pixelDensityRatio,r.y*e.pixelDensityRatio)},drawTile:function(t,n,r,i,o){if(e.console.assert(t,"[Drawer.drawTile] tile is required"),e.console.assert(n,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var a=this._getContext(r);i=i||1,t.drawCanvas(a,n,i,o)}else t.drawHTML(this.canvas)},_getContext:function(e){var t=this.context;if(e){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var n=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=n.x,this.sketchCanvas.height=n.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var r=this;this.viewer.addHandler("rotate",function e(){if(0!==r.viewport.getRotation()){r.viewer.removeHandler("rotate",e);var t=r._calculateSketchCanvasSize();r.sketchCanvas.width=t.x,r.sketchCanvas.height=t.y}})}}t=this.sketchContext}return t},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var n=this._getContext(t);n.beginPath(),n.rect(e.x,e.y,e.width,e.height),n.clip()}},drawRectangle:function(e,t,n){if(this.useCanvas){var r=this._getContext(n);r.save(),r.fillStyle=t,r.fillRect(e.x,e.y,e.width,e.height),r.restore()}},blendSketch:function(t,n,r,i){var o=t;if(e.isPlainObject(o)||(o={opacity:t,scale:n,translate:r,compositeOperation:i}),this.useCanvas&&this.sketchCanvas){t=o.opacity,i=o.compositeOperation;var a=o.bounds;if(this.context.save(),this.context.globalAlpha=t,i&&(this.context.globalCompositeOperation=i),a)a.x<0&&(a.width+=a.x,a.x=0),a.x+a.width>this.canvas.width&&(a.width=this.canvas.width-a.x),a.y<0&&(a.height+=a.y,a.y=0),a.y+a.height>this.canvas.height&&(a.height=this.canvas.height-a.y),this.context.drawImage(this.sketchCanvas,a.x,a.y,a.width,a.height,a.x,a.y,a.width,a.height);else{n=o.scale||1;var l=(r=o.translate)instanceof e.Point?r:new e.Point(0,0),s=0,u=0;if(r){var c=this.sketchCanvas.width-this.canvas.width,d=this.sketchCanvas.height-this.canvas.height;s=Math.round(c/2),u=Math.round(d/2)}this.context.drawImage(this.sketchCanvas,l.x-s*n,l.y-u*n,(this.canvas.width+2*s)*n,(this.canvas.height+2*u)*n,-s,-u,this.canvas.width+2*s,this.canvas.height+2*u)}this.context.restore()}},drawDebugInfo:function(t,n,r,i){if(this.useCanvas){var o=this.viewer.world.getIndexOfItem(i)%this.debugGridColor.length,a=this.context;a.save(),a.lineWidth=2*e.pixelDensityRatio,a.font="small-caps bold "+13*e.pixelDensityRatio+"px arial",a.strokeStyle=this.debugGridColor[o],a.fillStyle=this.debugGridColor[o],0!==this.viewport.degrees?this._offsetForRotation({degrees:this.viewport.degrees}):this.viewer.viewport.flipped&&this._flip(),i.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:i.getRotation(!0),point:i.viewport.pixelFromPointNoRotate(i._getRotationPoint(!0),!0)}),a.strokeRect(t.position.x*e.pixelDensityRatio,t.position.y*e.pixelDensityRatio,t.size.x*e.pixelDensityRatio,t.size.y*e.pixelDensityRatio);var l=(t.position.x+t.size.x/2)*e.pixelDensityRatio,s=(t.position.y+t.size.y/2)*e.pixelDensityRatio;a.translate(l,s),a.rotate(Math.PI/180*-this.viewport.degrees),a.translate(-l,-s),0===t.x&&0===t.y&&(a.fillText("Zoom: "+this.viewport.getZoom(),t.position.x*e.pixelDensityRatio,(t.position.y-30)*e.pixelDensityRatio),a.fillText("Pan: "+this.viewport.getBounds().toString(),t.position.x*e.pixelDensityRatio,(t.position.y-20)*e.pixelDensityRatio)),a.fillText("Level: "+t.level,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+20)*e.pixelDensityRatio),a.fillText("Column: "+t.x,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+30)*e.pixelDensityRatio),a.fillText("Row: "+t.y,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+40)*e.pixelDensityRatio),a.fillText("Order: "+r+" of "+n,(t.position.x+10)*e.pixelDensityRatio,(t.position.y+50)*e.pixelDensityRatio),a.fillText("Size: "+t.size.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+60)*e.pixelDensityRatio),a.fillText("Position: "+t.position.toString(),(t.position.x+10)*e.pixelDensityRatio,(t.position.y+70)*e.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),i.getRotation(!0)%360!=0&&this._restoreRotationChanges(),a.restore()}},debugRect:function(t){if(this.useCanvas){var n=this.context;n.save(),n.lineWidth=2*e.pixelDensityRatio,n.strokeStyle=this.debugGridColor[0],n.fillStyle=this.debugGridColor[0],n.strokeRect(t.x*e.pixelDensityRatio,t.y*e.pixelDensityRatio,t.width*e.pixelDensityRatio,t.height*e.pixelDensityRatio),n.restore()}},getCanvasSize:function(t){var n=this._getContext(t).canvas;return new e.Point(n.width,n.height)},getCanvasCenter:function(){return new e.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(t){var n=t.point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.save(),r.translate(n.x,n.y),this.viewer.viewport.flipped?(r.rotate(Math.PI/180*-t.degrees),r.scale(-1,1)):r.rotate(Math.PI/180*t.degrees),r.translate(-n.x,-n.y)},_flip:function(t){var n=(t=t||{}).point?t.point.times(e.pixelDensityRatio):this.getCanvasCenter(),r=this._getContext(t.useSketch);r.translate(n.x,0),r.scale(-1,1),r.translate(-n.x,0)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var t=e.pixelDensityRatio,n=this.viewport.getContainerSize();return{x:n.x*t,y:n.y*t}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(e){e.Viewport=function(t){var n=arguments;n.length&&n[0]instanceof e.Point&&(t={containerSize:n[0],contentSize:n[1],config:n[2]}),t.config&&(e.extend(!0,t,t.config),delete t.config),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t.margins||{}),delete t.margins,e.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:e.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:e.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:e.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:e.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:e.DEFAULT_SETTINGS.maxZoomLevel,degrees:e.DEFAULT_SETTINGS.degrees,flipped:e.DEFAULT_SETTINGS.flipped,homeFillsViewer:e.DEFAULT_SETTINGS.homeFillsViewer},t),this._updateContainerInnerSize(),this.centerSpringX=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new e.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new e.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new e.Rect(0,0,1,1),1),this.goHome(!0),this.update()},e.Viewport.prototype={resetContentSize:function(t){return e.console.assert(t,"[Viewport.resetContentSize] contentSize is required"),e.console.assert(t instanceof e.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),e.console.assert(t.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),e.console.assert(t.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new e.Rect(0,0,1,t.y/t.x),t.x),this},setHomeBounds:function(t,n){e.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(t,n)},_setContentBounds:function(t,n){e.console.assert(t,"[Viewport._setContentBounds] bounds is required"),e.console.assert(t instanceof e.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),e.console.assert(t.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),e.console.assert(t.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=t.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(n),this._contentBounds=t.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(n),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:n,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?e>=1?e:1:e>=1?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var t=this._contentBounds.getCenter(),n=1/this.getHomeZoom(),r=n/this.getAspectRatio();return new e.Rect(t.x-n/2,t.y-r/2,n,r)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new e.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return e.extend({},this._margins)},setMargins:function(t){e.console.assert("object"===e.type(t),"[Viewport.setMargins] margins must be an object"),this._margins=e.extend({left:0,top:0,right:0,bottom:0},t),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(t){var n=this.getCenter(t),r=1/this.getZoom(t),i=r/this.getAspectRatio();return new e.Rect(n.x-r/2,n.y-i/2,r,i)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),n=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/n,t.y-=this._margins.top/n,t.width+=(this._margins.left+this._margins.right)/n,t.height+=(this._margins.top+this._margins.bottom)/n,t},getCenter:function(t){var n,r,i,o,a,l,s=new e.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),u=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return t?s:this.zoomPoint?(n=this.pixelFromPoint(this.zoomPoint,!0),o=(i=1/(r=this.getZoom()))/this.getAspectRatio(),a=new e.Rect(s.x-i/2,s.y-o/2,i,o),l=this._pixelFromPoint(this.zoomPoint,a).minus(n).divide(this._containerInnerSize.x*r),u.plus(l)):u},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(t){var n=new e.Rect(t.x,t.y,t.width,t.height);if(this.wrapHorizontal);else{var r=this.visibilityRatio*n.width,i=n.x+n.width,o=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,a=this._contentBoundsNoRotate.x-i+r,l=o-n.x-r;r>this._contentBoundsNoRotate.width?n.x+=(a+l)/2:l<0?n.x+=l:a>0&&(n.x+=a)}if(this.wrapVertical);else{var s=this.visibilityRatio*n.height,u=n.y+n.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,d=this._contentBoundsNoRotate.y-u+s,p=c-n.y-s;s>this._contentBoundsNoRotate.height?n.y+=(d+p)/2:p<0?n.y+=p:d>0&&(n.y+=d)}return n},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),n=this._applyZoomConstraints(t);t!==n&&this.zoomTo(n,this.zoomPoint,e);var r=this.getBoundsNoRotate(),i=this._applyBoundaryConstraints(r);return this._raiseConstraintsEvent(e),(r.x!==i.x||r.y!==i.y||e)&&this.fitBounds(i.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(t,n){var r=(n=n||{}).immediately||!1,i=n.constraints||!1,o=this.getAspectRatio(),a=t.getCenter(),l=new e.Rect(t.x,t.y,t.width,t.height,t.degrees+this.getRotation()).getBoundingBox();l.getAspectRatio()>=o?l.height=l.width/o:l.width=l.height*o,l.x=a.x-l.width/2,l.y=a.y-l.height/2;var s=1/l.width;if(i){var u=l.getAspectRatio(),c=this._applyZoomConstraints(s);s!==c&&(s=c,l.width=1/s,l.x=a.x-l.width/2,l.height=l.width/u,l.y=a.y-l.height/2),a=(l=this._applyBoundaryConstraints(l)).getCenter(),this._raiseConstraintsEvent(r)}if(r)return this.panTo(a,!0),this.zoomTo(s,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var d=this.getBounds(),p=this.getZoom();if(0===p||Math.abs(s/p-1)<1e-8)return this.zoomTo(s,!0),this.panTo(a,r);var h=(l=l.rotate(-this.getRotation())).getTopLeft().times(s).minus(d.getTopLeft().times(p)).divide(s-p);return this.zoomTo(s,h,r)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(t){var n=new e.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(n,t)},fitHorizontally:function(t){var n=new e.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(n,t)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(t,n){var r=new e.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(r.plus(t),n)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,n){return this.zoomTo(this.zoomSpring.target.value*e,t,n)},zoomTo:function(t,n,r){var i=this;return this.zoomPoint=n instanceof e.Point&&!isNaN(n.x)&&!isNaN(n.y)?n:null,r?this._adjustCenterSpringsForZoomPoint(function(){i.zoomSpring.resetTo(t)}):this.zoomSpring.springTo(t),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:t,refPoint:n,immediately:r}),this},setRotation:function(t){return this.viewer&&this.viewer.drawer.canRotate()?(this.degrees=e.positiveModulo(t,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:t}),this):this},getRotation:function(){return this.degrees},resize:function(e,t){var n,r=this.getBoundsNoRotate(),i=r;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(n=e.x/this.containerSize.x,i.width=r.width*n,i.height=i.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(i,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new e.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var n=this.pixelFromPoint(this.zoomPoint,!0).minus(t),r=this.deltaPointsFromPixels(n,!0);this.centerSpringX.shiftBy(r.x),this.centerSpringY.shiftBy(r.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(t,n){return t.minus(n.getTopLeft()).times(this._containerInnerSize.x/n.width).plus(new e.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(t,n){var r=this.getBoundsNoRotate(n);return t.minus(new e.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/r.width).plus(r.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t*this._contentSizeNoRotate.x/r,n*this._contentSizeNoRotate.x/r)},viewportToImageCoordinates:function(t,n){if(t instanceof e.Point)return this.viewportToImageCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===r){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(t,n,!0)}}return this._viewportToImageDelta(t-this._contentBoundsNoRotate.x,n-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(t,n){var r=this._contentBoundsNoRotate.width;return new e.Point(t/this._contentSizeNoRotate.x*r,n/this._contentSizeNoRotate.x*r)},imageToViewportCoordinates:function(t,n){if(t instanceof e.Point)return this.imageToViewportCoordinates(t.x,t.y);if(this.viewer){var r=this.viewer.world.getItemCount();if(r>1)e.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===r){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(t,n,!0)}}var i=this._imageToViewportDelta(t,n);return i.x+=this._contentBoundsNoRotate.x,i.y+=this._contentBoundsNoRotate.y,i},imageToViewportRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===a){return this.viewer.world.getItemAt(0).imageToViewportRectangle(t,n,r,i,!0)}}var l=this.imageToViewportCoordinates(o.x,o.y),s=this._imageToViewportDelta(o.width,o.height);return new e.Rect(l.x,l.y,s.x,s.y,o.degrees)},viewportToImageRectangle:function(t,n,r,i){var o=t;if(o instanceof e.Rect||(o=new e.Rect(t,n,r,i)),this.viewer){var a=this.viewer.world.getItemCount();if(a>1)e.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===a){return this.viewer.world.getItemAt(0).viewportToImageRectangle(t,n,r,i,!0)}}var l=this.viewportToImageCoordinates(o.x,o.y),s=this._viewportToImageDelta(o.width,o.height);return new e.Rect(l.x,l.y,s.x,s.y,o.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(n)},imageToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(t){return e.Rect.fromSummits(this.pointFromPixel(t.getTopLeft(),!0),this.pointFromPixel(t.getTopRight(),!0),this.pointFromPixel(t.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(t){return e.Rect.fromSummits(this.pixelFromPoint(t.getTopLeft(),!0),this.pixelFromPoint(t.getTopRight(),!0),this.pixelFromPoint(t.getBottomLeft(),!0))},windowToViewportCoordinates:function(t){e.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var n=t.minus(e.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(n)},viewportToWindowCoordinates:function(t){return e.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(t).plus(e.getElementPosition(this.viewer.element))},viewportToImageZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).viewportToImageZoom(t)}}var r=this._contentSizeNoRotate.x;return t*(this._containerInnerSize.x/r*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(t){if(this.viewer){var n=this.viewer.world.getItemCount();if(n>1)e.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===n){return this.viewer.world.getItemAt(0).imageToViewportZoom(t)}}return t*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(e){return this.flipped===e?this:(this.flipped=e,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:e}),this)}}}(OpenSeadragon),function(e){function t(e,t,r,i,o,a,s,u,c){var d=s.getBoundingBox().getTopLeft(),p=s.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:i,opacity:o,visibility:a,drawArea:s,topleft:d,bottomright:p,currenttime:u,best:c}),l(e.coverage,i),l(e.loadingCoverage,i);for(var h=e._getCornerTiles(i,d,p),f=h.topLeft,m=h.bottomRight,g=e.source.getNumTiles(i),y=e.viewport.pixelFromPoint(e.viewport.getCenter()),v=f.x;v<=m.x;v++)for(var x=f.y;x<=m.y;x++){if(!e.wrapHorizontal&&!e.wrapVertical){var b=e.source.getTileBounds(i,v,x);if(null===s.intersection(b))continue}c=n(e,r,t,v,x,i,o,a,y,g,u,c)}return c}function n(t,n,i,l,s,u,c,d,p,h,f,m){var g=function(t,n,r,i,o,a,l,s,u,c){var d,p,h,f,m,g,y,v,x;a[r]||(a[r]={});a[r][t]||(a[r][t]={});a[r][t][n]||(d=(s.x+t%s.x)%s.x,p=(s.y+n%s.y)%s.y,h=o.getTileBounds(r,d,p),f=o.getTileBounds(r,d,p,!0),m=o.tileExists(r,d,p),g=o.getTileUrl(r,d,p),i.loadTilesWithAjax?(y=o.getTileAjaxHeaders(r,d,p),e.isPlainObject(i.ajaxHeaders)&&(y=e.extend({},i.ajaxHeaders,y))):y=null,v=o.getContext2D?o.getContext2D(r,d,p):void 0,h.x+=(t-d)/s.x,h.y+=c/u*((n-p)/s.y),x=new e.Tile(r,t,n,h,m,g,v,i.loadTilesWithAjax,y,f),d===s.x-1&&(x.isRightMost=!0),p===s.y-1&&(x.isBottomMost=!0),a[r][t][n]=x);return(x=a[r][t][n]).lastTouchTime=l,x}(l,s,u,t,t.source,t.tilesMatrix,f,h,t._worldWidthCurrent,t._worldHeightCurrent),y=i;t.viewer&&t.viewer.raiseEvent("update-tile",{tiledImage:t,tile:g}),a(t.coverage,u,l,s,!1);var v=g.loaded||g.loading||o(t.loadingCoverage,u,l,s);if(a(t.loadingCoverage,u,l,s,v),!g.exists)return m;if(n&&!y&&(o(t.coverage,u,l,s)?a(t.coverage,u,l,s,!0):y=!0),!y)return m;if(function(t,n,r,i,o,a){var l=t.bounds.getTopLeft();l.x*=a._scaleSpring.current.value,l.y*=a._scaleSpring.current.value,l.x+=a._xSpring.current.value,l.y+=a._ySpring.current.value;var s=t.bounds.getSize();s.x*=a._scaleSpring.current.value,s.y*=a._scaleSpring.current.value;var u=r.pixelFromPointNoRotate(l,!0),c=r.pixelFromPointNoRotate(l,!1),d=r.deltaPixelsFromPointsNoRotate(s,!0),p=r.deltaPixelsFromPointsNoRotate(s,!1),h=c.plus(p.divide(2)),f=i.squaredDistanceTo(h);n||(d=d.plus(new e.Point(1,1)));t.isRightMost&&a.wrapHorizontal&&(d.x+=.75);t.isBottomMost&&a.wrapVertical&&(d.y+=.75);t.position=u,t.size=d,t.squaredDistance=f,t.visibility=o}(g,t.source.tileOverlap,t.viewport,p,d,t),!g.loaded)if(g.context2D)r(t,g);else{var x=t._tileCache.getImageRecord(g.cacheKey);if(x)r(t,g,x.getImage())}g.loaded?function(e,t,n,r,i,o,l){var s,u,c=1e3*e.blendTime;t.blendStart||(t.blendStart=l);s=l-t.blendStart,u=c?Math.min(1,s/c):1,e.alwaysBlend&&(u*=o);if(t.opacity=u,e.lastDrawn.push(t),1==u)a(e.coverage,i,n,r,!0),e._hasOpaqueTile=!0;else if(s<c)return!0;return!1}(t,g,l,s,u,c,f)&&(t._needsDraw=!0):g.loading?t._tilesLoading++:v||(m=function(e,t){if(!e)return t;if(t.visibility>e.visibility)return t;if(t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance)return t;return e}(m,g));return m}function r(e,t,n,r,i){var o=0;function a(){return o++,l}function l(){0===--o&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:n,tile:t,cutoff:r,tiledImage:e}),e._needsDraw=!0)}e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:i,image:n,getCompletionCallback:a}),a()()}function i(e,t,n,r){var i,o,a,l;if(!e[t])return!1;if(void 0===n||void 0===r){for(a in i=e[t])if(i.hasOwnProperty(a))for(l in o=i[a])if(o.hasOwnProperty(l)&&!o[l])return!1;return!0}return void 0===e[t][n]||void 0===e[t][n][r]||!0===e[t][n][r]}function o(e,t,n,r){return void 0===n||void 0===r?i(e,t+1):i(e,t+1,2*n,2*r)&&i(e,t+1,2*n,2*r+1)&&i(e,t+1,2*n+1,2*r)&&i(e,t+1,2*n+1,2*r+1)}function a(t,n,r,i,o){t[n]?(t[n][r]||(t[n][r]={}),t[n][r][i]=o):e.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",n)}function l(e,t){e[t]={}}e.TiledImage=function(t){var n=this;e.console.assert(t.tileCache,"[TiledImage] options.tileCache is required"),e.console.assert(t.drawer,"[TiledImage] options.drawer is required"),e.console.assert(t.viewer,"[TiledImage] options.viewer is required"),e.console.assert(t.imageLoader,"[TiledImage] options.imageLoader is required"),e.console.assert(t.source,"[TiledImage] options.source is required"),e.console.assert(!t.clip||t.clip instanceof e.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),e.EventSource.call(this),this._tileCache=t.tileCache,delete t.tileCache,this._drawer=t.drawer,delete t.drawer,this._imageLoader=t.imageLoader,delete t.imageLoader,t.clip instanceof e.Rect&&(this._clip=t.clip.clone()),delete t.clip;var r=t.x||0;delete t.x;var i=t.y||0;delete t.y,this.normHeight=t.source.dimensions.y/t.source.dimensions.x,this.contentAspectX=t.source.dimensions.x/t.source.dimensions.y;var o=1;t.width?(o=t.width,delete t.width,t.height&&(e.console.error("specifying both width and height to a tiledImage is not supported"),delete t.height)):t.height&&(o=t.height/this.normHeight,delete t.height);var a=t.fitBounds;delete t.fitBounds;var l=t.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete t.fitBoundsPlacement;var s=t.degrees||0;delete t.degrees,e.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:e.DEFAULT_SETTINGS.springStiffness,animationTime:e.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:e.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:e.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:e.DEFAULT_SETTINGS.wrapVertical,immediateRender:e.DEFAULT_SETTINGS.immediateRender,blendTime:e.DEFAULT_SETTINGS.blendTime,alwaysBlend:e.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:e.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:e.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:e.DEFAULT_SETTINGS.iOSDevice,debugMode:e.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:e.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:e.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:e.DEFAULT_SETTINGS.placeholderFillStyle,opacity:e.DEFAULT_SETTINGS.opacity,preload:e.DEFAULT_SETTINGS.preload,compositeOperation:e.DEFAULT_SETTINGS.compositeOperation},t),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new e.Spring({initial:r,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new e.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new e.Spring({initial:o,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new e.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),a&&this.fitBounds(a,l,!0),this._drawingHandler=function(t){n.viewer.raiseEvent("tile-drawing",e.extend({tiledImage:n},t))}},e.extend(e.TiledImage.prototype,e.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=e.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),n=this._scaleSpring.update(),r=this._degreesSpring.update();return!!(e||t||n||r)&&(this._updateForScale(),this._needsDraw=!0,!0)},draw:function(){0!==this.opacity||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(t){return t?new e.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new e.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return e.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(t){var n=this.getBoundsNoRotate(t);if(this._clip){var r=(t?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,i=this._clip.times(r);n=new e.Rect(n.x+i.x,n.y+i.y,i.width,i.height)}return n.rotate(this.getRotation(t),this._getRotationPoint(t))},getContentSize:function(){return new e.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t*(this.source.dimensions.x/i),n*(this.source.dimensions.y*this.contentAspectX/i))},viewportToImageCoordinates:function(t,n,r){var i;return t instanceof e.Point?(r=n,i=t):i=new e.Point(t,n),i=i.rotate(-this.getRotation(r),this._getRotationPoint(r)),r?this._viewportToImageDelta(i.x-this._xSpring.current.value,i.y-this._ySpring.current.value):this._viewportToImageDelta(i.x-this._xSpring.target.value,i.y-this._ySpring.target.value)},_imageToViewportDelta:function(t,n,r){var i=r?this._scaleSpring.current.value:this._scaleSpring.target.value;return new e.Point(t/this.source.dimensions.x*i,n/this.source.dimensions.y/this.contentAspectX*i)},imageToViewportCoordinates:function(t,n,r){t instanceof e.Point&&(r=n,n=t.y,t=t.x);var i=this._imageToViewportDelta(t,n);return r?(i.x+=this._xSpring.current.value,i.y+=this._ySpring.current.value):(i.x+=this._xSpring.target.value,i.y+=this._ySpring.target.value),i.rotate(this.getRotation(r),this._getRotationPoint(r))},imageToViewportRectangle:function(t,n,r,i,o){var a=t;a instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var l=this.imageToViewportCoordinates(a.getTopLeft(),o),s=this._imageToViewportDelta(a.width,a.height,o);return new e.Rect(l.x,l.y,s.x,s.y,a.degrees+this.getRotation(o))},viewportToImageRectangle:function(t,n,r,i,o){var a=t;t instanceof e.Rect?o=n:a=new e.Rect(t,n,r,i);var l=this.viewportToImageCoordinates(a.getTopLeft(),o),s=this._viewportToImageDelta(a.width,a.height,o);return new e.Rect(l.x,l.y,s.x,s.y,a.degrees-this.getRotation(o))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(t){var n=this._scaleSpring.current.value;return t=t.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new e.Rect((t.x-this._xSpring.current.value)/n,(t.y-this._ySpring.current.value)/n,t.width/n,t.height/n,t.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var n=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(n&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(n)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}n||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(t,n,r){n=n||e.Placement.CENTER;var i=e.Placement.properties[n],o=this.contentAspectX,a=0,l=0,s=1,u=1;if(this._clip&&(o=this._clip.getAspectRatio(),s=this._clip.width/this.source.dimensions.x,u=this._clip.height/this.source.dimensions.y,t.getAspectRatio()>o?(a=this._clip.x/this._clip.height*t.height,l=this._clip.y/this._clip.height*t.height):(a=this._clip.x/this._clip.width*t.width,l=this._clip.y/this._clip.width*t.width)),t.getAspectRatio()>o){var c=t.height/u,d=0;i.isHorizontallyCentered?d=(t.width-t.height*o)/2:i.isRight&&(d=t.width-t.height*o),this.setPosition(new e.Point(t.x-a+d,t.y-l),r),this.setHeight(c,r)}else{var p=t.width/s,h=0;i.isVerticallyCentered?h=(t.height-t.width/o)/2:i.isBottom&&(h=t.height-t.width/o),this.setPosition(new e.Point(t.x-a,t.y-l+h),r),this.setWidth(p,r)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(t){e.console.assert(!t||t instanceof e.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),t instanceof e.Rect?this._clip=t.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var n=this._scaleSpring.target.value===e;if(t){if(n&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(n)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}n||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,n=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return n=Math.max(n,this.source.minLevel||0),{lowestLevel:e=Math.min(e,n),highestLevel:n}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){this.lastDrawn.pop().beingDrawn=!1}var n=this.viewport,o=this._viewportToTiledImageRectangle(n.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var a=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(o=o.intersection(a)))return}for(var l=this._getLevelsInterval(),s=l.lowestLevel,u=l.highestLevel,c=null,d=!1,p=e.now(),h=u;h>=s;h--){var f=!1,m=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!0).x*this._scaleSpring.current.value;if(h===s||!d&&m>=this.minPixelRatio)f=!0,d=!0;else if(!d)continue;var g=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(h),!1).x*this._scaleSpring.current.value,y=n.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,v=this.immediateRender?1:y;if(c=t(this,d,f,h,Math.min(1,(m-.5)/.5),v/Math.abs(v-g),o,p,c),i(this.coverage,h))break}!function(t,n){if(0===t.opacity||0===n.length&&!t.placeholderFillStyle)return;var r,i,o,a=n[0];a&&(r=t.opacity<1||t.compositeOperation&&"source-over"!==t.compositeOperation||!t._isBottomItem()&&a._hasTransparencyChannel());var l,s=t.viewport.getZoom(!0),u=t.viewportToImageZoom(s);n.length>1&&u>t.smoothTileEdgesMinZoom&&!t.iOSDevice&&t.getRotation(!0)%360==0&&e.supportsCanvas&&(r=!0,i=a.getScaleForEdgeSmoothing(),o=a.getTranslationForEdgeSmoothing(i,t._drawer.getCanvasSize(!1),t._drawer.getCanvasSize(!0)));r&&(i||(l=t.viewport.viewportToViewerElementRectangle(t.getClippedBounds(!0)).getIntegerBoundingBox().times(e.pixelDensityRatio)),t._drawer._clear(!0,l));i||(0!==t.viewport.degrees?t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:r}):t._drawer.viewer.viewport.flipped&&t._drawer._flip({}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:r}));var c=!1;if(t._clip){t._drawer.saveContext(r);var d=t.imageToViewportRectangle(t._clip,!0);d=d.rotate(-t.getRotation(!0),t._getRotationPoint(!0));var p=t._drawer.viewportToDrawerRectangle(d);i&&(p=p.times(i)),o&&(p=p.translate(o)),t._drawer.setClip(p,r),c=!0}if(t.placeholderFillStyle&&!1===t._hasOpaqueTile){var h=t._drawer.viewportToDrawerRectangle(t.getBounds(!0));i&&(h=h.times(i)),o&&(h=h.translate(o));var f=null;f="function"==typeof t.placeholderFillStyle?t.placeholderFillStyle(t,t._drawer.context):t.placeholderFillStyle,t._drawer.drawRectangle(h,f,r)}for(var m=n.length-1;m>=0;m--)a=n[m],t._drawer.drawTile(a,t._drawingHandler,r,i,o),a.beingDrawn=!0,t.viewer&&t.viewer.raiseEvent("tile-drawn",{tiledImage:t,tile:a});c&&t._drawer.restoreContext(r);i||(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(r),0!==t.viewport.degrees?t._drawer._restoreRotationChanges(r):t._drawer.viewer.viewport.flipped&&t._drawer._flip({}));r&&(i&&(0!==t.viewport.degrees&&t._drawer._offsetForRotation({degrees:t.viewport.degrees,useSketch:!1}),t.getRotation(!0)%360!=0&&t._drawer._offsetForRotation({degrees:t.getRotation(!0),point:t.viewport.pixelFromPointNoRotate(t._getRotationPoint(!0),!0),useSketch:!1})),t._drawer.blendSketch({opacity:t.opacity,scale:i,translate:o,compositeOperation:t.compositeOperation,bounds:l}),i&&(t.getRotation(!0)%360!=0&&t._drawer._restoreRotationChanges(!1),0!==t.viewport.degrees&&t._drawer._restoreRotationChanges(!1)));!function(t,n){if(t.debugMode)for(var r=n.length-1;r>=0;r--){var i=n[r];try{t._drawer.drawDebugInfo(i,n.length,r,t)}catch(t){e.console.error(t)}}}(t,n)}(this,this.lastDrawn),c&&!c.context2D?(!function(t,n,i){n.loading=!0,t._imageLoader.addJob({src:n.url,loadWithAjax:n.loadWithAjax,ajaxHeaders:n.ajaxHeaders,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:function(o,a,l){!function(t,n,i,o,a,l){if(!o)return e.console.log("Tile %s failed to load: %s - error: %s",n,n.url,a),t.viewer.raiseEvent("tile-load-failed",{tile:n,tiledImage:t,time:i,message:a,tileRequest:l}),n.loading=!1,void(n.exists=!1);if(i<t.lastResetTime)return e.console.log("Ignoring tile %s loaded before reset: %s",n,n.url),void(n.loading=!1);var s=function(){var e=t.source.getClosestLevel();r(t,n,o,e,l)};t._midDraw?window.setTimeout(s,1):s()}(t,n,i,o,a,l)},abort:function(){n.loading=!1}})}(this,c,p),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(t,n,r){var i,o,a,l;this.wrapHorizontal?(i=e.positiveModulo(n.x,1),o=e.positiveModulo(r.x,1)):(i=Math.max(0,n.x),o=Math.min(1,r.x));var s=1/this.source.aspectRatio;this.wrapVertical?(a=e.positiveModulo(n.y,s),l=e.positiveModulo(r.y,s)):(a=Math.max(0,n.y),l=Math.min(s,r.y));var u=this.source.getTileAtPoint(t,new e.Point(i,a)),c=this.source.getTileAtPoint(t,new e.Point(o,l)),d=this.source.getNumTiles(t);return this.wrapHorizontal&&(u.x+=d.x*Math.floor(n.x),c.x+=d.x*Math.floor(r.x)),this.wrapVertical&&(u.y+=d.y*Math.floor(n.y/s),c.y+=d.y*Math.floor(r.y/s)),{topLeft:u,bottomRight:c}}})}(OpenSeadragon),function(e){var t=function(t){e.console.assert(t,"[TileCache.cacheTile] options is required"),e.console.assert(t.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(t.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=t.tile,this.tiledImage=t.tiledImage},n=function(t){e.console.assert(t,"[ImageRecord] options is required"),e.console.assert(t.image,"[ImageRecord] options.image is required"),this._image=t.image,this._tiles=[]};n.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(t){e.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=t},addTile:function(t){e.console.assert(t,"[ImageRecord.addTile] tile is required"),this._tiles.push(t)},removeTile:function(t){for(var n=0;n<this._tiles.length;n++)if(this._tiles[n]===t)return void this._tiles.splice(n,1);e.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",t)},getTileCount:function(){return this._tiles.length}},e.TileCache=function(t){t=t||{},this._maxImageCacheCount=t.maxImageCacheCount||e.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},e.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(r){e.console.assert(r,"[TileCache.cacheTile] options is required"),e.console.assert(r.tile,"[TileCache.cacheTile] options.tile is required"),e.console.assert(r.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),e.console.assert(r.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var i=r.cutoff||0,o=this._tilesLoaded.length,a=this._imagesLoaded[r.tile.cacheKey];if(a||(e.console.assert(r.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),a=this._imagesLoaded[r.tile.cacheKey]=new n({image:r.image}),this._imagesLoadedCount++),a.addTile(r.tile),r.tile.cacheImageRecord=a,this._imagesLoadedCount>this._maxImageCacheCount){for(var l,s,u,c,d,p,h=null,f=-1,m=null,g=this._tilesLoaded.length-1;g>=0;g--)(l=(p=this._tilesLoaded[g]).tile).level<=i||l.beingDrawn||(h?(c=l.lastTouchTime,s=h.lastTouchTime,d=l.level,u=h.level,(c<s||c==s&&d>u)&&(h=l,f=g,m=p)):(h=l,f=g,m=p));h&&f>=0&&(this._unloadTile(m),o=f)}this._tilesLoaded[o]=new t({tile:r.tile,tiledImage:r.tiledImage})},clearTilesFor:function(t){var n;e.console.assert(t,"[TileCache.clearTilesFor] tiledImage is required");for(var r=0;r<this._tilesLoaded.length;++r)(n=this._tilesLoaded[r]).tiledImage===t&&(this._unloadTile(n),this._tilesLoaded.splice(r,1),r--)},getImageRecord:function(t){return e.console.assert(t,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[t]},_unloadTile:function(t){e.console.assert(t,"[TileCache._unloadTile] tileRecord is required");var n=t.tile,r=t.tiledImage;n.unload(),n.cacheImageRecord=null;var i=this._imagesLoaded[n.cacheKey];i.removeTile(n),i.getTileCount()||(i.destroy(),delete this._imagesLoaded[n.cacheKey],this._imagesLoadedCount--),r.viewer.raiseEvent("tile-unloaded",{tile:n,tiledImage:r})}}}(OpenSeadragon),function(e){e.World=function(t){var n=this;e.console.assert(t.viewer,"[World] options.viewer is required"),e.EventSource.call(this),this.viewer=t.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(e){n._autoRefigureSizes?n._figureSizes():n._needsSizesFigured=!0},this._figureSizes()},e.extend(e.World.prototype,e.EventSource.prototype,{addItem:function(t,n){if(e.console.assert(t,"[World.addItem] item is required"),e.console.assert(t instanceof e.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(n=n||{}).index){var r=Math.max(0,Math.min(this._items.length,n.index));this._items.splice(r,0,t)}else this._items.push(t);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,t.addHandler("bounds-change",this._delegatedFigureSizes),t.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:t})},getItemAt:function(t){return e.console.assert(void 0!==t,"[World.getItemAt] index is required"),this._items[t]},getIndexOfItem:function(t){return e.console.assert(t,"[World.getIndexOfItem] item is required"),e.indexOf(this._items,t)},getItemCount:function(){return this._items.length},setItemIndex:function(t,n){e.console.assert(t,"[World.setItemIndex] item is required"),e.console.assert(void 0!==n,"[World.setItemIndex] index is required");var r=this.getIndexOfItem(t);if(n>=this._items.length)throw new Error("Index bigger than number of layers.");n!==r&&-1!==r&&(this._items.splice(r,1),this._items.splice(n,0,t),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:t,previousIndex:r,newIndex:n}))},removeItem:function(t){e.console.assert(t,"[World.removeItem] item is required");var n=e.indexOf(this._items,t);-1!==n&&(t.removeHandler("bounds-change",this._delegatedFigureSizes),t.removeHandler("clip-change",this._delegatedFigureSizes),t.destroy(),this._items.splice(n,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(t))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var n=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<n.length;t++)e=n[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){this._autoRefigureSizes=e,e&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(t){var n,r=(t=t||{}).immediately||!1,i=t.layout||e.DEFAULT_SETTINGS.collectionLayout,o=t.rows||e.DEFAULT_SETTINGS.collectionRows,a=t.columns||e.DEFAULT_SETTINGS.collectionColumns,l=t.tileSize||e.DEFAULT_SETTINGS.collectionTileSize,s=l+(t.tileMargin||e.DEFAULT_SETTINGS.collectionTileMargin);n=!t.rows&&a?a:Math.ceil(this._items.length/o);var u,c,d,p,h,f=0,m=0;this.setAutoRefigureSizes(!1);for(var g=0;g<this._items.length;g++)g&&g%n==0&&("horizontal"===i?(m+=s,f=0):(f+=s,m=0)),p=(d=(c=(u=this._items[g]).getBounds()).width>c.height?l:l*(c.width/c.height))*(c.height/c.width),h=new e.Point(f+(l-d)/2,m+(l-p)/2),u.setPosition(h,r),u.setWidth(d,r),"horizontal"===i?f+=s:m+=s;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var t=this._homeBounds?this._homeBounds.clone():null,n=this._contentSize?this._contentSize.clone():null,r=this._contentFactor||0;if(this._items.length){var i=this._items[0],o=i.getBounds();this._contentFactor=i.getContentSize().x/o.width;for(var a=i.getClippedBounds().getBoundingBox(),l=a.x,s=a.y,u=a.x+a.width,c=a.y+a.height,d=1;d<this._items.length;d++)o=(i=this._items[d]).getBounds(),this._contentFactor=Math.max(this._contentFactor,i.getContentSize().x/o.width),a=i.getClippedBounds().getBoundingBox(),l=Math.min(l,a.x),s=Math.min(s,a.y),u=Math.max(u,a.x+a.width),c=Math.max(c,a.y+a.height);this._homeBounds=new e.Rect(l,s,u-l,c-s),this._contentSize=new e.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new e.Rect(0,0,1,1),this._contentSize=new e.Point(1,1),this._contentFactor=1;this._contentFactor===r&&this._homeBounds.equals(t)&&this._contentSize.equals(n)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon)},function(e,t,n){var r=n(25),i=n(162),o=n(163),a="[object Null]",l="[object Undefined]",s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?l:a:s&&s in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(13).Symbol;e.exports=r},function(e,t,n){var r=n(28),i=n(50),o=n(52),a=n(11),l=n(34),s=n(35),u=200;e.exports=function(e,t,n,c){var d=-1,p=i,h=!0,f=e.length,m=[],g=t.length;if(!f)return m;n&&(t=a(t,l(n))),c?(p=o,h=!1):t.length>=u&&(p=s,h=!1,t=new r(t));e:for(;++d<f;){var y=e[d],v=null==n?y:n(y);if(y=c||0!==y?y:0,h&&v==v){for(var x=g;x--;)if(t[x]===v)continue e;m.push(y)}else p(t,v,c)||m.push(y)}return m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},function(e,t,n){var r=n(48),i=n(192),o=n(193);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},function(e,t,n){var r=n(18)(Object,"create");e.exports=r},function(e,t,n){var r=n(182),i=n(183),o=n(184),a=n(185),l=n(186);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=l,e.exports=s},function(e,t,n){var r=n(15);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(188);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(10),i=n(55),o=n(230),a=n(233);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(9);e.exports=function(e,t,n,i){for(var o=e.length,a=i?o:-1;(i?a--:++a<o)&&t(e[a],a,e););return n?r(e,i?0:a,i?a+1:o):r(e,i?a+1:0,i?o:a)}},function(e,t,n){var r=n(59),i=n(36),o=n(17),a=2147483647;e.exports=function(e,t,n){var l=0,s=null==e?l:e.length;if("number"==typeof t&&t==t&&s<=a){for(;l<s;){var u=l+s>>>1,c=e[u];null!==c&&!o(c)&&(n?c<=t:c<t)?l=u+1:s=u}return s}return r(e,t,i,n)}},function(e,t,n){"use strict";(function(t){var r=n(6),i=n(117),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,s={adapter:("undefined"!=typeof XMLHttpRequest?l=n(65):void 0!==t&&(l=n(65)),l),transformRequest:[function(e,t){return i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};s.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],function(e){s.headers[e]={}}),r.forEach(["post","put","patch"],function(e){s.headers[e]=r.merge(o)}),e.exports=s}).call(this,n(116))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var i,o,a=t.MODE_FACS="MODE_FACS",l=t.MODE_WORK="MODE_WORK",s=t.MODE_RAW="MODE_RAW",u=t.ENDPOINT_LIST="ENDPOINT_LIST",c=t.ENDPOINT_FACS="ENDPOINT_FACS",d=t.ENDPOINT_FILE="ENDPOINT_FILE",p=t.ENDPOINT_XSLT="ENDPOINT_XSLT",h=t.MIDI_PAUSE="MIDI_PAUSE",f=t.MIDI_PLAY="MIDI_PLAY",m=t.MIDI_STOP="MIDI_STOP";(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(i.register(a,"MODE_FACS","/home/bruckner/app/src/constants.js"),i.register(l,"MODE_WORK","/home/bruckner/app/src/constants.js"),i.register(s,"MODE_RAW","/home/bruckner/app/src/constants.js"),i.register(u,"ENDPOINT_LIST","/home/bruckner/app/src/constants.js"),i.register(c,"ENDPOINT_FACS","/home/bruckner/app/src/constants.js"),i.register(d,"ENDPOINT_FILE","/home/bruckner/app/src/constants.js"),i.register(p,"ENDPOINT_XSLT","/home/bruckner/app/src/constants.js"),i.register(h,"MIDI_PAUSE","/home/bruckner/app/src/constants.js"),i.register(f,"MIDI_PLAY","/home/bruckner/app/src/constants.js"),i.register(m,"MIDI_STOP","/home/bruckner/app/src/constants.js")),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&o(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var i,o,a=t.commonOpenSeadragonOptions={constrainDuringPan:!0,gestureSettingsMouse:{clickToZoom:!1,dblClickToZoom:!0},maxZoomLevel:10,prefixUrl:"openseadragon/images/",showHomeControl:!0,showZoomControl:!1,visibilityRatio:1},l=t.commonVerovioOpenSeadragonOptions={defaultZoomLevel:0,minZoomLevel:.67,sequenceMode:!0};(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(i.register(a,"commonOpenSeadragonOptions","/home/bruckner/app/src/osdOptions.js"),i.register(l,"commonVerovioOpenSeadragonOptions","/home/bruckner/app/src/osdOptions.js")),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&o(e)}).call(this,n(1)(e))},function(e,t,n){var r=n(15),i=n(44),o=n(16),a=n(20);e.exports=function(e,t,n){if(!a(n))return!1;var l=typeof t;return!!("number"==l?i(n)&&o(t,n.length):"string"==l&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(74),i=n(45);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(169),i=n(21),o=Object.prototype,a=o.hasOwnProperty,l=o.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!l.call(e,"callee")};e.exports=s},function(e,t,n){var r=n(171),i=n(187),o=n(189),a=n(190),l=n(191);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=l,e.exports=s},function(e,t,n){var r=n(18)(n(13),"Map");e.exports=r},function(e,t,n){var r=n(51);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(33),i=n(78),o=n(194);e.exports=function(e,t,n){return t==t?o(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(37),i=n(22);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(10),i=n(17),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(28),i=n(50),o=n(52),a=n(11),l=n(34),s=n(35),u=Math.min;e.exports=function(e,t,n){for(var c=n?o:i,d=e[0].length,p=e.length,h=p,f=Array(p),m=1/0,g=[];h--;){var y=e[h];h&&t&&(y=a(y,l(t))),m=u(y.length,m),f[h]=!n&&(t||d>=120&&y.length>=120)?new r(h&&y):void 0}y=e[0];var v=-1,x=f[0];e:for(;++v<d&&g.length<m;){var b=y[v],w=t?t(b):b;if(b=n||0!==b?b:0,!(x?s(x,w):c(g,w,n))){for(h=p;--h;){var k=f[h];if(!(k?s(k,w):c(e[h],w,n)))continue e}x&&x.push(w),g.push(b)}}return g}},function(e,t,n){var r=n(7);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){var r=n(11),i=n(51),o=n(266),a=n(34),l=n(76),s=Array.prototype.splice;e.exports=function(e,t,n,u){var c=u?o:i,d=-1,p=t.length,h=e;for(e===t&&(t=l(t)),n&&(h=r(e,a(n)));++d<p;)for(var f=0,m=t[d],g=n?n(m):m;(f=c(h,g,f,u))>-1;)h!==e&&s.call(h,f,1),s.call(e,f,1);return e}},function(e,t,n){var r=n(17),i=4294967294,o=Math.floor,a=Math.min;e.exports=function(e,t,n,l){t=n(t);for(var s=0,u=null==e?0:e.length,c=t!=t,d=null===t,p=r(t),h=void 0===t;s<u;){var f=o((s+u)/2),m=n(e[f]),g=void 0!==m,y=null===m,v=m==m,x=r(m);if(c)var b=l||v;else b=h?v&&(l||g):d?v&&g&&(l||!y):p?v&&g&&!y&&(l||!x):!y&&!x&&(l?m<=t:m<t);b?s=f+1:u=f}return a(u,i)}},function(e,t,n){var r=n(27),i=n(11),o=n(94),a=n(87),l=n(7),s=Math.max;e.exports=function(e){if(!e||!e.length)return[];var t=0;return e=r(e,function(e){if(l(e))return t=s(e.length,t),!0}),a(t,function(t){return i(e,o(t))})}},function(e,t,n){var r=n(26),i=n(8),o=n(19);e.exports=function(e,t,n){var a=e.length;if(a<2)return a?o(e[0]):[];for(var l=-1,s=Array(a);++l<a;)for(var u=e[l],c=-1;++c<a;)c!=l&&(s[l]=r(s[l]||u,e[c],t,n));return o(i(s,1),t,n)}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,l=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var u in n=Object(arguments[s]))i.call(n,u)&&(l[u]=n[u]);if(r){a=r(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(l[a[c]]=n[a[c]])}}return l}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(6),i=n(118),o=n(120),a=n(121),l=n(122),s=n(66),u="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(123);e.exports=function(e){return new Promise(function(t,c){var d=e.data,p=e.headers;r.isFormData(d)&&delete p["Content-Type"];var h=new XMLHttpRequest,f="onreadystatechange",m=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in h||l(e.url)||(h=new window.XDomainRequest,f="onload",m=!0,h.onprogress=function(){},h.ontimeout=function(){}),e.auth){var g=e.auth.username||"",y=e.auth.password||"";p.Authorization="Basic "+u(g+":"+y)}if(h.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h[f]=function(){if(h&&(4===h.readyState||m)&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?a(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:1223===h.status?204:h.status,statusText:1223===h.status?"No Content":h.statusText,headers:n,config:e,request:h};i(t,c,r),h=null}},h.onerror=function(){c(s("Network Error",e,null,h)),h=null},h.ontimeout=function(){c(s("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var v=n(124),x=(e.withCredentials||l(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;x&&(p[e.xsrfHeaderName]=x)}if("setRequestHeader"in h&&r.forEach(p,function(e,t){void 0===d&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)}),e.withCredentials&&(h.withCredentials=!0),e.responseType)try{h.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){h&&(h.abort(),c(e),h=null)}),void 0===d&&(d=null),h.send(d)})}},function(e,t,n){"use strict";var r=n(119);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=a(n(5)),o=a(n(14));function a(e){return e&&e.__esModule?e:{default:e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l=function(e){var t=e.children,n=e.className,r=e.disabled,o=e.onClick,a=e.title;return i.default.createElement("button",{type:"button",title:a,onClick:o,className:n,disabled:r},t)};l.propTypes={children:o.default.string.isRequired,className:o.default.string,disabled:o.default.bool,onClick:o.default.func.isRequired,title:o.default.string},l.defaultProps={className:"",disabled:!1,title:null};var s,u,c=l;t.default=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(s.register(l,"Button","/home/bruckner/app/src/components/Button.js"),s.register(c,"default","/home/bruckner/app/src/components/Button.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}t.drawBars=c,t.addTitlesToSpecialTones=f,(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var a=t.PROFILES=["krumhansl","aarden","simple","bellman","temperley","mix"],l=.5,s={C:"#000000",Db:"#804000",D:"#fe0000",Eb:"#fe6a00",E:"#ffd800",F:"#00ff01","F#":"#a8a8a8",G:"#01ffff",Ab:"#0094fe",A:"#0026ff",Bb:"#b100fe",B:"#ff006e",Cm:"#545454","C#m":"#401f00",Dm:"#800001",Ebm:"#803400",Em:"#806b00",Fm:"#017f01","F#m":"#ffffff",Gm:"#017f7e","G#m":"#00497e",Am:"#001280",Bbm:"#590080",Bm:"#7f0037"};function u(e){var t=e.parentNode.firstChild;t&&e.parentNode.insertBefore(e,t)}function c(e){var t=e.querySelector("svg.definition-scale g.page-margin");Array.from(t.querySelectorAll("g.measure")).forEach(function(e){if(null!==e.querySelector("g.harm.mfunc")){var n=e.querySelector("g.staff path");if(null!==n){var r=n.getBBox();new Set(Array.from(e.querySelectorAll("g.harm.mfunc")).map(function(e){return e.getAttribute("class").split(" ").filter(function(e){return s.hasOwnProperty(e)})}).reduce(function(e,t){return[].concat(o(e),o(t))},[])).forEach(function(n){var i=e.querySelector("g.harm."+n.replace("#","\\#"));if(null!==i){var o=i.getBBox(),a=s[n],c=document.createElementNS("http://www.w3.org/2000/svg","rect");c.setAttribute("height",o.height),c.setAttribute("width",r.width),c.setAttribute("x",r.x),c.setAttribute("y",o.y),c.setAttribute("opacity",l),c.setAttribute("style","fill: "+a+";");var d=document.createElementNS("http://www.w3.org/2000/svg","title");d.innerHTML=n;var p=document.createElementNS("http://www.w3.org/2000/svg","g");p.appendChild(d),p.appendChild(c),t.appendChild(p),u(p)}})}}})}var d,p,h=[[/43sus/,"4-3 Suspension"],[/65sus/,"6-5 Suspension"],[/98sus/,"9-8 Suspension"],[/23ret/,"2-3 Retardation"],[/78ret/,"7-8 Retardation"],[/(\d)upt/,"$1 passing tone"],[/(\d)un/,"$1 upper neighbor"],[/(\d)ln/,"$1 lower neighbor"]];function f(e){e.querySelector("svg.definition-scale g.page-margin").querySelectorAll("g.note.mod").forEach(function(e){var t=e.getAttribute("class").split(" ").filter(function(e){return h.some(function(t){var n=i(t,2),r=n[0];n[1];return e.match(r)})}).join(" "),n=h.find(function(e){var n=i(e,2),r=n[0];n[1];return t.match(r)}),r=i(n,2),o=r[0],a=r[1],l=t.replace(o,a),s=document.createElementNS("http://www.w3.org/2000/svg","title");s.innerHTML=l;var u=document.createElementNS("http://www.w3.org/2000/svg","g"),c=e.cloneNode(!0);u.appendChild(s),u.appendChild(c),e.replaceWith(u)})}(d=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(d.register(a,"PROFILES","/home/bruckner/app/src/analyse.js"),d.register(l,"BAR_OPACITY","/home/bruckner/app/src/analyse.js"),d.register(s,"KEYS_COLORS","/home/bruckner/app/src/analyse.js"),d.register(u,"moveToBack","/home/bruckner/app/src/analyse.js"),d.register(c,"drawBars","/home/bruckner/app/src/analyse.js"),d.register(h,"SPECIAL_TONES","/home/bruckner/app/src/analyse.js"),d.register(f,"addTitlesToSpecialTones","/home/bruckner/app/src/analyse.js")),(p=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&p(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";!function(){var e=window.OpenSeadragon;if(!e&&!(e=n(23)))throw new Error("OpenSeadragon is missing.");var t="http://www.w3.org/2000/svg";e.Viewer.prototype.svgOverlay=function(e){return this._svgOverlayInfo?this._svgOverlayInfo:(this._svgOverlayInfo=new r(this,e),this._svgOverlayInfo)};var r=function(e,n){var r=this;this._scaleModifier=n,this._viewer=e,this._containerWidth=0,this._containerHeight=0,this._svg=document.createElementNS(t,"svg"),this._svg.style.position="absolute",this._svg.style.left=0,this._svg.style.top=0,this._svg.style.width="100%",this._svg.style.height="100%",this._viewer.canvas.appendChild(this._svg),this._node=document.createElementNS(t,"g"),this._svg.appendChild(this._node),this._viewer.addHandler("animation",function(){r.resize()}),this._viewer.addHandler("open",function(){r.resize()}),this._viewer.addHandler("rotate",function(e){r.resize()}),this._viewer.addHandler("resize",function(){r.resize()}),this.resize()};r.prototype={node:function(){return this._node},resize:function(){this._containerWidth!==this._viewer.container.clientWidth&&(this._containerWidth=this._viewer.container.clientWidth,this._svg.setAttribute("width",this._containerWidth)),this._containerHeight!==this._viewer.container.clientHeight&&(this._containerHeight=this._viewer.container.clientHeight,this._svg.setAttribute("height",this._containerHeight));var t=this._viewer.viewport.pixelFromPoint(new e.Point(0,0),!0),n=this._viewer.viewport.getZoom(!0),r=this._viewer.viewport.getRotation(),i=this._viewer.viewport._containerInnerSize.x*n*this._scaleModifier;this._node.setAttribute("transform","translate("+t.x+","+t.y+") scale("+i+") rotate("+r+")")},onClick:function(t,n){new e.MouseTracker({element:t,clickHandler:n}).setTracking(!0)}}}()},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.rangeArray=t.deepEquals=t.arraysOfObjectsAreEqual=void 0;var r,i,o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=n(158),l=(r=a)&&r.__esModule?r:{default:r},s=n(73);(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&i(e);var u,c,d=t.arraysOfObjectsAreEqual=function(e,t){return!(void 0===e&&void 0!==t||void 0===t&&void 0!==e)&&(void 0===e&&void 0===t||e.length===t.length&&(0,s.zip)(e,t).every(function(e){var t=o(e,2),n=t[0],r=t[1];return(0,l.default)(n,r)},{strict:!0}))},p=t.deepEquals=l.default,h=t.rangeArray=function(e){return Array.from(Array(e).keys())};(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(u.register(d,"arraysOfObjectsAreEqual","/home/bruckner/app/src/util.js"),u.register(p,"deepEquals","/home/bruckner/app/src/util.js"),u.register(h,"rangeArray","/home/bruckner/app/src/util.js")),(c=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&c(e)}).call(this,n(1)(e))},function(e,t,n){e.exports={chunk:n(161),compact:n(166),concat:n(167),difference:n(170),differenceBy:n(198),differenceWith:n(240),drop:n(241),dropRight:n(242),dropRightWhile:n(243),dropWhile:n(244),fill:n(245),findIndex:n(249),findLastIndex:n(250),first:n(251),flatten:n(96),flattenDeep:n(252),flattenDepth:n(253),fromPairs:n(254),head:n(95),indexOf:n(255),initial:n(256),intersection:n(257),intersectionBy:n(258),intersectionWith:n(259),join:n(260),last:n(12),lastIndexOf:n(261),nth:n(263),pull:n(265),pullAll:n(97),pullAllBy:n(267),pullAllWith:n(268),pullAt:n(269),remove:n(275),reverse:n(276),slice:n(277),sortedIndex:n(278),sortedIndexBy:n(279),sortedIndexOf:n(280),sortedLastIndex:n(281),sortedLastIndexBy:n(282),sortedLastIndexOf:n(283),sortedUniq:n(284),sortedUniqBy:n(285),tail:n(286),take:n(287),takeRight:n(288),takeRightWhile:n(289),takeWhile:n(290),union:n(291),unionBy:n(294),unionWith:n(295),uniq:n(296),uniqBy:n(297),uniqWith:n(298),unzip:n(60),unzipWith:n(100),without:n(299),xor:n(300),xorBy:n(301),xorWith:n(302),zip:n(303),zipObject:n(304),zipObjectDeep:n(306),zipWith:n(308)}},function(e,t,n){var r=n(24),i=n(20),o="[object AsyncFunction]",a="[object Function]",l="[object GeneratorFunction]",s="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==l||t==o||t==s}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(63))},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){return e!=e}},function(e,t,n){var r=n(80),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,l=i(o.length-t,0),s=Array(l);++a<l;)s[a]=o[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=o[a];return u[t]=n(s),r(e,this,u)}}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(195),i=n(197)(r);e.exports=i},function(e,t,n){var r=n(18),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(30),i=n(201),o=n(202),a=n(203),l=n(204),s=n(205);function u(e){var t=this.__data__=new r(e);this.size=t.size}u.prototype.clear=i,u.prototype.delete=o,u.prototype.get=a,u.prototype.has=l,u.prototype.set=s,e.exports=u},function(e,t,n){var r=n(206),i=n(21);e.exports=function e(t,n,o,a,l){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!=t&&n!=n:r(t,n,o,a,e,l))}},function(e,t,n){var r=n(28),i=n(207),o=n(35),a=1,l=2;e.exports=function(e,t,n,s,u,c){var d=n&a,p=e.length,h=t.length;if(p!=h&&!(d&&h>p))return!1;var f=c.get(e);if(f&&c.get(t))return f==t;var m=-1,g=!0,y=n&l?new r:void 0;for(c.set(e,t),c.set(t,e);++m<p;){var v=e[m],x=t[m];if(s)var b=d?s(x,v,m,t,e,c):s(v,x,m,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(y){if(!i(t,function(e,t){if(!o(y,t)&&(v===e||u(v,e,n,s,c)))return y.push(t)})){g=!1;break}}else if(v!==x&&!u(v,x,n,s,c)){g=!1;break}}return c.delete(e),c.delete(t),g}},function(e,t,n){var r=n(216),i=n(220),o=n(44);e.exports=function(e){return o(e)?r(e):i(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){(function(e){var r=n(13),i=n(217),o=t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,l=a&&a.exports===o?r.Buffer:void 0,s=(l?l.isBuffer:void 0)||i;e.exports=s}).call(this,n(1)(e))},function(e,t,n){var r=n(218),i=n(34),o=n(219),a=o&&o.isTypedArray,l=a?i(a):r;e.exports=l},function(e,t,n){var r=n(18)(n(13),"Set");e.exports=r},function(e,t,n){var r=n(20);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(54);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){e.exports=function(e){return e&&e.length?e[0]:void 0}},function(e,t,n){var r=n(8);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(58);e.exports=function(e,t){return e&&e.length&&t&&t.length?r(e,t):e}},function(e,t,n){var r=n(271),i=n(16),o=Array.prototype.splice;e.exports=function(e,t){for(var n=e?t.length:0,a=n-1;n--;){var l=t[n];if(n==a||l!==s){var s=l;i(l)?o.call(e,l,1):r(e,l)}}return e}},function(e,t,n){var r=n(15);e.exports=function(e,t){for(var n=-1,i=e.length,o=0,a=[];++n<i;){var l=e[n],s=t?t(l):l;if(!n||!r(s,u)){var u=s;a[o++]=0===l?0:l}}return a}},function(e,t,n){var r=n(80),i=n(11),o=n(60);e.exports=function(e,t){if(!e||!e.length)return[];var n=o(e);return null==t?n:i(n,function(e){return r(t,void 0,e)})}},function(e,t,n){var r=n(305),i=n(15),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=e.length,o=t.length,a={};++r<i;){var l=r<o?t[r]:void 0;n(a,e[r],l)}return a}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var o,a,l={adjustPageHeight:!0,bottomMarginHarm:3,breaks:"encoded",evenNoteSpacing:!0,font:"Bravura",minMeasureWidth:30,noFooter:!0,noHeader:!0,pageMarginBottom:100,pageMarginLeft:100,pageMarginRight:100,pageMarginTop:40,pageWidth:8192,scale:220,substXPathQuery:"./add",topMarginHarm:3},s=t.getVerovioOptions=function(e){return i({},l,e)};(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(o.register(l,"commonOptions","/home/bruckner/app/src/verovioOptions.js"),o.register(s,"getVerovioOptions","/home/bruckner/app/src/verovioOptions.js")),(a=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&a(e)}).call(this,n(1)(e))},function(e,t,n){e.exports=n(105)},function(e,t,n){"use strict";var r=a(n(5)),i=a(n(107)),o=a(n(111));function a(e){return e&&e.__esModule?e:{default:e}}i.default.render(r.default.createElement(o.default,null),document.getElementById("app-container"))},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(62),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,l=i?Symbol.for("react.fragment"):60107,s=i?Symbol.for("react.strict_mode"):60108,u=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,l){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,i,o,a,l],u=0;(e=Error(t.replace(/%s/g,function(){return s[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function w(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||x}function k(){}function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||x}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},k.prototype=w.prototype;var T=_.prototype=new k;T.constructor=_,r(T,w.prototype),T.isPureReactComponent=!0;var S={current:null},E={current:null},P=Object.prototype.hasOwnProperty,M={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r=void 0,i={},a=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(a=""+t.key),t)P.call(t,r)&&!M.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:o,type:e,key:a,ref:l,props:i,_owner:E.current}}function A(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var O=/\/+/g,R=[];function I(e,t,n,r){if(R.length){var i=R.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function D(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function H(e,t,n){return null==e?0:function e(t,n,r,i){var l=typeof t;"undefined"!==l&&"boolean"!==l||(t=null);var s=!1;if(null===t)s=!0;else switch(l){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case o:case a:s=!0}}if(s)return r(i,t,""===n?"."+L(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=n+L(l=t[u],u);s+=e(l,c,r,i)}else if(c=null===t||"object"!=typeof t?null:"function"==typeof(c=y&&t[y]||t["@@iterator"])?c:null,"function"==typeof c)for(t=c.call(t),u=0;!(l=t.next()).done;)s+=e(l=l.value,c=n+L(l,u++),r,i);else"object"===l&&v("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return s}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function B(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,r,n,function(e){return e}):null!=e&&(A(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(O,"$&/")+"/")+n)),r.push(e))}function z(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(O,"$&/")+"/"),H(e,B,t=I(t,o,r,i)),D(t)}function F(){var e=S.current;return null===e&&v("321"),e}var W={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return z(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;H(e,N,t=I(null,null,t,n)),D(t)},count:function(e){return H(e,function(){return null},null)},toArray:function(e){var t=[];return z(e,t,null,function(e){return e}),t},only:function(e){return A(e)||v("143"),e}},createRef:function(){return{current:null}},Component:w,PureComponent:_,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:c,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:l,StrictMode:s,Suspense:f,createElement:C,cloneElement:function(e,t,n){null==e&&v("267",e);var i=void 0,a=r({},e.props),l=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(l=""+t.key);var c=void 0;for(i in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)P.call(t,i)&&!M.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==c?c[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){c=Array(i);for(var d=0;d<i;d++)c[d]=arguments[d+2];a.children=c}return{$$typeof:o,type:e.type,key:l,ref:s,props:a,_owner:u}},createFactory:function(e){var t=C.bind(null,e);return t.type=e,t},isValidElement:A,version:"16.8.6",unstable_ConcurrentMode:p,unstable_Profiler:u,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:S,ReactCurrentOwner:E,assign:r}},j={default:W},V=j&&W||j;e.exports=V.default||V},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(108)},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(5),i=n(62),o=n(109);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,l){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[n,r,i,o,a,l],u=0;(e=Error(t.replace(/%s/g,function(){return s[u++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var l=!1,s=null,u=!1,c=null,d={onError:function(e){l=!0,s=e}};function p(e,t,n,r,i,o,a,u,c){l=!1,s=null,function(e,t,n,r,i,o,a,l,s){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}.apply(d,arguments)}var h=null,f={};function m(){if(h)for(var e in f){var t=f[e],n=h.indexOf(e);if(-1<n||a("96",e),!y[n])for(var r in t.extractEvents||a("97",e),y[n]=t,n=t.eventTypes){var i=void 0,o=n[r],l=t,s=r;v.hasOwnProperty(s)&&a("99",s),v[s]=o;var u=o.phasedRegistrationNames;if(u){for(i in u)u.hasOwnProperty(i)&&g(u[i],l,s);i=!0}else o.registrationName?(g(o.registrationName,l,s),i=!0):i=!1;i||a("98",r,e)}}}function g(e,t,n){x[e]&&a("100",e),x[e]=t,b[e]=t.eventTypes[n].dependencies}var y=[],v={},x={},b={},w=null,k=null,_=null;function T(e,t,n){var r=e.type||"unknown-event";e.currentTarget=_(n),function(e,t,n,r,i,o,d,h,f){if(p.apply(this,arguments),l){if(l){var m=s;l=!1,s=null}else a("198"),m=void 0;u||(u=!0,c=m)}}(r,t,void 0,e),e.currentTarget=null}function S(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function E(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var P=null;function M(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)T(e,t[r],n[r]);else t&&T(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var C={injectEventPluginOrder:function(e){h&&a("101"),h=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];f.hasOwnProperty(t)&&f[t]===r||(f[t]&&a("102",t),f[t]=r,n=!0)}n&&m()}};function A(e,t){var n=e.stateNode;if(!n)return null;var r=w(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function O(e){if(null!==e&&(P=S(P,e)),e=P,P=null,e&&(E(e,M),P&&a("95"),u))throw e=c,u=!1,c=null,e}var R=Math.random().toString(36).slice(2),I="__reactInternalInstance$"+R,D="__reactEventHandlers$"+R;function H(e){if(e[I])return e[I];for(;!e[I];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[I]).tag||6===e.tag?e:null}function L(e){return!(e=e[I])||5!==e.tag&&6!==e.tag?null:e}function N(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function B(e){return e[D]||null}function z(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function F(e,t,n){(t=A(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function W(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=z(t);for(t=n.length;0<t--;)F(n[t],"captured",e);for(t=0;t<n.length;t++)F(n[t],"bubbled",e)}}function j(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=A(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=S(n._dispatchListeners,t),n._dispatchInstances=S(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&j(e._targetInst,null,e)}function U(e){E(e,W)}var G=!("undefined"==typeof window||!window.document||!window.document.createElement);function q(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var $={animationend:q("Animation","AnimationEnd"),animationiteration:q("Animation","AnimationIteration"),animationstart:q("Animation","AnimationStart"),transitionend:q("Transition","TransitionEnd")},Z={},X={};function K(e){if(Z[e])return Z[e];if(!$[e])return e;var t,n=$[e];for(t in n)if(n.hasOwnProperty(t)&&t in X)return Z[e]=n[t];return e}G&&(X=document.createElement("div").style,"AnimationEvent"in window||(delete $.animationend.animation,delete $.animationiteration.animation,delete $.animationstart.animation),"TransitionEvent"in window||delete $.transitionend.transition);var Q=K("animationend"),Y=K("animationiteration"),J=K("animationstart"),ee=K("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function oe(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function ae(){return!0}function le(){return!1}function se(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ae:le,this.isPropagationStopped=le,this}function ue(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ce(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ue,e.release=ce}i(se.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ae)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ae)},persist:function(){this.isPersistent=ae},isPersistent:le,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=le,this._dispatchInstances=this._dispatchListeners=null}}),se.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},se.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(se);var pe=se.extend({data:null}),he=se.extend({data:null}),fe=[9,13,27,32],me=G&&"CompositionEvent"in window,ge=null;G&&"documentMode"in document&&(ge=document.documentMode);var ye=G&&"TextEvent"in window&&!ge,ve=G&&(!me||ge&&8<ge&&11>=ge),xe=String.fromCharCode(32),be={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},we=!1;function ke(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function _e(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Te=!1;var Se={eventTypes:be,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(me)e:{switch(e){case"compositionstart":i=be.compositionStart;break e;case"compositionend":i=be.compositionEnd;break e;case"compositionupdate":i=be.compositionUpdate;break e}i=void 0}else Te?ke(e,n)&&(i=be.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=be.compositionStart);return i?(ve&&"ko"!==n.locale&&(Te||i!==be.compositionStart?i===be.compositionEnd&&Te&&(o=oe()):(re="value"in(ne=r)?ne.value:ne.textContent,Te=!0)),i=pe.getPooled(i,t,n,r),o?i.data=o:null!==(o=_e(n))&&(i.data=o),U(i),o=i):o=null,(e=ye?function(e,t){switch(e){case"compositionend":return _e(t);case"keypress":return 32!==t.which?null:(we=!0,xe);case"textInput":return(e=t.data)===xe&&we?null:e;default:return null}}(e,n):function(e,t){if(Te)return"compositionend"===e||!me&&ke(e,t)?(e=oe(),ie=re=ne=null,Te=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ve&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(be.beforeInput,t,n,r)).data=e,U(t)):t=null,null===o?t:null===t?o:[o,t]}},Ee=null,Pe=null,Me=null;function Ce(e){if(e=k(e)){"function"!=typeof Ee&&a("280");var t=w(e.stateNode);Ee(e.stateNode,e.type,t)}}function Ae(e){Pe?Me?Me.push(e):Me=[e]:Pe=e}function Oe(){if(Pe){var e=Pe,t=Me;if(Me=Pe=null,Ce(e),t)for(e=0;e<t.length;e++)Ce(t[e])}}function Re(e,t){return e(t)}function Ie(e,t,n){return e(t,n)}function De(){}var He=!1;function Le(e,t){if(He)return e(t);He=!0;try{return Re(e,t)}finally{He=!1,(null!==Pe||null!==Me)&&(De(),Oe())}}var Ne={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Be(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ne[e.type]:"textarea"===t}function ze(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Fe(e){if(!G)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function je(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Ue=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ue.hasOwnProperty("ReactCurrentDispatcher")||(Ue.ReactCurrentDispatcher={current:null});var Ge=/^(.*)[\\\/]/,qe="function"==typeof Symbol&&Symbol.for,$e=qe?Symbol.for("react.element"):60103,Ze=qe?Symbol.for("react.portal"):60106,Xe=qe?Symbol.for("react.fragment"):60107,Ke=qe?Symbol.for("react.strict_mode"):60108,Qe=qe?Symbol.for("react.profiler"):60114,Ye=qe?Symbol.for("react.provider"):60109,Je=qe?Symbol.for("react.context"):60110,et=qe?Symbol.for("react.concurrent_mode"):60111,tt=qe?Symbol.for("react.forward_ref"):60112,nt=qe?Symbol.for("react.suspense"):60113,rt=qe?Symbol.for("react.memo"):60115,it=qe?Symbol.for("react.lazy"):60116,ot="function"==typeof Symbol&&Symbol.iterator;function at(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=ot&&e[ot]||e["@@iterator"])?e:null}function lt(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Xe:return"Fragment";case Ze:return"Portal";case Qe:return"Profiler";case Ke:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Ye:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return lt(e.type);case it:if(e=1===e._status?e._result:null)return lt(e)}return null}function st(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=lt(e.type);n=null,r&&(n=lt(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Ge,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var ut=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ct=Object.prototype.hasOwnProperty,dt={},pt={};function ht(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new ht(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function yt(e,t,n,r){var i=ft.hasOwnProperty(t)?ft[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ct.call(pt,e)||!ct.call(dt,e)&&(ut.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function vt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function xt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function bt(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=vt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function wt(e,t){null!=(t=t.checked)&&yt(e,"checked",t,!1)}function kt(e,t){wt(e,t);var n=vt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Tt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Tt(e,t.type,vt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function _t(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Tt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);ft[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);ft[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);ft[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new ht(e,1,!1,e.toLowerCase(),null)});var St={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Et(e,t,n){return(e=se.getPooled(St.change,e,t,n)).type="change",Ae(n),U(e),e}var Pt=null,Mt=null;function Ct(e){O(e)}function At(e){if(Ve(N(e)))return e}function Ot(e,t){if("change"===e)return t}var Rt=!1;function It(){Pt&&(Pt.detachEvent("onpropertychange",Dt),Mt=Pt=null)}function Dt(e){"value"===e.propertyName&&At(Mt)&&Le(Ct,e=Et(Mt,e,ze(e)))}function Ht(e,t,n){"focus"===e?(It(),Mt=n,(Pt=t).attachEvent("onpropertychange",Dt)):"blur"===e&&It()}function Lt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return At(Mt)}function Nt(e,t){if("click"===e)return At(t)}function Bt(e,t){if("input"===e||"change"===e)return At(t)}G&&(Rt=Fe("input")&&(!document.documentMode||9<document.documentMode));var zt={eventTypes:St,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?N(t):window,o=void 0,a=void 0,l=i.nodeName&&i.nodeName.toLowerCase();if("select"===l||"input"===l&&"file"===i.type?o=Ot:Be(i)?Rt?o=Bt:(o=Lt,a=Ht):(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Nt),o&&(o=o(e,t)))return Et(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Tt(i,"number",i.value)}},Ft=se.extend({view:null,detail:null}),Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wt[e])&&!!t[e]}function Vt(){return jt}var Ut=0,Gt=0,qt=!1,$t=!1,Zt=Ft.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ut;return Ut=e.screenX,qt?"mousemove"===e.type?e.screenX-t:0:(qt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Gt;return Gt=e.screenY,$t?"mousemove"===e.type?e.screenY-t:0:($t=!0,0)}}),Xt=Zt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Kt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Qt={eventTypes:Kt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?H(t):null):o=null,o===t)return null;var a=void 0,l=void 0,s=void 0,u=void 0;"mouseout"===e||"mouseover"===e?(a=Zt,l=Kt.mouseLeave,s=Kt.mouseEnter,u="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=Xt,l=Kt.pointerLeave,s=Kt.pointerEnter,u="pointer");var c=null==o?i:N(o);if(i=null==t?i:N(t),(e=a.getPooled(l,o,n,r)).type=u+"leave",e.target=c,e.relatedTarget=i,(n=a.getPooled(s,t,n,r)).type=u+"enter",n.target=i,n.relatedTarget=c,r=t,o&&r)e:{for(i=r,u=0,a=t=o;a;a=z(a))u++;for(a=0,s=i;s;s=z(s))a++;for(;0<u-a;)t=z(t),u--;for(;0<a-u;)i=z(i),a--;for(;u--;){if(t===i||t===i.alternate)break e;t=z(t),i=z(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(u=o.alternate)||u!==i);)t.push(o),o=z(o);for(o=[];r&&r!==i&&(null===(u=r.alternate)||u!==i);)o.push(r),r=z(r);for(r=0;r<t.length;r++)j(t[r],"bubbled",e);for(r=o.length;0<r--;)j(o[r],"captured",n);return[e,n]}};function Yt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Jt=Object.prototype.hasOwnProperty;function en(e,t){if(Yt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jt.call(t,n[r])||!Yt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&a("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var l=i.child;l;){if(l===n)return nn(i),e;if(l===r)return nn(i),t;l=l.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{l=!1;for(var s=i.child;s;){if(s===n){l=!0,n=i,r=o;break}if(s===r){l=!0,r=i,n=o;break}s=s.sibling}if(!l){for(s=o.child;s;){if(s===n){l=!0,n=o,r=i;break}if(s===r){l=!0,r=o,n=i;break}s=s.sibling}l||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var on=se.extend({animationName:null,elapsedTime:null,pseudoElement:null}),an=se.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ln=Ft.extend({relatedTarget:null});function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Ft.extend({key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?cn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Zt.extend({dataTransfer:null}),hn=Ft.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),fn=se.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Zt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[Q,"animationEnd"],[Y,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],yn={},vn={};function xn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},yn[e]=t,vn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){xn(e,!0)}),gn.forEach(function(e){xn(e,!1)});var bn={eventTypes:yn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=vn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=vn[e];if(!i)return null;switch(e){case"keypress":if(0===sn(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=ln;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Zt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case Q:case Y:case J:e=on;break;case ee:e=fn;break;case"scroll":e=Ft;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=an;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Xt;break;default:e=se}return U(t=e.getPooled(i,t,n,r)),t}},wn=bn.isInteractiveTopLevelEventType,kn=[];function _n(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=H(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ze(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,l=0;l<y.length;l++){var s=y[l];s&&(s=s.extractEvents(r,t,o,i))&&(a=S(a,s))}O(a)}}var Tn=!0;function Sn(e,t){if(!t)return null;var n=(wn(e)?Pn:Mn).bind(null,e);t.addEventListener(e,n,!1)}function En(e,t){if(!t)return null;var n=(wn(e)?Pn:Mn).bind(null,e);t.addEventListener(e,n,!0)}function Pn(e,t){Ie(Mn,e,t)}function Mn(e,t){if(Tn){var n=ze(t);if(null===(n=H(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),kn.length){var r=kn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Le(_n,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>kn.length&&kn.push(e)}}}var Cn={},An=0,On="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,On)||(e[On]=An++,Cn[e[On]]={}),Cn[e[On]]}function In(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hn(e,t){var n,r=Dn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Dn(r)}}function Ln(){for(var e=window,t=In();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=In((e=t.contentWindow).document)}return t}function Nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Bn(e){var t=Ln(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Nn(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=Hn(n,o);var a=Hn(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zn=G&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wn=null,jn=null,Vn=null,Un=!1;function Gn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Un||null==Wn||Wn!==In(n)?null:("selectionStart"in(n=Wn)&&Nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&en(Vn,n)?null:(Vn=n,(e=se.getPooled(Fn.select,jn,e,t)).type="select",e.target=Wn,U(e),e))}var qn={eventTypes:Fn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=b.onSelect;for(var a=0;a<i.length;a++){var l=i[a];if(!o.hasOwnProperty(l)||!o[l]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?N(t):window,e){case"focus":(Be(o)||"true"===o.contentEditable)&&(Wn=o,jn=t,Vn=null);break;case"blur":Vn=jn=Wn=null;break;case"mousedown":Un=!0;break;case"contextmenu":case"mouseup":case"dragend":return Un=!1,Gn(n,r);case"selectionchange":if(zn)break;case"keydown":case"keyup":return Gn(n,r)}return null}};function $n(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Zn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+vt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Xn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:vt(n)}}function Qn(e,t){var n=vt(t.value),r=vt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Yn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}C.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),w=B,k=L,_=N,C.injectEventPluginsByName({SimpleEventPlugin:bn,EnterLeaveEventPlugin:Qt,ChangeEventPlugin:zt,SelectEventPlugin:qn,BeforeInputEventPlugin:Se});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ir=(nr=function(e,t){if(e.namespaceURI!==Jn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lr=["Webkit","ms","Moz","O"];function sr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ar.hasOwnProperty(e)&&ar[e]?(""+t).trim():t+"px"}function ur(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=sr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ar).forEach(function(e){lr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var cr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=b[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":En("scroll",e);break;case"focus":case"blur":En("focus",e),En("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Fe(i)&&En(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&Sn(i,e)}n[i]=!0}}}function fr(){}var mr=null,gr=null;function yr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xr="function"==typeof setTimeout?setTimeout:void 0,br="function"==typeof clearTimeout?clearTimeout:void 0,wr=o.unstable_scheduleCallback,kr=o.unstable_cancelCallback;function _r(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Tr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Sr=[],Er=-1;function Pr(e){0>Er||(e.current=Sr[Er],Sr[Er]=null,Er--)}function Mr(e,t){Sr[++Er]=e.current,e.current=t}var Cr={},Ar={current:Cr},Or={current:!1},Rr=Cr;function Ir(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dr(e){return null!=(e=e.childContextTypes)}function Hr(e){Pr(Or),Pr(Ar)}function Lr(e){Pr(Or),Pr(Ar)}function Nr(e,t,n){Ar.current!==Cr&&a("168"),Mr(Ar,t),Mr(Or,n)}function Br(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",lt(t)||"Unknown",o);return i({},n,r)}function zr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Cr,Rr=Ar.current,Mr(Ar,t),Mr(Or,Or.current),!0}function Fr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Br(e,t,Rr),r.__reactInternalMemoizedMergedChildContext=t,Pr(Or),Pr(Ar),Mr(Ar,t)):Pr(Or),Mr(Or,n)}var Wr=null,jr=null;function Vr(e){return function(t){try{return e(t)}catch(e){}}}function Ur(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Gr(e,t,n,r){return new Ur(e,t,n,r)}function qr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $r(e,t){var n=e.alternate;return null===n?((n=Gr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zr(e,t,n,r,i,o){var l=2;if(r=e,"function"==typeof e)qr(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case Xe:return Xr(n.children,i,o,t);case et:return Kr(n,3|i,o,t);case Ke:return Kr(n,2|i,o,t);case Qe:return(e=Gr(12,n,t,4|i)).elementType=Qe,e.type=Qe,e.expirationTime=o,e;case nt:return(e=Gr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ye:l=10;break e;case Je:l=9;break e;case tt:l=11;break e;case rt:l=14;break e;case it:l=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Gr(l,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Xr(e,t,n,r){return(e=Gr(7,e,r,t)).expirationTime=n,e}function Kr(e,t,n,r){return e=Gr(8,e,r,t),t=0==(1&t)?Ke:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Qr(e,t,n){return(e=Gr(6,e,null,t)).expirationTime=n,e}function Yr(e,t,n){return(t=Gr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ni(t,e)}function ei(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ni(t,e)}function ti(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ni(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ri(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ii=(new r.Component).refs;function oi(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var ai={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=kl(),i=Ko(r=Xa(r,e));i.payload=t,null!=n&&(i.callback=n),Va(),Yo(e,i),Ya(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=kl(),i=Ko(r=Xa(r,e));i.tag=Uo,i.payload=t,null!=n&&(i.callback=n),Va(),Yo(e,i),Ya(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=kl(),r=Ko(n=Xa(n,e));r.tag=Go,null!=t&&(r.callback=t),Va(),Yo(e,r),Ya(e,n)}};function li(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,o))}function si(e,t,n){var r=!1,i=Cr,o=t.contextType;return"object"==typeof o&&null!==o?o=jo(o):(i=Dr(t)?Rr:Ar.current,o=(r=null!=(r=t.contextTypes))?Ir(e,i):Cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ui(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ci(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ii;var o=t.contextType;"object"==typeof o&&null!==o?i.context=jo(o):(o=Dr(t)?Rr:Ar.current,i.context=Ir(e,o)),null!==(o=e.updateQueue)&&(na(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(oi(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ai.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(na(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var di=Array.isArray;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&a("309"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ii&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function hi(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=$r(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Zr(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Yr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Xr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case $e:return(n=Zr(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case Ze:return(t=Yr(t,e.mode,n)).return=e,t}if(di(t)||at(t))return(t=Xr(t,e.mode,n,null)).return=e,t;hi(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case $e:return n.key===i?n.type===Xe?d(e,t,n.props.children,r,i):u(e,t,n,r):null;case Ze:return n.key===i?c(e,t,n,r):null}if(di(n)||at(n))return null!==i?null:d(e,t,n,r,null);hi(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case $e:return e=e.get(null===r.key?n:r.key)||null,r.type===Xe?d(t,e,r.props.children,i,r.key):u(t,e,r,i);case Ze:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(di(r)||at(r))return d(t,e=e.get(n)||null,r,i,null);hi(t,r)}return null}function m(i,a,l,s){for(var u=null,c=null,d=a,m=a=0,g=null;null!==d&&m<l.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=h(i,d,l[m],s);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===l.length)return n(i,d),u;if(null===d){for(;m<l.length;m++)(d=p(i,l[m],s))&&(a=o(d,a,m),null===c?u=d:c.sibling=d,c=d);return u}for(d=r(i,d);m<l.length;m++)(g=f(d,i,m,l[m],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),u}function g(i,l,s,u){var c=at(s);"function"!=typeof c&&a("150"),null==(s=c.call(s))&&a("151");for(var d=c=null,m=l,g=l=0,y=null,v=s.next();null!==m&&!v.done;g++,v=s.next()){m.index>g?(y=m,m=null):y=m.sibling;var x=h(i,m,v.value,u);if(null===x){m||(m=y);break}e&&m&&null===x.alternate&&t(i,m),l=o(x,l,g),null===d?c=x:d.sibling=x,d=x,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=s.next())null!==(v=p(i,v.value,u))&&(l=o(v,l,g),null===d?c=v:d.sibling=v,d=v);return c}for(m=r(i,m);!v.done;g++,v=s.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),l=o(v,l,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach(function(e){return t(i,e)}),c}return function(e,r,o,s){var u="object"==typeof o&&null!==o&&o.type===Xe&&null===o.key;u&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case $e:e:{for(c=o.key,u=r;null!==u;){if(u.key===c){if(7===u.tag?o.type===Xe:u.elementType===o.type){n(e,u.sibling),(r=i(u,o.type===Xe?o.props.children:o.props)).ref=pi(e,u,o),r.return=e,e=r;break e}n(e,u);break}t(e,u),u=u.sibling}o.type===Xe?((r=Xr(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=Zr(o.type,o.key,o.props,null,e.mode,s)).ref=pi(e,r,o),s.return=e,e=s)}return l(e);case Ze:e:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Yr(o,e.mode,s)).return=e,e=r}return l(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qr(o,e.mode,s)).return=e,e=r),l(e);if(di(o))return m(e,r,o,s);if(at(o))return g(e,r,o,s);if(c&&hi(e,o),void 0===o&&!u)switch(e.tag){case 1:case 0:a("152",(s=e.type).displayName||s.name||"Component")}return n(e,r)}}var mi=fi(!0),gi=fi(!1),yi={},vi={current:yi},xi={current:yi},bi={current:yi};function wi(e){return e===yi&&a("174"),e}function ki(e,t){Mr(bi,t),Mr(xi,e),Mr(vi,yi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Pr(vi),Mr(vi,t)}function _i(e){Pr(vi),Pr(xi),Pr(bi)}function Ti(e){wi(bi.current);var t=wi(vi.current),n=tr(t,e.type);t!==n&&(Mr(xi,e),Mr(vi,n))}function Si(e){xi.current===e&&(Pr(vi),Pr(xi))}var Ei=0,Pi=2,Mi=4,Ci=8,Ai=16,Oi=32,Ri=64,Ii=128,Di=Ue.ReactCurrentDispatcher,Hi=0,Li=null,Ni=null,Bi=null,zi=null,Fi=null,Wi=null,ji=0,Vi=null,Ui=0,Gi=!1,qi=null,$i=0;function Zi(){a("321")}function Xi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yt(e[n],t[n]))return!1;return!0}function Ki(e,t,n,r,i,o){if(Hi=o,Li=t,Bi=null!==e?e.memoizedState:null,Di.current=null===Bi?uo:co,t=n(r,i),Gi){do{Gi=!1,$i+=1,Bi=null!==e?e.memoizedState:null,Wi=zi,Vi=Fi=Ni=null,Di.current=co,t=n(r,i)}while(Gi);qi=null,$i=0}return Di.current=so,(e=Li).memoizedState=zi,e.expirationTime=ji,e.updateQueue=Vi,e.effectTag|=Ui,e=null!==Ni&&null!==Ni.next,Hi=0,Wi=Fi=zi=Bi=Ni=Li=null,ji=0,Vi=null,Ui=0,e&&a("300"),t}function Qi(){Di.current=so,Hi=0,Wi=Fi=zi=Bi=Ni=Li=null,ji=0,Vi=null,Ui=0,Gi=!1,qi=null,$i=0}function Yi(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Fi?zi=Fi=e:Fi=Fi.next=e,Fi}function Ji(){if(null!==Wi)Wi=(Fi=Wi).next,Bi=null!==(Ni=Bi)?Ni.next:null;else{null===Bi&&a("310");var e={memoizedState:(Ni=Bi).memoizedState,baseState:Ni.baseState,queue:Ni.queue,baseUpdate:Ni.baseUpdate,next:null};Fi=null===Fi?zi=e:Fi.next=e,Bi=Ni.next}return Fi}function eo(e,t){return"function"==typeof t?t(e):t}function to(e){var t=Ji(),n=t.queue;if(null===n&&a("311"),n.lastRenderedReducer=e,0<$i){var r=n.dispatch;if(null!==qi){var i=qi.get(n);if(void 0!==i){qi.delete(n);var o=t.memoizedState;do{o=e(o,i.action),i=i.next}while(null!==i);return Yt(o,t.memoizedState)||(ko=!0),t.memoizedState=o,t.baseUpdate===n.last&&(t.baseState=o),n.lastRenderedState=o,[o,r]}}return[t.memoizedState,r]}r=n.last;var l=t.baseUpdate;if(o=t.baseState,null!==l?(null!==r&&(r.next=null),r=l.next):r=null!==r?r.next:null,null!==r){var s=i=null,u=r,c=!1;do{var d=u.expirationTime;d<Hi?(c||(c=!0,s=l,i=o),d>ji&&(ji=d)):o=u.eagerReducer===e?u.eagerState:e(o,u.action),l=u,u=u.next}while(null!==u&&u!==r);c||(s=l,i=o),Yt(o,t.memoizedState)||(ko=!0),t.memoizedState=o,t.baseUpdate=s,t.baseState=i,n.lastRenderedState=o}return[t.memoizedState,n.dispatch]}function no(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Vi?(Vi={lastEffect:null}).lastEffect=e.next=e:null===(t=Vi.lastEffect)?Vi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Vi.lastEffect=e),e}function ro(e,t,n,r){var i=Yi();Ui|=e,i.memoizedState=no(t,n,void 0,void 0===r?null:r)}function io(e,t,n,r){var i=Ji();r=void 0===r?null:r;var o=void 0;if(null!==Ni){var a=Ni.memoizedState;if(o=a.destroy,null!==r&&Xi(r,a.deps))return void no(Ei,n,o,r)}Ui|=e,i.memoizedState=no(t,n,o,r)}function oo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ao(){}function lo(e,t,n){25>$i||a("301");var r=e.alternate;if(e===Li||null!==r&&r===Li)if(Gi=!0,e={expirationTime:Hi,action:n,eagerReducer:null,eagerState:null,next:null},null===qi&&(qi=new Map),void 0===(n=qi.get(t)))qi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Va();var i=kl(),o={expirationTime:i=Xa(i,e),action:n,eagerReducer:null,eagerState:null,next:null},l=t.last;if(null===l)o.next=o;else{var s=l.next;null!==s&&(o.next=s),l.next=o}if(t.last=o,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.lastRenderedReducer))try{var u=t.lastRenderedState,c=r(u,n);if(o.eagerReducer=r,o.eagerState=c,Yt(c,u))return}catch(e){}Ya(e,i)}}var so={readContext:jo,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi},uo={readContext:jo,useCallback:function(e,t){return Yi().memoizedState=[e,void 0===t?null:t],e},useContext:jo,useEffect:function(e,t){return ro(516,Ii|Ri,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ro(4,Mi|Oi,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ro(4,Mi|Oi,e,t)},useMemo:function(e,t){var n=Yi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Yi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=lo.bind(null,Li,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Yi().memoizedState=e},useState:function(e){var t=Yi();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,lastRenderedReducer:eo,lastRenderedState:e}).dispatch=lo.bind(null,Li,e),[t.memoizedState,e]},useDebugValue:ao},co={readContext:jo,useCallback:function(e,t){var n=Ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:jo,useEffect:function(e,t){return io(516,Ii|Ri,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,io(4,Mi|Oi,oo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4,Mi|Oi,e,t)},useMemo:function(e,t){var n=Ji();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Xi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:to,useRef:function(){return Ji().memoizedState},useState:function(e){return to(eo)},useDebugValue:ao},po=null,ho=null,fo=!1;function mo(e,t){var n=Gr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function go(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function yo(e){if(fo){var t=ho;if(t){var n=t;if(!go(e,t)){if(!(t=_r(n))||!go(e,t))return e.effectTag|=2,fo=!1,void(po=e);mo(po,n)}po=e,ho=Tr(t)}else e.effectTag|=2,fo=!1,po=e}}function vo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;po=e}function xo(e){if(e!==po)return!1;if(!fo)return vo(e),fo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vr(t,e.memoizedProps))for(t=ho;t;)mo(e,t),t=_r(t);return vo(e),ho=po?_r(e.stateNode):null,!0}function bo(){ho=po=null,fo=!1}var wo=Ue.ReactCurrentOwner,ko=!1;function _o(e,t,n,r){t.child=null===e?gi(t,null,n,r):mi(t,e.child,n,r)}function To(e,t,n,r,i){n=n.render;var o=t.ref;return Wo(t,i),r=Ki(e,t,n,r,o,i),null===e||ko?(t.effectTag|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function So(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||qr(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Eo(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?Io(e,t,o):(t.effectTag|=1,(e=$r(a,r)).ref=t.ref,e.return=t,t.child=e)}function Eo(e,t,n,r,i,o){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(ko=!1,i<o)?Io(e,t,o):Mo(e,t,n,r,o)}function Po(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Mo(e,t,n,r,i){var o=Dr(n)?Rr:Ar.current;return o=Ir(t,o),Wo(t,i),n=Ki(e,t,n,r,o,i),null===e||ko?(t.effectTag|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Io(e,t,i))}function Co(e,t,n,r,i){if(Dr(n)){var o=!0;zr(t)}else o=!1;if(Wo(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),si(t,n,r),ci(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,l=t.memoizedProps;a.props=l;var s=a.context,u=n.contextType;"object"==typeof u&&null!==u?u=jo(u):u=Ir(t,u=Dr(n)?Rr:Ar.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&ui(t,a,r,u),$o=!1;var p=t.memoizedState;s=a.state=p;var h=t.updateQueue;null!==h&&(na(t,h,r,a,i),s=t.memoizedState),l!==r||p!==s||Or.current||$o?("function"==typeof c&&(oi(t,n,c,r),s=t.memoizedState),(l=$o||li(t,n,l,r,p,s,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=s),a.props=r,a.state=s,a.context=u,r=l):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,l=t.memoizedProps,a.props=t.type===t.elementType?l:ri(t.type,l),s=a.context,"object"==typeof(u=n.contextType)&&null!==u?u=jo(u):u=Ir(t,u=Dr(n)?Rr:Ar.current),(d="function"==typeof(c=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(l!==r||s!==u)&&ui(t,a,r,u),$o=!1,s=t.memoizedState,p=a.state=s,null!==(h=t.updateQueue)&&(na(t,h,r,a,i),p=t.memoizedState),l!==r||s!==p||Or.current||$o?("function"==typeof c&&(oi(t,n,c,r),p=t.memoizedState),(c=$o||li(t,n,l,r,s,p,u))?(d||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!=typeof a.componentDidUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||l===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),r=!1);return Ao(e,t,n,r,o,i)}function Ao(e,t,n,r,i,o){Po(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Fr(t,n,!1),Io(e,t,o);r=t.stateNode,wo.current=t;var l=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=mi(t,e.child,null,o),t.child=mi(t,null,l,o)):_o(e,t,l,o),t.memoizedState=r.state,i&&Fr(t,n,!0),t.child}function Oo(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),ki(e,t.containerInfo)}function Ro(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;if(0==(64&t.effectTag)){o=null;var a=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},a=!0,t.effectTag&=-65;if(null===e)if(a){var l=i.fallback;e=Xr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Xr(l,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=gi(t,null,i.children,n);else null!==e.memoizedState?(l=(r=e.child).sibling,a?(n=i.fallback,i=$r(r,r.pendingProps),0==(1&t.mode)&&((a=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=a)),r=i.sibling=$r(l,n,l.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=mi(t,r.child,i.children,n)):(l=e.child,a?(a=i.fallback,(i=Xr(null,r,0,null)).child=l,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=Xr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=mi(t,l,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=o,t.child=n,r}function Io(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=$r(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$r(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Do(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Or.current)ko=!0;else if(r<n){switch(ko=!1,t.tag){case 3:Oo(t),bo();break;case 5:Ti(t);break;case 1:Dr(t.type)&&zr(t);break;case 4:ki(t,t.stateNode.containerInfo);break;case 10:zo(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ro(e,t,n):null!==(t=Io(e,t,n))?t.sibling:null}return Io(e,t,n)}}else ko=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Ir(t,Ar.current);if(Wo(t,n),i=Ki(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Qi(),Dr(r)){var o=!0;zr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var l=r.getDerivedStateFromProps;"function"==typeof l&&oi(t,r,l,e),i.updater=ai,t.stateNode=i,i._reactInternalFiber=t,ci(t,r,e,n),t=Ao(null,t,r,!0,o,n)}else t.tag=0,_o(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return qr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),o=ri(e,o),l=void 0,i){case 0:l=Mo(null,t,e,o,n);break;case 1:l=Co(null,t,e,o,n);break;case 11:l=To(null,t,e,o,n);break;case 14:l=So(null,t,e,ri(e.type,o),r,n);break;default:a("306",e,"")}return l;case 0:return r=t.type,i=t.pendingProps,Mo(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 1:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 3:return Oo(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,na(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(bo(),t=Io(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(ho=Tr(t.stateNode.containerInfo),po=t,i=fo=!0),i?(t.effectTag|=2,t.child=gi(t,null,r,n)):(_o(e,t,r,n),bo()),t=t.child),t;case 5:return Ti(t),null===e&&yo(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,l=i.children,vr(r,i)?l=null:null!==o&&vr(r,o)&&(t.effectTag|=16),Po(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(_o(e,t,l,n),t=t.child),t;case 6:return null===e&&yo(t),null;case 13:return Ro(e,t,n);case 4:return ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=mi(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,zo(t,o=i.value),null!==l){var s=l.value;if(0===(o=Yt(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(l.children===i.children&&!Or.current){t=Io(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var u=s.contextDependencies;if(null!==u){l=s.child;for(var c=u.first;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=Ko(n)).tag=Go,Yo(s,c)),s.expirationTime<n&&(s.expirationTime=n),null!==(c=s.alternate)&&c.expirationTime<n&&(c.expirationTime=n),c=n;for(var d=s.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<c)d.childExpirationTime=c,null!==p&&p.childExpirationTime<c&&(p.childExpirationTime=c);else{if(!(null!==p&&p.childExpirationTime<c))break;p.childExpirationTime=c}d=d.return}u.expirationTime<n&&(u.expirationTime=n);break}c=c.next}}else l=10===s.tag&&s.type===t.type?null:s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Wo(t,n),r=r(i=jo(i,o.unstable_observedBits)),t.effectTag|=1,_o(e,t,r,n),t.child;case 14:return o=ri(i=t.type,t.pendingProps),So(e,t,i,o=ri(i.type,o),r,n);case 15:return Eo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Dr(r)?(e=!0,zr(t)):e=!1,Wo(t,n),si(t,r,i),ci(t,r,i,n),Ao(null,t,r,!0,e,n)}a("156")}var Ho={current:null},Lo=null,No=null,Bo=null;function zo(e,t){var n=e.type._context;Mr(Ho,n._currentValue),n._currentValue=t}function Fo(e){var t=Ho.current;Pr(Ho),e.type._context._currentValue=t}function Wo(e,t){Lo=e,Bo=No=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(ko=!0),e.contextDependencies=null}function jo(e,t){return Bo!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Bo=e,t=1073741823),t={context:e,observedBits:t,next:null},null===No?(null===Lo&&a("308"),No=t,Lo.contextDependencies={first:t,expirationTime:0}):No=No.next=t),e._currentValue}var Vo=0,Uo=1,Go=2,qo=3,$o=!1;function Zo(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Xo(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ko(e){return{expirationTime:e,tag:Vo,payload:null,callback:null,next:null,nextEffect:null}}function Qo(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Yo(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Zo(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Zo(e.memoizedState),i=n.updateQueue=Zo(n.memoizedState)):r=e.updateQueue=Xo(i):null===i&&(i=n.updateQueue=Xo(r));null===i||r===i?Qo(r,t):null===r.lastUpdate||null===i.lastUpdate?(Qo(r,t),Qo(i,t)):(Qo(r,t),i.lastUpdate=t)}function Jo(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Zo(e.memoizedState):ea(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ea(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Xo(t)),t}function ta(e,t,n,r,o,a){switch(n.tag){case Uo:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case qo:e.effectTag=-2049&e.effectTag|64;case Vo:if(null==(o="function"==typeof(e=n.payload)?e.call(a,r,o):e))break;return i({},r,o);case Go:$o=!0}return r}function na(e,t,n,r,i){$o=!1;for(var o=(t=ea(e,t)).baseState,a=null,l=0,s=t.firstUpdate,u=o;null!==s;){var c=s.expirationTime;c<i?(null===a&&(a=s,o=u),l<c&&(l=c)):(u=ta(e,0,s,u,n,r),null!==s.callback&&(e.effectTag|=32,s.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=s:(t.lastEffect.nextEffect=s,t.lastEffect=s))),s=s.next}for(c=null,s=t.firstCapturedUpdate;null!==s;){var d=s.expirationTime;d<i?(null===c&&(c=s,null===a&&(o=u)),l<d&&(l=d)):(u=ta(e,0,s,u,n,r),null!==s.callback&&(e.effectTag|=32,s.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=s:(t.lastCapturedEffect.nextEffect=s,t.lastCapturedEffect=s))),s=s.next}null===a&&(t.lastUpdate=null),null===c?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===c&&(o=u),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=c,e.expirationTime=l,e.memoizedState=u}function ra(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ia(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ia(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ia(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function oa(e,t){return{value:e,source:t,stack:st(t)}}function aa(e){e.effectTag|=4}var la=void 0,sa=void 0,ua=void 0,ca=void 0;la=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},sa=function(){},ua=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var l=t.stateNode;switch(wi(vi.current),e=null,n){case"input":a=xt(l,a),r=xt(l,r),e=[];break;case"option":a=$n(l,a),r=$n(l,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Xn(l,a),r=Xn(l,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(l.onclick=fr)}dr(n,r),l=n=void 0;var s=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var u=a[n];for(l in u)u.hasOwnProperty(l)&&(s||(s={}),s[l]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(x.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(l in u)!u.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(s||(s={}),s[l]="");for(l in c)c.hasOwnProperty(l)&&u[l]!==c[l]&&(s||(s={}),s[l]=c[l])}else s||(e||(e=[]),e.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(e=e||[]).push(n,""+c)):"children"===n?u===c||"string"!=typeof c&&"number"!=typeof c||(e=e||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(x.hasOwnProperty(n)?(null!=c&&hr(o,n),e||u===c||(e=[])):(e=e||[]).push(n,c))}s&&(e=e||[]).push("style",s),o=e,(t.updateQueue=o)&&aa(t)}},ca=function(e,t,n,r){n!==r&&aa(t)};var da="function"==typeof WeakSet?WeakSet:Set;function pa(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=st(n)),null!==n&&lt(n.type),t=t.value,null!==e&&1===e.tag&&lt(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ha(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Za(e,t)}else t.current=null}function fa(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Ei){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Ei&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function ma(e){switch("function"==typeof jr&&jr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Za(i,e)}}n=n.next}while(n!==t)}break;case 1:if(ha(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Za(e,t)}break;case 5:ha(e);break;case 4:va(e)}}function ga(e){return 5===e.tag||3===e.tag||4===e.tag}function ya(e){e:{for(var t=e.return;null!==t;){if(ga(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ga(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,l=i.stateNode,s=n;8===o.nodeType?o.parentNode.insertBefore(l,s):o.insertBefore(l,s)}else t.insertBefore(i.stateNode,n);else r?(l=t,s=i.stateNode,8===l.nodeType?(o=l.parentNode).insertBefore(s,l):(o=l).appendChild(s),null!=(l=l._reactRootContainer)||null!==o.onclick||(o.onclick=fr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function va(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,l=o;;)if(ma(l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===o)break;for(;null===l.sibling;){if(null===l.return||l.return===o)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(o=r,l=t.stateNode,8===o.nodeType?o.parentNode.removeChild(l):o.removeChild(l)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(ma(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function xa(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fa(Mi,Ci,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&function(e,t,n,r,i){e[D]=i,"input"===n&&"radio"===i.type&&null!=i.name&&wt(e,i),pr(n,r),r=pr(n,i);for(var o=0;o<t.length;o+=2){var a=t[o],l=t[o+1];"style"===a?ur(e,l):"dangerouslySetInnerHTML"===a?ir(e,l):"children"===a?or(e,l):yt(e,a,l,r)}switch(n){case"input":kt(e,i);break;case"textarea":Qn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Zn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Zn(e,!!i.multiple,i.defaultValue,!0):Zn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,o,i,e,r)}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=kl())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=sr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var l=t.stateNode;null===l&&(l=t.stateNode=new da),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Xa(t=kl(),e),null!==(e=Qa(e,t))&&(Jr(e,t),0!==(t=e.expirationTime)&&_l(e,t))}.bind(null,t,e);l.has(e)||(l.add(e),e.then(n,n))})}break;case 17:break;default:a("163")}}var ba="function"==typeof WeakMap?WeakMap:Map;function wa(e,t,n){(n=Ko(n)).tag=qo,n.payload={element:null};var r=t.value;return n.callback=function(){Rl(r),pa(e,t)},n}function ka(e,t,n){(n=Ko(n)).tag=qo;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ba?Ba=new Set([this]):Ba.add(this));var n=t.value,i=t.stack;pa(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function _a(e){switch(e.tag){case 1:Dr(e.type)&&Hr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return _i(),Lr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-2049&t|64,e;case 5:return Si(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return _i(),null;case 10:return Fo(e),null;default:return null}}var Ta=Ue.ReactCurrentDispatcher,Sa=Ue.ReactCurrentOwner,Ea=1073741822,Pa=!1,Ma=null,Ca=null,Aa=0,Oa=-1,Ra=!1,Ia=null,Da=!1,Ha=null,La=null,Na=null,Ba=null;function za(){if(null!==Ma)for(var e=Ma.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Hr();break;case 3:_i(),Lr();break;case 5:Si(t);break;case 4:_i();break;case 10:Fo(t)}e=e.return}Ca=null,Aa=0,Oa=-1,Ra=!1,Ma=null}function Fa(){for(;null!==Ia;){var e=Ia.effectTag;if(16&e&&or(Ia.stateNode,""),128&e){var t=Ia.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:ya(Ia),Ia.effectTag&=-3;break;case 6:ya(Ia),Ia.effectTag&=-3,xa(Ia.alternate,Ia);break;case 4:xa(Ia.alternate,Ia);break;case 8:va(e=Ia),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ia=Ia.nextEffect}}function Wa(){for(;null!==Ia;){if(256&Ia.effectTag)e:{var e=Ia.alternate,t=Ia;switch(t.tag){case 0:case 11:case 15:fa(Pi,Ei,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ri(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}Ia=Ia.nextEffect}}function ja(e,t){for(;null!==Ia;){var n=Ia.effectTag;if(36&n){var r=Ia.alternate,i=Ia,o=t;switch(i.tag){case 0:case 11:case 15:fa(Ai,Oi,i);break;case 1:var l=i.stateNode;if(4&i.effectTag)if(null===r)l.componentDidMount();else{var s=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);l.componentDidUpdate(s,r.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&ra(0,r,l);break;case 3:if(null!==(r=i.updateQueue)){if(l=null,null!==i.child)switch(i.child.tag){case 5:l=i.child.stateNode;break;case 1:l=i.child.stateNode}ra(0,r,l)}break;case 5:o=i.stateNode,null===r&&4&i.effectTag&&yr(i.type,i.memoizedProps)&&o.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:a("163")}}128&n&&(null!==(i=Ia.ref)&&(o=Ia.stateNode,"function"==typeof i?i(o):i.current=o)),512&n&&(Ha=e),Ia=Ia.nextEffect}}function Va(){null!==La&&kr(La),null!==Na&&Na()}function Ua(e,t){Da=Pa=!0,e.current===t&&a("177");var n=e.pendingCommitExpirationTime;0===n&&a("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Jr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Jr(e,t)):t>n&&Jr(e,t)}ni(0,e)}(e,i>r?i:r),Sa.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=Tn,gr=function(){var e=Ln();if(Nn(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var o=0,a=-1,l=-1,s=0,u=0,c=e,d=null;t:for(;;){for(var p;c!==t||0!==r&&3!==c.nodeType||(a=o+r),c!==i||0!==n&&3!==c.nodeType||(l=o+n),3===c.nodeType&&(o+=c.nodeValue.length),null!==(p=c.firstChild);)d=c,c=p;for(;;){if(c===e)break t;if(d===t&&++s===r&&(a=o),d===i&&++u===n&&(l=o),null!==(p=c.nextSibling))break;d=(c=d).parentNode}c=p}t=-1===a||-1===l?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Tn=!1,Ia=r;null!==Ia;){i=!1;var l=void 0;try{Wa()}catch(e){i=!0,l=e}i&&(null===Ia&&a("178"),Za(Ia,l),null!==Ia&&(Ia=Ia.nextEffect))}for(Ia=r;null!==Ia;){i=!1,l=void 0;try{Fa()}catch(e){i=!0,l=e}i&&(null===Ia&&a("178"),Za(Ia,l),null!==Ia&&(Ia=Ia.nextEffect))}for(Bn(gr),gr=null,Tn=!!mr,mr=null,e.current=t,Ia=r;null!==Ia;){i=!1,l=void 0;try{ja(e,n)}catch(e){i=!0,l=e}i&&(null===Ia&&a("178"),Za(Ia,l),null!==Ia&&(Ia=Ia.nextEffect))}if(null!==r&&null!==Ha){var s=function(e,t){Na=La=Ha=null;var n=il;il=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var o=t;fa(Ii,Ei,o),fa(Ei,Ri,o)}catch(e){r=!0,i=e}r&&Za(t,i)}t=t.nextEffect}while(null!==t);il=n,0!==(n=e.expirationTime)&&_l(e,n),cl||il||Ml(1073741823,!1)}.bind(null,e,r);La=o.unstable_runWithPriority(o.unstable_NormalPriority,function(){return wr(s)}),Na=s}Pa=Da=!1,"function"==typeof Wr&&Wr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Ba=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Ga(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Ma=e;e:{var o=t,l=Aa,s=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Dr(t.type)&&Hr();break;case 3:_i(),Lr(),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==o&&null!==o.child||(xo(t),t.effectTag&=-3),sa(t);break;case 5:Si(t);var u=wi(bi.current);if(l=t.type,null!==o&&null!=t.stateNode)ua(o,t,l,s,u),o.ref!==t.ref&&(t.effectTag|=128);else if(s){var c=wi(vi.current);if(xo(t)){o=(s=t).stateNode;var d=s.type,p=s.memoizedProps,h=u;switch(o[I]=s,o[D]=p,l=void 0,u=d){case"iframe":case"object":Sn("load",o);break;case"video":case"audio":for(d=0;d<te.length;d++)Sn(te[d],o);break;case"source":Sn("error",o);break;case"img":case"image":case"link":Sn("error",o),Sn("load",o);break;case"form":Sn("reset",o),Sn("submit",o);break;case"details":Sn("toggle",o);break;case"input":bt(o,p),Sn("invalid",o),hr(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!p.multiple},Sn("invalid",o),hr(h,"onChange");break;case"textarea":Kn(o,p),Sn("invalid",o),hr(h,"onChange")}for(l in dr(u,p),d=null,p)p.hasOwnProperty(l)&&(c=p[l],"children"===l?"string"==typeof c?o.textContent!==c&&(d=["children",c]):"number"==typeof c&&o.textContent!==""+c&&(d=["children",""+c]):x.hasOwnProperty(l)&&null!=c&&hr(h,l));switch(u){case"input":je(o),_t(o,p,!0);break;case"textarea":je(o),Yn(o);break;case"select":case"option":break;default:"function"==typeof p.onClick&&(o.onclick=fr)}l=d,s.updateQueue=l,(s=null!==l)&&aa(t)}else{p=t,h=l,o=s,d=9===u.nodeType?u:u.ownerDocument,c===Jn.html&&(c=er(h)),c===Jn.html?"script"===h?((o=d.createElement("div")).innerHTML="<script><\/script>",d=o.removeChild(o.firstChild)):"string"==typeof o.is?d=d.createElement(h,{is:o.is}):(d=d.createElement(h),"select"===h&&(h=d,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):d=d.createElementNS(c,h),(o=d)[I]=p,o[D]=s,la(o,t,!1,!1),h=o;var f=u,m=pr(d=l,p=s);switch(d){case"iframe":case"object":Sn("load",h),u=p;break;case"video":case"audio":for(u=0;u<te.length;u++)Sn(te[u],h);u=p;break;case"source":Sn("error",h),u=p;break;case"img":case"image":case"link":Sn("error",h),Sn("load",h),u=p;break;case"form":Sn("reset",h),Sn("submit",h),u=p;break;case"details":Sn("toggle",h),u=p;break;case"input":bt(h,p),u=xt(h,p),Sn("invalid",h),hr(f,"onChange");break;case"option":u=$n(h,p);break;case"select":h._wrapperState={wasMultiple:!!p.multiple},u=i({},p,{value:void 0}),Sn("invalid",h),hr(f,"onChange");break;case"textarea":Kn(h,p),u=Xn(h,p),Sn("invalid",h),hr(f,"onChange");break;default:u=p}dr(d,u),c=void 0;var g=d,y=h,v=u;for(c in v)if(v.hasOwnProperty(c)){var b=v[c];"style"===c?ur(y,b):"dangerouslySetInnerHTML"===c?null!=(b=b?b.__html:void 0)&&ir(y,b):"children"===c?"string"==typeof b?("textarea"!==g||""!==b)&&or(y,b):"number"==typeof b&&or(y,""+b):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(x.hasOwnProperty(c)?null!=b&&hr(f,c):null!=b&&yt(y,c,b,m))}switch(d){case"input":je(h),_t(h,p,!1);break;case"textarea":je(h),Yn(h);break;case"option":null!=p.value&&h.setAttribute("value",""+vt(p.value));break;case"select":(u=h).multiple=!!p.multiple,null!=(h=p.value)?Zn(u,!!p.multiple,h,!1):null!=p.defaultValue&&Zn(u,!!p.multiple,p.defaultValue,!0);break;default:"function"==typeof u.onClick&&(h.onclick=fr)}(s=yr(l,s))&&aa(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?ca(o,t,o.memoizedProps,s):("string"!=typeof s&&(null===t.stateNode&&a("166")),o=wi(bi.current),wi(vi.current),xo(t)?(l=(s=t).stateNode,o=s.memoizedProps,l[I]=s,(s=l.nodeValue!==o)&&aa(t)):(l=t,(s=(9===o.nodeType?o:o.ownerDocument).createTextNode(s))[I]=t,l.stateNode=s));break;case 11:break;case 13:if(s=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=l,Ma=t;break e}s=null!==s,l=null!==o&&null!==o.memoizedState,null!==o&&!s&&l&&(null!==(o=o.child.sibling)&&(null!==(u=t.firstEffect)?(t.firstEffect=o,o.nextEffect=u):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),(s||l)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:_i(),sa(t);break;case 10:Fo(t);break;case 9:case 14:break;case 17:Dr(t.type)&&Hr();break;case 18:break;default:a("156")}Ma=null}if(t=e,1===Aa||1!==t.childExpirationTime){for(s=0,l=t.child;null!==l;)(o=l.expirationTime)>s&&(s=o),(u=l.childExpirationTime)>s&&(s=u),l=l.sibling;t.childExpirationTime=s}if(null!==Ma)return Ma;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=_a(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function qa(e){var t=Do(e.alternate,e,Aa);return e.memoizedProps=e.pendingProps,null===t&&(t=Ga(e)),Sa.current=null,t}function $a(e,t){Pa&&a("243"),Va(),Pa=!0;var n=Ta.current;Ta.current=so;var r=e.nextExpirationTimeToWorkOn;r===Aa&&e===Ca&&null!==Ma||(za(),Aa=r,Ma=$r((Ca=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Ma&&!El();)Ma=qa(Ma);else for(;null!==Ma;)Ma=qa(Ma)}catch(t){if(Bo=No=Lo=null,Qi(),null===Ma)i=!0,Rl(t);else{null===Ma&&a("271");var o=Ma,l=o.return;if(null!==l){e:{var s=e,u=l,c=o,d=t;if(l=Aa,c.effectTag|=1024,c.firstEffect=c.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var p=d;d=u;var h=-1,f=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){f=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=d.pendingProps.maxDuration)&&(0>=m?h=0:(-1===h||m<h)&&(h=m))}d=d.return}while(null!==d);d=u;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(u=d.updateQueue)?((u=new Set).add(p),d.updateQueue=u):u.add(p),0==(1&d.mode)){d.effectTag|=64,c.effectTag&=-1957,1===c.tag&&(null===c.alternate?c.tag=17:((l=Ko(1073741823)).tag=Go,Yo(c,l))),c.expirationTime=1073741823;break e}u=l;var g=(c=s).pingCache;null===g?(g=c.pingCache=new ba,m=new Set,g.set(p,m)):void 0===(m=g.get(p))&&(m=new Set,g.set(p,m)),m.has(u)||(m.add(u),c=Ka.bind(null,c,p,u),p.then(c,c)),-1===h?s=1073741823:(-1===f&&(f=10*(1073741822-ti(s,l))-5e3),s=f+h),0<=s&&Oa<s&&(Oa=s),d.effectTag|=2048,d.expirationTime=l;break e}d=d.return}while(null!==d);d=Error((lt(c.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+st(c))}Ra=!0,d=oa(d,c),s=u;do{switch(s.tag){case 3:s.effectTag|=2048,s.expirationTime=l,Jo(s,l=wa(s,d,l));break e;case 1:if(h=d,f=s.type,c=s.stateNode,0==(64&s.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==c&&"function"==typeof c.componentDidCatch&&(null===Ba||!Ba.has(c)))){s.effectTag|=2048,s.expirationTime=l,Jo(s,l=ka(s,h,l));break e}}s=s.return}while(null!==s)}Ma=Ga(o);continue}i=!0,Rl(t)}}break}if(Pa=!1,Ta.current=n,Bo=No=Lo=null,Qi(),i)Ca=null,e.finishedWork=null;else if(null!==Ma)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&a("281"),Ca=null,Ra){if(i=e.latestPendingTime,o=e.latestSuspendedTime,l=e.latestPingedTime,0!==i&&i<r||0!==o&&o<r||0!==l&&l<r)return ei(e,r),void wl(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void wl(e,n,r,t,-1)}t&&-1!==Oa?(ei(e,r),(t=10*(1073741822-ti(e,r)))<Oa&&(Oa=t),t=10*(1073741822-kl()),t=Oa-t,wl(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Za(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ba||!Ba.has(r)))return Yo(n,e=ka(n,e=oa(t,e),1073741823)),void Ya(n,1073741823);break;case 3:return Yo(n,e=wa(n,e=oa(t,e),1073741823)),void Ya(n,1073741823)}n=n.return}3===e.tag&&(Yo(e,n=wa(e,n=oa(t,e),1073741823)),Ya(e,1073741823))}function Xa(e,t){var n=o.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(Pa&&!Da)r=Aa;else{switch(n){case o.unstable_ImmediatePriority:r=1073741823;break;case o.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case o.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case o.unstable_LowPriority:case o.unstable_IdlePriority:r=1;break;default:a("313")}null!==Ca&&r===Aa&&--r}return n===o.unstable_UserBlockingPriority&&(0===ll||r<ll)&&(ll=r),r}function Ka(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==Ca&&Aa===n?Ca=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ni(n,e),0!==(n=e.expirationTime)&&_l(e,n)))}function Qa(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Ya(e,t){null!==(e=Qa(e,t))&&(!Pa&&0!==Aa&&t>Aa&&za(),Jr(e,t),Pa&&!Da&&Ca===e||_l(e,e.expirationTime),yl>gl&&(yl=0,a("185")))}function Ja(e,t,n,r,i){return o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var el=null,tl=null,nl=0,rl=void 0,il=!1,ol=null,al=0,ll=0,sl=!1,ul=null,cl=!1,dl=!1,pl=null,hl=o.unstable_now(),fl=1073741822-(hl/10|0),ml=fl,gl=50,yl=0,vl=null;function xl(){fl=1073741822-((o.unstable_now()-hl)/10|0)}function bl(e,t){if(0!==nl){if(t<nl)return;null!==rl&&o.unstable_cancelCallback(rl)}nl=t,e=o.unstable_now()-hl,rl=o.unstable_scheduleCallback(Pl,{timeout:10*(1073741822-t)-e})}function wl(e,t,n,r,i){e.expirationTime=r,0!==i||El()?0<i&&(e.timeoutHandle=xr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,xl(),ml=fl,Cl(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function kl(){return il?ml:(Tl(),0!==al&&1!==al||(xl(),ml=fl),ml)}function _l(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===tl?(el=tl=e,e.nextScheduledRoot=e):(tl=tl.nextScheduledRoot=e).nextScheduledRoot=el):t>e.expirationTime&&(e.expirationTime=t),il||(cl?dl&&(ol=e,al=1073741823,Al(e,1073741823,!1)):1073741823===t?Ml(1073741823,!1):bl(e,t))}function Tl(){var e=0,t=null;if(null!==tl)for(var n=tl,r=el;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===tl)&&a("244"),r===r.nextScheduledRoot){el=tl=r.nextScheduledRoot=null;break}if(r===el)el=i=r.nextScheduledRoot,tl.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===tl){(tl=n).nextScheduledRoot=el,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===tl)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}ol=t,al=e}var Sl=!1;function El(){return!!Sl||!!o.unstable_shouldYield()&&(Sl=!0)}function Pl(){try{if(!El()&&null!==el){xl();var e=el;do{var t=e.expirationTime;0!==t&&fl<=t&&(e.nextExpirationTimeToWorkOn=fl),e=e.nextScheduledRoot}while(e!==el)}Ml(0,!0)}finally{Sl=!1}}function Ml(e,t){if(Tl(),t)for(xl(),ml=fl;null!==ol&&0!==al&&e<=al&&!(Sl&&fl>al);)Al(ol,al,fl>al),Tl(),xl(),ml=fl;else for(;null!==ol&&0!==al&&e<=al;)Al(ol,al,!1),Tl();if(t&&(nl=0,rl=null),0!==al&&bl(ol,al),yl=0,vl=null,null!==pl)for(e=pl,pl=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){sl||(sl=!0,ul=e)}}if(sl)throw e=ul,ul=null,sl=!1,e}function Cl(e,t){il&&a("253"),ol=e,al=t,Al(e,t,!1),Ml(1073741823,!1)}function Al(e,t,n){if(il&&a("245"),il=!0,n){var r=e.finishedWork;null!==r?Ol(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),$a(e,n),null!==(r=e.finishedWork)&&(El()?e.finishedWork=r:Ol(e,r,t)))}else null!==(r=e.finishedWork)?Ol(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),$a(e,n),null!==(r=e.finishedWork)&&Ol(e,r,t));il=!1}function Ol(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===pl?pl=[r]:pl.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===vl?yl++:(vl=e,yl=0),o.unstable_runWithPriority(o.unstable_ImmediatePriority,function(){Ua(e,t)})}function Rl(e){null===ol&&a("246"),ol.expirationTime=0,sl||(sl=!0,ul=e)}function Il(e,t){var n=cl;cl=!0;try{return e(t)}finally{(cl=n)||il||Ml(1073741823,!1)}}function Dl(e,t){if(cl&&!dl){dl=!0;try{return e(t)}finally{dl=!1}}return e(t)}function Hl(e,t,n){cl||il||0===ll||(Ml(ll,!1),ll=0);var r=cl;cl=!0;try{return o.unstable_runWithPriority(o.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(cl=r)||il||Ml(1073741823,!1)}}function Ll(e,t,n,r,i){var o=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||a("170");var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Dr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);a("171"),l=void 0}if(1===n.tag){var s=n.type;if(Dr(s)){n=Br(n,s,l);break e}}n=l}else n=Cr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=Ko(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Va(),Yo(o,i),Ya(o,r),r}function Nl(e,t,n,r){var i=t.current;return Ll(e,t,n,i=Xa(kl(),i),r)}function Bl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zl(e){var t=1073741822-25*(1+((1073741822-kl()+500)/25|0));t>=Ea&&(t=Ea-1),this._expirationTime=Ea=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fl(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Wl(e,t,n){e={current:t=Gr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vl(e,t,n,r,i){var o=n._reactRootContainer;if(o){if("function"==typeof i){var a=i;i=function(){var e=Bl(o._internalRoot);a.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Wl(e,!1,t)}(n,r),"function"==typeof i){var l=i;i=function(){var e=Bl(o._internalRoot);l.call(e)}}Dl(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return Bl(o._internalRoot)}function Ul(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return jl(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ze,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ee=function(e,t,n){switch(t){case"input":if(kt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=B(r);i||a("90"),Ve(r),kt(r,i)}}}break;case"textarea":Qn(e,n);break;case"select":null!=(t=n.value)&&Zn(e,!!n.multiple,t,!1)}},zl.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Fl;return Ll(e,t,null,n,r._onCommit),r},zl.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},zl.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Cl(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},zl.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fl.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fl.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Wl.prototype.render=function(e,t){var n=this._internalRoot,r=new Fl;return null!==(t=void 0===t?null:t)&&r.then(t),Nl(e,n,null,r._onCommit),r},Wl.prototype.unmount=function(e){var t=this._internalRoot,n=new Fl;return null!==(e=void 0===e?null:e)&&n.then(e),Nl(null,t,null,n._onCommit),n},Wl.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Fl;return null!==(n=void 0===n?null:n)&&i.then(n),Nl(t,r,e,i._onCommit),i},Wl.prototype.createBatch=function(){var e=new zl(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=Il,Ie=Hl,De=function(){il||0===ll||(Ml(ll,!1),ll=0)};var Gl={createPortal:Ul,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return jl(t)||a("200"),Vl(null,e,t,!0,n)},render:function(e,t,n){return jl(t)||a("200"),Vl(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return jl(n)||a("200"),(null==e||void 0===e._reactInternalFiber)&&a("38"),Vl(e,t,n,!1,r)},unmountComponentAtNode:function(e){return jl(e)||a("40"),!!e._reactRootContainer&&(Dl(function(){Vl(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ul.apply(void 0,arguments)},unstable_batchedUpdates:Il,unstable_interactiveUpdates:Hl,flushSync:function(e,t){il&&a("187");var n=cl;cl=!0;try{return Ja(e,t)}finally{cl=n,Ml(1073741823,!1)}},unstable_createRoot:function(e,t){return jl(e)||a("299","unstable_createRoot"),new Wl(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=cl;cl=!0;try{Ja(e)}finally{(cl=t)||il||Ml(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[L,N,B,C.injectEventPluginsByName,v,U,function(e){E(e,V)},Ae,Oe,Mn,O]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Wr=Vr(function(e){return t.onCommitFiberRoot(n,e)}),jr=Vr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(i({},e,{overrideProps:null,currentDispatcherRef:Ue.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:H,bundleType:0,version:"16.8.6",rendererPackageName:"react-dom"});var ql={default:Gl},$l=ql&&Gl||ql;e.exports=$l.default||$l},function(e,t,n){"use strict";e.exports=n(110)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,o=-1,a=-1,l=!1,s=!1;function u(){if(!l){var e=n.expirationTime;s?_():s=!0,k(p,e)}}function c(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,l=a;i=e,a=t;try{var s=r()}finally{i=o,a=l}if("function"==typeof s)if(s={callback:s,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=s.next=s.previous=s;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=s,u()),(t=r.previous).next=r.previous=s,s.next=r,s.previous=t}}function d(){if(-1===o&&null!==n&&1===n.priorityLevel){l=!0;try{do{c()}while(null!==n&&1===n.priorityLevel)}finally{l=!1,null!==n?u():s=!1}}}function p(e){l=!0;var i=r;r=e;try{if(e)for(;null!==n;){var o=t.unstable_now();if(!(n.expirationTime<=o))break;do{c()}while(null!==n&&n.expirationTime<=o)}else if(null!==n)do{c()}while(null!==n&&!T())}finally{l=!1,r=i,null!==n?u():s=!1,d()}}var h,f,m=Date,g="function"==typeof setTimeout?setTimeout:void 0,y="function"==typeof clearTimeout?clearTimeout:void 0,v="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,x="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function b(e){h=v(function(t){y(f),e(t)}),f=g(function(){x(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var w=performance;t.unstable_now=function(){return w.now()}}else t.unstable_now=function(){return m.now()};var k,_,T,S=null;if("undefined"!=typeof window?S=window:void 0!==e&&(S=e),S&&S._schedMock){var E=S._schedMock;k=E[0],_=E[1],T=E[2],t.unstable_now=E[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var P=null,M=function(e){if(null!==P)try{P(e)}finally{P=null}};k=function(e){null!==P?setTimeout(k,0,e):(P=e,setTimeout(M,0,!1))},_=function(){P=null},T=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof x&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var C=null,A=!1,O=-1,R=!1,I=!1,D=0,H=33,L=33;T=function(){return D<=t.unstable_now()};var N=new MessageChannel,B=N.port2;N.port1.onmessage=function(){A=!1;var e=C,n=O;C=null,O=-1;var r=t.unstable_now(),i=!1;if(0>=D-r){if(!(-1!==n&&n<=r))return R||(R=!0,b(z)),C=e,void(O=n);i=!0}if(null!==e){I=!0;try{e(i)}finally{I=!1}}};var z=function(e){if(null!==C){b(z);var t=e-D+L;t<L&&H<L?(8>t&&(t=8),L=t<H?H:t):H=t,D=e+L,A||(A=!0,B.postMessage(void 0))}else R=!1};k=function(e,t){C=e,O=t,I||0>t?B.postMessage(void 0):R||(R=!0,b(z))},_=function(){C=null,A=!1,O=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,d()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,a=o;i=n,o=t.unstable_now();try{return e()}finally{i=r,o=a,d()}},t.unstable_scheduleCallback=function(e,r){var a=-1!==o?o:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=a+r.timeout;else switch(i){case 1:r=a+-1;break;case 2:r=a+250;break;case 5:r=a+1073741823;break;case 4:r=a+1e4;break;default:r=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,u();else{a=null;var l=n;do{if(l.expirationTime>r){a=l;break}l=l.next}while(l!==n);null===a?a=n:a===n&&(n=e,u()),(r=a.previous).next=a.previous=e,e.next=a,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,d()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<a||T())},t.unstable_continueExecution=function(){null!==n&&u()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(63))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_axios=__webpack_require__(112),_axios2=_interopRequireDefault(_axios),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_openseadragon=__webpack_require__(23),_openseadragon2=_interopRequireDefault(_openseadragon),_MIDIPlayer=__webpack_require__(132),_MIDIPlayer2=_interopRequireDefault(_MIDIPlayer),_Controls=__webpack_require__(150),_Controls2=_interopRequireDefault(_Controls),_ErrorBoundary=__webpack_require__(155),_ErrorBoundary2=_interopRequireDefault(_ErrorBoundary),_FacsimileViewer=__webpack_require__(156),_FacsimileViewer2=_interopRequireDefault(_FacsimileViewer),_VerovioViewer=__webpack_require__(157),_VerovioViewer2=_interopRequireDefault(_VerovioViewer),_CompositeVerovioViewer=__webpack_require__(309),_CompositeVerovioViewer2=_interopRequireDefault(_CompositeVerovioViewer),_config=__webpack_require__(313),_constants=__webpack_require__(41),_imagesIIIF=__webpack_require__(314),_imagesIIIF2=_interopRequireDefault(_imagesIIIF),_annotData=__webpack_require__(315),_interactDOM=__webpack_require__(316),_analyse=__webpack_require__(70),_root=__webpack_require__(317),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}__webpack_require__(318),enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var VEROVIO_ERROR_HELP=["Looks like Verovio is unable to render the data.","You can either try editing the data or select something else to render.",'As soon as you have done one of these things, click "Try to recover..."'].join(" "),fetchFilesList=function(){return _axios2.default.get(_config.urls[_constants.ENDPOINT_LIST],{responseType:"json"}).then(function(e){return e.data.filenames}).catch(function(e){return console.log(e)})},fetchMEI=function(e){return _axios2.default.get(_config.urls[_constants.ENDPOINT_FILE]+"/"+e,{responseType:"text"}).then(function(e){return e.data})},XMLNSMAP={mei:"http://www.music-encoding.org/ns/mei"},highlightSubstAddDel=function(e,t){var n=(0,_interactDOM.getElementsForXPath)(e,"//*[ancestor::mei:del[not(parent::mei:subst)]]",XMLNSMAP).map(function(e){return e.getAttribute("xml:id")});(0,_interactDOM.addStyleToElements)((0,_interactDOM.getElementsWithIdsIfPresent)(t,n),"del-only"),(0,_interactDOM.addStyleToElements)((0,_interactDOM.getElementsBySelector)(t,".subst .del"),"subst-del"),(0,_interactDOM.addStyleToElements)((0,_interactDOM.getElementsBySelector)(t,".subst .add"),"subst-add")},getSubstAlternatives=function(e){return Array.from(e.getElementsByTagName("subst")).reduce(function(e,t){var n=t.getAttribute("xml:id"),r=Array.from(t.children).filter(function(e){return"add"===e.tagName||"del"===e.tagName}).map(function(e){return e.getAttribute("xml:id")});return _extends({},e,_defineProperty({},n,r))},{})},getNextAlternativeId=function(e,t){var n=(0,_interactDOM.getElementsBySelector)(e,".add, .del").filter(function(e){return e.hasChildNodes()})[0].getAttribute("id"),r=t.findIndex(function(e){return e===n});return t[r<t.length-1?r+1:0]},handleSubstClick=function(e,t,n){var r=n.currentTarget,i=r.getAttribute("id");t(i,getNextAlternativeId(r,e[i]))},clearMidiActive=function(){document.getElementById("vViewer").querySelectorAll(".note").forEach(function(e){return e.classList.remove("midi-active")})},postXSLT=function(e,t){var n=new FormData;return Object.entries(t).forEach(function(e){var t=_slicedToArray(e,2),r=t[0],i=t[1];return n.append(r,i)}),_axios2.default.post(e,n).then(function(e){return e.data})},App=function(_React$Component){function App(e){_classCallCheck(this,App);var t=_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,e));return t.verovioViewer=_react2.default.createRef(),t.state={analyseWindowSize:4,appMode:_constants.MODE_FACS,currentFileName:"",currentMeasureCount:100,currentProfile:_analyse.PROFILES[0],errorMsg:"",facsimileData:null,facsimilePage:0,filesList:[],isAnnotStyleVisible:!0,isDarkModeActivated:!1,isEncodingVisible:!0,isFacsViewerVisible:!0,isLoading:!1,mei:null,meiRendered:null,midiState:_constants.MIDI_STOP,midiTempo:60,showKeys:!1,substDefault:"./add",substData:{},verovioPage:1,verovioTotalPages:1},t.midiNeedsUpdate=!0,t.midiPlayer=null,t.midiStatusInterval=null,t.fetchFacsData=t.fetchFacsData.bind(t),t.fetchFilesListShowFirst=t.fetchFilesListShowFirst.bind(t),t.getCurrentMIDI=t.getCurrentMIDI.bind(t),t.getTheMEI=t.getTheMEI.bind(t),t.handleAnalyse=t.handleAnalyse.bind(t),t.handleAnnot=t.handleAnnot.bind(t),t.handleCVerovioRender=t.handleCVerovioRender.bind(t),t.handleControlsChange=t.handleControlsChange.bind(t),t.handleDismissError=t.handleDismissError.bind(t),t.handleFacsimilePage=t.handleFacsimilePage.bind(t),t.handleMidi=t.handleMidi.bind(t),t.handleMidiStatus=t.handleMidiStatus.bind(t),t.handleReload=t.handleReload.bind(t),t.handleSubstBusiness=t.handleSubstBusiness.bind(t),t.handleVerovioLoad=t.handleVerovioLoad.bind(t),t.handleVerovioPage=t.handleVerovioPage.bind(t),t.handleVerovioRender=t.handleVerovioRender.bind(t),t.handleVerovioSubst=t.handleVerovioSubst.bind(t),t.initMIDI=t.initMIDI.bind(t),t.pauseMIDI=t.pauseMIDI.bind(t),t.playMIDI=t.playMIDI.bind(t),t.stopMIDI=t.stopMIDI.bind(t),t}return _inherits(App,_React$Component),_createClass(App,[{key:"componentDidMount",value:function(){var e=this;this.fetchFacsData(),this.fetchFilesListShowFirst(),window.addEventListener("keyup",function(t){t.shiftKey&&82===t.keyCode&&e.handleReload()})}},{key:"componentDidUpdate",value:function(e,t){var n=this,r=this.state,i=r.appMode,o=r.currentFileName,a=r.filesList,l=r.isDarkModeActivated,s=r.mei;l!==t.isDarkModeActivated&&document.body.classList.toggle("dark",l),i!==t.appMode&&(i===_constants.MODE_WORK||i===_constants.MODE_RAW?this.setState({mei:null,meiRendered:null},function(){0===a.length?fetchFilesList().then(function(e){return n.setState({filesList:e},n.getTheMEI(e[0].name))}):n.getTheMEI(o)}):i===_constants.MODE_FACS&&this.setState({isFacsViewerVisible:!0})),s!==t.mei&&(this.midiNeedsUpdate=!0)}},{key:"componentWillUnmount",value:function(){this.midiPlayer=null,clearInterval(this.midiStatusInterval)}},{key:"fetchFacsData",value:function(){var e=this;this.setState({isLoading:!0}),_axios2.default.get(_config.urls[_constants.ENDPOINT_FACS],{responseType:"json"}).then(function(e){return e.data.facsimileData}).then(function(t){e.setState({facsimileData:t,isLoading:!1})}).catch(function(t){console.log(t),e.setState({errorMsg:t.message,isLoading:!1})})}},{key:"fetchFilesListShowFirst",value:function(){var e=this;this.setState({isLoading:!0}),fetchFilesList().then(function(t){var n=t[0].name;fetchMEI(n).then(function(r){return e.setState({currentFileName:n,filesList:t,isLoading:!1,mei:r,meiRendered:r})})}).catch(function(t){console.log(t),e.setState({errorMsg:t.message,isLoading:!1})})}},{key:"getCurrentMIDI",value:function(){return this.verovioViewer.current.getMIDI()}},{key:"getTheMEI",value:function(e){var t=this,n=this.state.appMode;this.setState({isLoading:!0}),fetchMEI(e).then(n===_constants.MODE_WORK?function(e){return postXSLT(_config.urls[_constants.ENDPOINT_XSLT],{__xslID:"work",__xml:e})}:function(e){return e}).then(function(n){return t.setState({currentFileName:e,isLoading:!1,mei:n,meiRendered:n,showKeys:!1})}).catch(function(e){console.log(e),t.setState({errorMsg:e.message,isLoading:!1})})}},{key:"handleAnalyse",value:function(){var e=this,t=this.state,n=t.mei,r=t.analyseWindowSize,i=t.currentProfile;this.setState({isLoading:!0}),postXSLT(_config.urls[_constants.ENDPOINT_XSLT],{__xslID:"analyseByKey",__xml:n,profile:i,windowSize:r}).then(function(t){return e.setState({isLoading:!1,meiRendered:t,showKeys:!0})}).catch(function(t){console.log(t),e.setState({errorMsg:t.message,isLoading:!1})})}},{key:"handleAnnot",value:function(e){var t=this,n=_imagesIIIF2.default[this.state.facsimilePage].url.split("/")[5];_annotData.annotData[n].forEach(function(n){var r=n.ulx,i=n.uly,o=n.lrx-r,a=n.lry-i,l=e.viewport.imageToViewportRectangle(r,i,o,a),s=document.createElement("div");s.setAttribute("id",n.id),s.classList.add("facs-overlay"),s.classList.toggle("invisible",!t.state.isAnnotStyleVisible);var u=document.createElement("div");u.classList.add("facs-overlay-text"),u.classList.add("invisible"),u.innerHTML=n.ann,u.addEventListener("click",function(){return u.classList.toggle("invisible",!0)}),e.addOverlay({element:u,location:new _openseadragon2.default.Point(l.x,l.y)}),u.querySelectorAll(".annot-abbr").forEach(function(e){e.addEventListener("mouseenter",function(){e.innerHTML=e.getAttribute("data-expan")}),e.addEventListener("mouseleave",function(){e.innerHTML=e.getAttribute("data-abbr")})}),s.addEventListener("click",function(t){var n=new _openseadragon2.default.Point(t.pageX-10,t.pageY-40),r=e.viewport.viewerElementToViewportCoordinates(n);e.updateOverlay(u,r),u.classList.toggle("invisible")}),e.addOverlay({element:s,location:l})})}},{key:"handleControlsChange",value:function(e){var t=e.target,n="checkbox"===t.type?t.checked:t.value,r=t.name;if("appMode"===r&&this.setState({appMode:n,showKeys:!1}),"substDefault"===r&&this.setState({substData:{}}),"isAnnotStyleVisible"===r&&(document.querySelectorAll(".facs-overlay").forEach(function(e){return e.classList.toggle("invisible",!n)}),n||document.querySelectorAll(".facs-overlay-text").forEach(function(e){return e.classList.toggle("invisible",!0)})),"currentFileName"===r){var i=this.state,o=i.appMode,a=i.facsimileData,l=-1,s=Object.entries(a.locations).find(function(e){var t=_slicedToArray(e,2),r=(t[0],t[1]);return r.length>0&&r[0].filePath===n});if(void 0!==s){var u=s[0];l=a.pages.findIndex(function(e){return e.label===u}),o===_constants.MODE_WORK&&this.getTheMEI(n)}o===_constants.MODE_FACS&&this.setState({currentFileName:n}),l>=0&&this.handleFacsimilePage(l)}else if("facsimilePage"===r){var c=this.state.facsimilePage,d=parseInt(n,10),p=!isNaN(d)&&d>=0&&d<=_imagesIIIF2.default.length?d:c;this.handleFacsimilePage(p)}else if("analyseWindowSize"===r){var h=this.state,f=h.analyseWindowSize,m=h.currentMeasureCount,g=parseInt(n,10),y=!isNaN(g)&&g>0&&g<=m?g:f;this.setState({analyseWindowSize:y})}else if("midiTempo"===r){var v=this.state.midiTempo,x=parseInt(n,10),b=!isNaN(x)&&x>=1&&x<=240?x:v;this.setState({midiTempo:b})}else this.setState(_defineProperty({},r,n))}},{key:"handleCVerovioRender",value:function(e){var t=this,n=e.meiDocs,r=e.viewerDiv;n.forEach(function(e){t.handleSubstBusiness(e,r)})}},{key:"handleDismissError",value:function(){this.setState({errorMsg:""})}},{key:"handleFacsimilePage",value:function(e){if(e!==this.state.facsimilePage&&(this.setState({facsimilePage:e}),this.state.appMode===_constants.MODE_FACS)){var t=this.state.facsimileData,n=t.pages[e].label,r=t.locations[n].length>0?t.locations[n][0].filePath:void 0;void 0!==r&&this.setState({currentFileName:r})}}},{key:"handleMidi",value:function(e){var t=this;e===_constants.MIDI_PAUSE?this.pauseMIDI():e===_constants.MIDI_PLAY?null!==this.midiPlayer&&this.midiPlayer.isReady?this.playMIDI():this.initMIDI(function(){return t.playMIDI()}):e===_constants.MIDI_STOP&&this.stopMIDI()}},{key:"handleMidiStatus",value:function(){var e=this.midiPlayer.getPlaybackStatus().currentMilliseconds/120*this.state.midiTempo,t=this.verovioViewer.current.getElementsAtTime(Math.max(0,e-100)),n=t.notes,r=t.page;r!==this.state.verovioPage&&this.verovioViewer.current.setPage(r);var i=document.getElementById("vViewer");clearMidiActive(),(0,_interactDOM.getElementsWithIdsIfPresent)(i,n).forEach(function(e){return e.classList.add("midi-active")})}},{key:"handleReload",value:function(){var e=this.state.currentFileName;this.getTheMEI(e)}},{key:"handleSubstBusiness",value:function(e,t){highlightSubstAddDel(e,t);var n=getSubstAlternatives(e),r=Object.keys(n),i=handleSubstClick.bind(null,n,this.handleVerovioSubst);(0,_interactDOM.getElementsWithIdsIfPresent)(t,r).forEach(function(e){return e.addEventListener("click",i)})}},{key:"handleVerovioLoad",value:function(e){this.setState({verovioTotalPages:e})}},{key:"handleVerovioPage",value:function(e){this.setState({verovioPage:e})}},{key:"handleVerovioRender",value:function(e){var t=this,n=e.meiDoc,r=e.viewerDiv,i=this.state,o=i.analyseWindowSize,a=i.appMode,l=i.showKeys,s=Array.from(n.querySelectorAll("measure")).length;this.setState({currentMeasureCount:s,analyseWindowSize:Math.min(s,o)}),a!==_constants.MODE_WORK&&this.handleSubstBusiness(n,r),l&&((0,_analyse.drawBars)(r),(0,_analyse.addTitlesToSpecialTones)(r)),r.querySelectorAll(".note").forEach(function(e){return e.addEventListener("click",function(e){if(null!==t.midiPlayer&&t.midiPlayer.isReady){var n=e.target.parentElement.getAttribute("id");if(n){var r=t.verovioViewer.current.getTimeForElement(n)*(120/t.state.midiTempo);t.state.midiState===_constants.MIDI_PLAY&&t.pauseMIDI(),t.midiPlayer.setPlaybackPosition(r),t.state.midiState===_constants.MIDI_PAUSE&&t.playMIDI()}}})})}},{key:"handleVerovioSubst",value:function(e,t){this.setState(function(n){return{substData:_extends({},n.substData,_defineProperty({},e,t))}})}},{key:"initMIDI",value:function(e){this.midiPlayer=new _MIDIPlayer2.default({end:this.stopMIDI}),this.midiPlayer.init(e)}},{key:"pauseMIDI",value:function(){clearInterval(this.midiStatusInterval),this.midiPlayer.pause(),this.setState({midiState:_constants.MIDI_PAUSE})}},{key:"playMIDI",value:function(){this.midiNeedsUpdate&&(this.midiPlayer.loadMIDI(this.getCurrentMIDI()),this.midiNeedsUpdate=!1),this.midiPlayer.setTempo(this.state.midiTempo),this.midiPlayer.play(),this.midiStatusInterval=setInterval(this.handleMidiStatus,100),this.setState({midiState:_constants.MIDI_PLAY})}},{key:"stopMIDI",value:function(){clearInterval(this.midiStatusInterval),clearMidiActive(),this.midiPlayer.stop(),this.setState({midiState:_constants.MIDI_STOP})}},{key:"render",value:function(){var e=this.state,t=e.analyseWindowSize,n=e.appMode,r=e.currentFileName,i=e.currentProfile,o=e.errorMsg,a=e.isDarkModeActivated,l=e.facsimileData,s=e.facsimilePage,u=e.filesList,c=e.isAnnotStyleVisible,d=e.isEncodingVisible,p=e.isFacsViewerVisible,h=e.isLoading,f=e.mei,m=e.meiRendered,g=e.midiState,y=e.midiTempo,v=e.substData,x=e.substDefault,b=e.verovioPage,w=e.verovioTotalPages;return _react2.default.createElement("div",{id:"app"},_react2.default.createElement(_Controls2.default,{analyseWindowSize:t,appMode:n,currentFileName:r,currentProfile:i,errorMessage:o,facsimileData:l,facsimilePage:s,filesList:u,isAnnotStyleVisible:c,isDarkModeActivated:a,isEncodingVisible:d,isFacsViewerVisible:p,midiState:g,midiTempo:y,onAnalyse:this.handleAnalyse,onChange:this.handleControlsChange,onDismissError:this.handleDismissError,onMidiControl:this.handleMidi,substDefault:x,verovioPage:n===_constants.MODE_FACS?s+1:b,verovioTotalPages:n===_constants.MODE_FACS?(l&&l.pages||[]).length:w}),_react2.default.createElement("div",{id:"viewers"},h&&_react2.default.createElement("div",{id:"loading-indicator"},"Laden..."),_react2.default.createElement("div",{id:"actual-viewers",className:p&&d?"viewersGrid":"viewersSolo"},p&&_react2.default.createElement(_FacsimileViewer2.default,{currentPage:s,annotCreator:this.handleAnnot,onPage:this.handleFacsimilePage,tileSources:_imagesIIIF2.default.map(function(e){return e.url}),viewerID:"fViewer"}),d&&_react2.default.createElement(_ErrorBoundary2.default,{helpText:VEROVIO_ERROR_HELP},n===_constants.MODE_FACS?l&&_react2.default.createElement(_CompositeVerovioViewer2.default,{facsimileData:l,getFile:fetchMEI,onPage:this.handleFacsimilePage,onRender:this.handleCVerovioRender,pageIndex:s,substData:v,substDefault:x,viewerID:"vViewer"})||_react2.default.createElement("div",null,"Laden..."):f&&_react2.default.createElement(_VerovioViewer2.default,{ref:this.verovioViewer,onLoad:this.handleVerovioLoad,onPage:this.handleVerovioPage,onRender:this.handleVerovioRender,mei:m,substData:v,substDefault:x,viewerID:"vViewer"})||_react2.default.createElement("div",null,"Laden...")))))}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),App}(_react2.default.Component),_default=(0,_root.hot)(App),reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(VEROVIO_ERROR_HELP,"VEROVIO_ERROR_HELP","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(fetchFilesList,"fetchFilesList","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(fetchMEI,"fetchMEI","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(XMLNSMAP,"XMLNSMAP","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(highlightSubstAddDel,"highlightSubstAddDel","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(getSubstAlternatives,"getSubstAlternatives","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(getNextAlternativeId,"getNextAlternativeId","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(handleSubstClick,"handleSubstClick","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(clearMidiActive,"clearMidiActive","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(postXSLT,"postXSLT","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(App,"App","/home/bruckner/app/src/components/App.js"),reactHotLoader.register(_default,"default","/home/bruckner/app/src/components/App.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(e,t,n){e.exports=n(113)},function(e,t,n){"use strict";var r=n(6),i=n(64),o=n(115),a=n(40);function l(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var s=l(a);s.Axios=o,s.create=function(e){return l(r.merge(a,e))},s.Cancel=n(68),s.CancelToken=n(130),s.isCancel=n(67),s.all=function(e){return Promise.all(e)},s.spread=n(131),e.exports=s,e.exports.default=s},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var r=n(40),i=n(6),o=n(125),a=n(126);function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){l.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){l.prototype[e]=function(t,n,r){return this.request(i.merge(r||{},{method:e,url:t,data:n}))}}),e.exports=l},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function l(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,u=[],c=!1,d=-1;function p(){c&&s&&(c=!1,s.length?u=s.concat(u):d=-1,u.length&&h())}function h(){if(!c){var e=l(p);c=!0;for(var t=u.length;t;){for(s=u,u=[];++d<t;)s&&s[d].run();d=-1,t=u.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new f(e,t)),1!==u.length||c||l(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t){r.forEach(e,function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])})}},function(e,t,n){"use strict";var r=n(66);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e}},function(e,t,n){"use strict";var r=n(6);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},function(e,t,n){"use strict";var r=n(6),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}}),a):a}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,o=String(e),a="",l=0,s=r;o.charAt(0|l)||(s="=",l%1);a+=s.charAt(63&t>>8-l%1*8)){if((n=o.charCodeAt(l+=.75))>255)throw new i;t=t<<8|n}return a}},function(e,t,n){"use strict";var r=n(6);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var l=[];l.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&l.push("expires="+new Date(n).toGMTString()),r.isString(i)&&l.push("path="+i),r.isString(o)&&l.push("domain="+o),!0===a&&l.push("secure"),document.cookie=l.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(6);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var r=n(6),i=n(127),o=n(67),a=n(40),l=n(128),s=n(129);function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!l(e.url)&&(e.url=s(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||a.adapter)(e).then(function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e,t,n){return r.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(68);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new r(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_midiPlayerJs=__webpack_require__(133),_midiPlayerJs2=_interopRequireDefault(_midiPlayerJs),_soundfontPlayer=__webpack_require__(134),_soundfontPlayer2=_interopRequireDefault(_soundfontPlayer),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var MIDIPlayer=function(){function MIDIPlayer(e){_classCallCheck(this,MIDIPlayer),this.audioContext=new AudioContext,this.isReady=!1,this.midiPlayer=new _midiPlayerJs2.default.Player,this.noteTracker=new Map,this.piano=null,this.callbacks=_extends({end:function(){},pause:function(){},play:function(){},stop:function(){}},e),this.onMidiEvent=this.onMidiEvent.bind(this)}return _createClass(MIDIPlayer,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};this.midiPlayer.setTempo(60),this.midiPlayer.on("midiEvent",this.onMidiEvent),this.midiPlayer.on("endOfFile",this.callbacks.end),_soundfontPlayer2.default.instrument(this.audioContext,"acoustic_grand_piano",{soundfont:"FluidR3_GM"}).then(function(n){e.piano=n,e.isReady=!0,t()})}},{key:"loadMIDI",value:function(e){this.midiPlayer.loadDataUri("data:audio/midi;base64,"+e)}},{key:"noteOff",value:function(e){var t=this.noteTracker.get(e);void 0!==t&&t.stop(this.audioContext.currentTime)}},{key:"onMidiEvent",value:function(e){var t=e.name,n=e.noteName,r=e.track,i=e.velocity;if("Note on"===t){var o=r+":"+n;i>0?this.noteTracker.set(o,this.piano.play(n)):this.noteOff(o)}else if("Note off"===t){var a=r+":"+n;this.noteOff(a)}}},{key:"getPlaybackStatus",value:function(){var e=this.midiPlayer.getSongPercentRemaining(),t=this.midiPlayer.getCurrentTick();return{currentMilliseconds:6e4/(this.midiPlayer.tempo*this.midiPlayer.getDivision().division)*t,songPercentRemaining:e}}},{key:"setTempo",value:function(e){this.midiPlayer.setTempo(e)}},{key:"setPlaybackPosition",value:function(e){var t=this.midiPlayer.tempo,n=this.midiPlayer.getDivision().division;this.midiPlayer.skipToTick(e/(6e4/(t*n)))}},{key:"pause",value:function(){this.midiPlayer.pause(),this.piano.stop(),this.noteTracker.clear(),this.callbacks.pause()}},{key:"play",value:function(){this.midiPlayer.play(),this.callbacks.play()}},{key:"stop",value:function(){this.midiPlayer.stop(),this.piano.stop(),this.noteTracker.clear(),this.callbacks.stop()}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),MIDIPlayer}(),_default=MIDIPlayer,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(MIDIPlayer,"MIDIPlayer","/home/bruckner/app/src/MIDIPlayer.js"),reactHotLoader.register(_default,"default","/home/bruckner/app/src/MIDIPlayer.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(e,t,n){var r;e.exports=function e(t,n,i){function o(l,s){if(!n[l]){if(!t[l]){var u="function"==typeof r&&r;if(!s&&u)return r(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return o(n||e)},d,d.exports,e,t,n,i)}return n[l].exports}for(var a="function"==typeof r&&r,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){"use strict";n.byteLength=function(e){return 3*e.length/4-u(e)},n.toByteArray=function(e){var t,n,r,a,l,s=e.length;a=u(e),l=new o(3*s/4-a),n=a>0?s-4:s;var c=0;for(t=0;t<n;t+=4)r=i[e.charCodeAt(t)]<<18|i[e.charCodeAt(t+1)]<<12|i[e.charCodeAt(t+2)]<<6|i[e.charCodeAt(t+3)],l[c++]=r>>16&255,l[c++]=r>>8&255,l[c++]=255&r;return 2===a?(r=i[e.charCodeAt(t)]<<2|i[e.charCodeAt(t+1)]>>4,l[c++]=255&r):1===a&&(r=i[e.charCodeAt(t)]<<10|i[e.charCodeAt(t+1)]<<4|i[e.charCodeAt(t+2)]>>2,l[c++]=r>>8&255,l[c++]=255&r),l},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o="",a=[],l=0,s=n-i;l<s;l+=16383)a.push(c(e,l,l+16383>s?s:l+16383));return 1===i?(t=e[n-1],o+=r[t>>2],o+=r[t<<4&63],o+="=="):2===i&&(t=(e[n-2]<<8)+e[n-1],o+=r[t>>10],o+=r[t>>4&63],o+=r[t<<2&63],o+="="),a.push(o),a.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=0,s=a.length;l<s;++l)r[l]=a[l],i[a.charCodeAt(l)]=l;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===e[t-2]?2:"="===e[t-1]?1:0}function c(e,t,n){for(var i,o,a=[],l=t;l<n;l+=3)i=(e[l]<<16)+(e[l+1]<<8)+e[l+2],a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],2:[function(e,t,n){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var r=e("base64-js"),i=e("ieee754");n.Buffer=l,n.SlowBuffer=function(e){return+e!=e&&(e=0),l.alloc(+e)},n.INSPECT_MAX_BYTES=50;var o=2147483647;function a(e){if(e>o)throw new RangeError("Invalid typed array length");var t=new Uint8Array(e);return t.__proto__=l.prototype,t}function l(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(e)}return s(e,t,n)}function s(e,t,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return z(e)?function(e,t,n){if(t<0||e.byteLength<t)throw new RangeError("'offset' is out of bounds");if(e.byteLength<t+(n||0))throw new RangeError("'length' is out of bounds");var r;return(r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n)).__proto__=l.prototype,r}(e,t,n):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!l.isEncoding(t))throw new TypeError('"encoding" must be a valid string encoding');var n=0|h(e,t),r=a(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}(e,t):function(e){if(l.isBuffer(e)){var t=0|p(e.length),n=a(t);return 0===n.length?n:(e.copy(n,0,0,t),n)}if(e){if(F(e)||"length"in e)return"number"!=typeof e.length||W(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e){return u(e),a(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),n=a(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function h(e,t){if(l.isBuffer(e))return e.length;if(F(e)||z(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return L(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(e).length;default:if(r)return L(e).length;t=(""+t).toLowerCase(),r=!0}}function f(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,l=e.length,s=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,l/=2,s/=2,n/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<l;o++)if(u(e,o)===u(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===s)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+s>l&&(n=l-s),o=n;o>=0;o--){for(var d=!0,p=0;p<s;p++)if(u(e,o+p)!==u(t,p)){d=!1;break}if(d)return o}return-1}function y(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var l=parseInt(t.substr(2*a,2),16);if(W(l))return a;e[n+a]=l}return a}function v(e,t,n,r){return B(L(t,e.length-n),e,n,r)}function x(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function b(e,t,n,r){return x(e,t,n,r)}function w(e,t,n,r){return B(N(t),e,n,r)}function k(e,t,n,r){return B(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,l,s,u=e[i],c=null,d=u>239?4:u>223?3:u>191?2:1;if(i+d<=n)switch(d){case 1:u<128&&(c=u);break;case 2:128==(192&(o=e[i+1]))&&(s=(31&u)<<6|63&o)>127&&(c=s);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(s=(15&u)<<12|(63&o)<<6|63&a)>2047&&(s<55296||s>57343)&&(c=s);break;case 4:o=e[i+1],a=e[i+2],l=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&l)&&(s=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&l)>65535&&s<1114112&&(c=s)}null===c?(c=65533,d=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=d}return function(e){var t=e.length;if(t<=S)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=S));return n}(r)}n.kMaxLength=o,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),l.poolSize=8192,l.from=function(e,t,n){return s(e,t,n)},l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"==typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},l.allocUnsafe=function(e){return c(e)},l.allocUnsafeSlow=function(e){return c(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=h,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)f(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)f(this,t,t+3),f(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)f(this,t,t+7),f(this,t+1,t+6),f(this,t+2,t+5),f(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?T(this,0,e):function(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return E(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,a=n-t,s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),d=0;d<s;++d)if(u[d]!==c[d]){o=u[d],a=c[d];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return y(this,e,t,n);case"utf8":case"utf-8":return v(this,e,t,n);case"ascii":return x(this,e,t,n);case"latin1":case"binary":return b(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function E(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r,i=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>i)&&(n=i);for(var o="",a=t;a<n;++a)o+=(r=e[a])<16?"0"+r.toString(16):r.toString(16);return o}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function A(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function I(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return r.__proto__=l.prototype,r},l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||A(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||A(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||A(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||A(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||A(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||A(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||A(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;O(this,e,t,n,i,0)}var o=1,a=0;for(this[t]=255&e;++a<n&&(o*=256);)this[t+a]=e/o&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;O(this,e,t,n,i,0)}var o=n-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=0,a=1,l=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===l&&0!==this[t+o-1]&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);O(this,e,t,n,i-1,-i)}var o=n-1,a=1,l=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===l&&0!==this[t+o+1]&&(l=1),this[t+o]=(e/a>>0)-l&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return I(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return I(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:new l(e,r),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var H=/[^+\/0-9A-Za-z-_]/g;function L(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(e){return r.toByteArray(function(e){if((e=e.trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function z(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function F(e){return"function"==typeof ArrayBuffer.isView&&ArrayBuffer.isView(e)}function W(e){return e!=e}},{"base64-js":1,ieee754:3}],3:[function(e,t,n){n.read=function(e,t,n,r,i){var o,a,l=8*i-r-1,s=(1<<l)-1,u=s>>1,c=-7,d=n?i-1:0,p=n?-1:1,h=e[t+d];for(d+=p,o=h&(1<<-c)-1,h>>=-c,c+=l;c>0;o=256*o+e[t+d],d+=p,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+d],d+=p,c-=8);if(0===o)o=1-u;else{if(o===s)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=u}return(h?-1:1)*a*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var a,l,s,u=8*o-i-1,c=(1<<u)-1,d=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(s=Math.pow(2,-a))<1&&(a--,s*=2),(t+=a+d>=1?p/s:p*Math.pow(2,1-d))*s>=2&&(a++,s/=2),a+d>=c?(l=0,a=c):a+d>=1?(l=(t*s-1)*Math.pow(2,i),a+=d):(l=t*Math.pow(2,d-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&l,h+=f,l/=256,i-=8);for(a=a<<i|l,u+=i;u>0;e[n+h]=255&a,h+=f,a/=256,u-=8);e[n+h-f]|=128*m}},{}],4:[function(e,t,n){"use strict";for(var r={VERSION:"2.0.5",NOTES:[],CIRCLE_OF_FOURTHS:["C","F","Bb","Eb","Ab","Db","Gb","Cb","Fb","Bbb","Ebb","Abb"],CIRCLE_OF_FIFTHS:["C","G","D","A","E","B","F#","C#","G#","D#","A#","E#"]},i=[["C"],["C#","Db"],["D"],["D#","Eb"],["E"],["F"],["F#","Gb"],["G"],["G#","Ab"],["A"],["A#","Bb"],["B"]],o=0,a=function(e){i.forEach(function(t){t.forEach(function(t){return r.NOTES[o]=t+e}),o++})},l=-1;l<=9;l++)a(l);n.Constants=r},{}],5:[function(e,t,n){"use strict";var r=e("./player"),i=e("./utils"),o=e("./constants");t.exports={Player:r.Player,Utils:i.Utils,Constants:o.Constants}},{"./constants":4,"./player":6,"./utils":8}],6:[function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e("./utils").Utils,a=e("./track").Track;Uint8Array.prototype.forEach||Object.defineProperty(Uint8Array.prototype,"forEach",{value:Array.prototype.forEach});var l=function(){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.sampleRate=5,this.startTime=0,this.buffer=n||null,this.division,this.format,this.setIntervalId=!1,this.tracks=[],this.instruments=[],this.defaultTempo=120,this.tempo=null,this.startTick=0,this.tick=0,this.lastTick=null,this.inLoop=!1,this.totalTicks=0,this.events=[],this.totalEvents=0,this.eventListeners={},"function"==typeof e&&this.on("midiEvent",e)}return i(t,[{key:"loadFile",value:function(t){var n=e("fs");return this.buffer=n.readFileSync(t),this.fileLoaded()}},{key:"loadArrayBuffer",value:function(e){return this.buffer=new Uint8Array(e),this.fileLoaded()}},{key:"loadDataUri",value:function(e){for(var t=o.atob(e.split(",")[1]),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return this.buffer=n,this.fileLoaded()}},{key:"getFilesize",value:function(){return this.buffer?this.buffer.length:0}},{key:"fileLoaded",value:function(){if(!this.validate())throw"Invalid MIDI file; should start with MThd";return this.setTempo(this.defaultTempo).getDivision().getFormat().getTracks().dryRun()}},{key:"validate",value:function(){return"MThd"===o.bytesToLetters(this.buffer.subarray(0,4))}},{key:"getFormat",value:function(){return this.format=o.bytesToNumber(this.buffer.subarray(8,10)),this}},{key:"getTracks",value:function(){this.tracks=[];for(var e=0;e<this.buffer.length;){if("MTrk"==o.bytesToLetters(this.buffer.subarray(e,e+4))){var t=o.bytesToNumber(this.buffer.subarray(e+4,e+8));this.tracks.push(new a(this.tracks.length,this.buffer.subarray(e+8,e+8+t)))}e+=o.bytesToNumber(this.buffer.subarray(e+4,e+8))+8}return this}},{key:"enableTrack",value:function(e){return this.tracks[e-1].enable(),this}},{key:"disableTrack",value:function(e){return this.tracks[e-1].disable(),this}},{key:"getDivision",value:function(){return this.division=o.bytesToNumber(this.buffer.subarray(12,14)),this}},{key:"playLoop",value:function(e){this.inLoop||(this.inLoop=!0,this.tick=this.getCurrentTick(),this.tracks.forEach(function(t){if(!e&&this.endOfFile())this.triggerPlayerEvent("endOfFile"),this.stop();else{var n=t.handleEvent(this.tick,e);e&&n?(n.hasOwnProperty("name")&&"Set Tempo"===n.name&&(this.defaultTempo=n.data,this.setTempo(n.data)),n.hasOwnProperty("name")&&"Program Change"===n.name&&(this.instruments.includes(n.value)||this.instruments.push(n.value))):n&&this.emitEvent(n)}},this),e||this.triggerPlayerEvent("playing",{tick:this.tick}),this.inLoop=!1)}},{key:"setTempo",value:function(e){return this.tempo=e,this}},{key:"setStartTime",value:function(e){this.startTime=e}},{key:"play",value:function(){if(this.isPlaying())throw"Already playing...";return this.startTime||(this.startTime=(new Date).getTime()),this.setIntervalId=setInterval(this.playLoop.bind(this),this.sampleRate),this}},{key:"pause",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=this.tick,this.startTime=0,this}},{key:"stop",value:function(){return clearInterval(this.setIntervalId),this.setIntervalId=!1,this.startTick=0,this.startTime=0,this.resetTracks(),this}},{key:"skipToTick",value:function(e){return this.stop(),this.startTick=e,this.tracks.forEach(function(t){t.setEventIndexByTick(e)}),this}},{key:"skipToPercent",value:function(e){if(e<0||e>100)throw"Percent must be number between 1 and 100.";return this.skipToTick(Math.round(e/100*this.totalTicks)),this}},{key:"skipToSeconds",value:function(e){var t=this.getSongTime();if(e<0||e>t)throw e+" seconds not within song time of "+t;return this.skipToPercent(e/t*100),this}},{key:"isPlaying",value:function(){return this.setIntervalId>0||"object"===r(this.setIntervalId)}},{key:"dryRun",value:function(){for(this.resetTracks();!this.endOfFile();)this.playLoop(!0);return this.events=this.getEvents(),this.totalEvents=this.getTotalEvents(),this.totalTicks=this.getTotalTicks(),this.startTick=0,this.startTime=0,this.resetTracks(),this.triggerPlayerEvent("fileLoaded",this),this}},{key:"resetTracks",value:function(){return this.tracks.forEach(function(e){return e.reset()}),this}},{key:"getEvents",value:function(){return this.tracks.map(function(e){return e.events})}},{key:"getTotalTicks",value:function(){return Math.max.apply(null,this.tracks.map(function(e){return e.delta}))}},{key:"getTotalEvents",value:function(){return this.tracks.reduce(function(e,t){return{events:{length:e.events.length+t.events.length}}},{events:{length:0}}).events.length}},{key:"getSongTime",value:function(){return this.totalTicks/this.division/this.tempo*60}},{key:"getSongTimeRemaining",value:function(){return Math.round((this.totalTicks-this.getCurrentTick())/this.division/this.tempo*60)}},{key:"getSongPercentRemaining",value:function(){return Math.round(this.getSongTimeRemaining()/this.getSongTime()*100)}},{key:"bytesProcessed",value:function(){return 14+8*this.tracks.length+this.tracks.reduce(function(e,t){return{pointer:e.pointer+t.pointer}},{pointer:0}).pointer}},{key:"eventsPlayed",value:function(){return this.tracks.reduce(function(e,t){return{eventIndex:e.eventIndex+t.eventIndex}},{eventIndex:0}).eventIndex}},{key:"endOfFile",value:function(){return this.isPlaying()?this.totalTicks-this.tick<=0:this.bytesProcessed()==this.buffer.length}},{key:"getCurrentTick",value:function(){return!this.startTime&&this.tick?this.startTick:this.startTime?Math.round(((new Date).getTime()-this.startTime)/1e3*(this.division*(this.tempo/60)))+this.startTick:0}},{key:"emitEvent",value:function(e){return this.triggerPlayerEvent("midiEvent",e),this}},{key:"on",value:function(e,t){return this.eventListeners.hasOwnProperty(e)||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),this}},{key:"triggerPlayerEvent",value:function(e,t){return this.eventListeners.hasOwnProperty(e)&&this.eventListeners[e].forEach(function(e){return e(t||{})}),this}}]),t}();n.Player=l},{"./track":7,"./utils":8,fs:"fs"}],7:[function(e,t,n){"use strict";var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=e("./constants").Constants,o=e("./utils").Utils,a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.index=t,this.data=n,this.delta=0,this.runningDelta=0,this.events=[]}return r(e,[{key:"reset",value:function(){return this.enabled=!0,this.eventIndex=0,this.pointer=0,this.lastTick=0,this.lastStatus=null,this.delta=0,this.runningDelta=0,this}},{key:"enable",value:function(){return this.enabled=!0,this}},{key:"disable",value:function(){return this.enabled=!1,this}},{key:"setEventIndexByTick",value:function(e){for(var t in e=e||0,this.events)if(this.events[t].tick>=e)return this.eventIndex=t,this}},{key:"getCurrentByte",value:function(){return this.data[this.pointer]}},{key:"getDeltaByteCount",value:function(){for(var e=this.getCurrentByte(),t=1;e>=128;)e=this.data[this.pointer+t],t++;return t}},{key:"getDelta",value:function(){return o.readVarInt(this.data.subarray(this.pointer,this.pointer+this.getDeltaByteCount()))}},{key:"handleEvent",value:function(e,t){if(t=t||!1){var n=e-this.lastTick,r=this.getDelta(),i=n>=r;if(this.pointer<this.data.length&&(t||i)){var o=this.parseEvent();if(this.enabled)return o}}else if(this.events[this.eventIndex]&&this.events[this.eventIndex].tick<=e&&(this.eventIndex++,this.enabled))return this.events[this.eventIndex-1];return null}},{key:"getStringData",value:function(e){this.pointer;var t=o.readVarInt(this.data.subarray(e+2,e+2+1));return o.bytesToLetters(this.data.subarray(e+1+2,e+1+t+2))}},{key:"parseEvent",value:function(){var e=this.pointer+this.getDeltaByteCount(),t={},n=this.getDeltaByteCount();if(t.track=this.index+1,t.delta=this.getDelta(),this.lastTick=this.lastTick+t.delta,this.runningDelta+=t.delta,t.tick=this.runningDelta,t.byteIndex=this.pointer,255==this.data[e]){switch(this.data[e+1]){case 0:t.name="Sequence Number";break;case 1:t.name="Text Event",t.string=this.getStringData(e);break;case 2:t.name="Copyright Notice";break;case 3:t.name="Sequence/Track Name",t.string=this.getStringData(e);break;case 4:t.name="Instrument Name",t.string=this.getStringData(e);break;case 5:t.name="Lyric",t.string=this.getStringData(e);break;case 6:t.name="Marker";break;case 7:t.name="Cue Point",t.string=this.getStringData(e);break;case 9:t.name="Device Name",t.string=this.getStringData(e);break;case 32:t.name="MIDI Channel Prefix";break;case 33:t.name="MIDI Port",t.data=o.bytesToNumber([this.data[e+3]]);break;case 47:t.name="End of Track";break;case 81:t.name="Set Tempo",t.data=Math.round(6e7/o.bytesToNumber(this.data.subarray(e+3,e+6))),this.tempo=t.data;break;case 84:t.name="SMTPE Offset";break;case 88:t.name="Time Signature",t.data=this.data.subarray(e+3,e+7),t.timeSignature=t.data[0]+"/"+Math.pow(2,t.data[1]);break;case 89:t.name="Key Signature",t.data=this.data.subarray(e+3,e+5),t.data[0]>=0?t.keySignature=i.CIRCLE_OF_FIFTHS[t.data[0]]:t.data[0]<0&&(t.keySignature=i.CIRCLE_OF_FOURTHS[Math.abs(t.data[0])]),0==t.data[1]?t.keySignature+=" Major":1==t.data[1]&&(t.keySignature+=" Minor");break;case 127:t.name="Sequencer-Specific Meta-event";break;default:t.name="Unknown: "+this.data[e+1].toString(16)}var r=this.data[this.pointer+n+2];this.pointer+=n+3+r}else if(240==this.data[e]){t.name="Sysex";var r=this.data[this.pointer+n+1];this.pointer+=n+2+r}else this.data[e]<128?(t.running=!0,t.noteNumber=this.data[e],t.noteName=i.NOTES[this.data[e]],t.velocity=this.data[e+1],this.lastStatus<=143?(t.name="Note off",t.channel=this.lastStatus-128+1):this.lastStatus<=159&&(t.name="Note on",t.channel=this.lastStatus-144+1),this.pointer+=n+2):(this.lastStatus=this.data[e],this.data[e]<=143?(t.name="Note off",t.channel=this.lastStatus-128+1,t.noteNumber=this.data[e+1],t.noteName=i.NOTES[this.data[e+1]],t.velocity=Math.round(this.data[e+2]/127*100),this.pointer+=n+3):this.data[e]<=159?(t.name="Note on",t.channel=this.lastStatus-144+1,t.noteNumber=this.data[e+1],t.noteName=i.NOTES[this.data[e+1]],t.velocity=Math.round(this.data[e+2]/127*100),this.pointer+=n+3):this.data[e]<=175?(t.name="Polyphonic Key Pressure",t.channel=this.lastStatus-160+1,t.note=i.NOTES[this.data[e+1]],t.pressure=event[2],this.pointer+=n+3):this.data[e]<=191?(t.name="Controller Change",t.channel=this.lastStatus-176+1,t.number=this.data[e+1],t.value=this.data[e+2],this.pointer+=n+3):this.data[e]<=207?(t.name="Program Change",t.channel=this.lastStatus-192+1,t.value=this.data[e+1],this.pointer+=n+2):this.data[e]<=223?(t.name="Channel Key Pressure",t.channel=this.lastStatus-208+1,this.pointer+=n+2):this.data[e]<=239?(t.name="Pitch Bend",t.channel=this.lastStatus-224+1,this.pointer+=n+3):t.name="Unknown.  Pointer: "+this.pointer.toString()+" "+e.toString()+" "+this.data.length);return this.delta+=t.delta,this.events.push(t),t}},{key:"endOfTrack",value:function(){return 255==this.data[this.pointer+1]&&47==this.data[this.pointer+2]&&0==this.data[this.pointer+3]}}]),e}();t.exports.Track=a},{"./constants":4,"./utils":8}],8:[function(e,t,n){(function(e){"use strict";var t=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function n(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n)}return t(n,null,[{key:"byteToHex",value:function(e){return("0"+e.toString(16)).slice(-2)}},{key:"bytesToHex",value:function(e){var t=[];return e.forEach(function(e){return t.push(n.byteToHex(e))}),t.join("")}},{key:"hexToNumber",value:function(e){return parseInt(e,16)}},{key:"bytesToNumber",value:function(e){return n.hexToNumber(n.bytesToHex(e))}},{key:"bytesToLetters",value:function(e){var t=[];return e.forEach(function(e){return t.push(String.fromCharCode(e))}),t.join("")}},{key:"decToBinary",value:function(e){return(e>>>0).toString(2)}},{key:"readVarInt",value:function(e){var t=0;return e.forEach(function(e){var n=e;128&n?(t+=127&n,t<<=7):t+=n}),t}},{key:"atob",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return"function"==typeof atob?atob(t):new e(t,"base64").toString("binary")})}]),n}();n.Utils=r}).call(this,e("buffer").Buffer)},{buffer:2}]},{},[5])(5)},function(e,t,n){"use strict";var r=n(135),i=n(138);function o(e){return/\.js(\?.*)?$/i.test(e)}function a(e,t,n){return"https://gleitz.github.io/midi-js-soundfonts/"+(t="FluidR3_GM"===t?t:"MusyngKite")+"/"+e+"-"+(n="ogg"===n?n:"mp3")+".js"}var l=n(147);l.instrument=function e(t,n,l){if(1===arguments.length)return function(n,r){return e(t,n,r)};var s=l||{},u=s.isSoundfontURL||o,c=s.nameToUrl||a,d=u(n)?n:c(n,s.soundfont,s.format);return r(t,d,{only:s.only||s.notes}).then(function(e){var r=i(t,e,s).connect(s.destination?s.destination:t.destination);return r.url=d,r.name=n,r})},l.nameToUrl=a,e.exports&&(e.exports=l),"undefined"!=typeof window&&(window.Soundfont=l)},function(e,t,n){"use strict";var r=n(136),i=n(137);function o(e){return function(t){return"string"==typeof t&&e.test(t)}}function a(e,t){return"string"==typeof e?e+t:"function"==typeof e?e(t):t}function l(e,t,n,r){var i=t instanceof ArrayBuffer?s:u(t)?c:function(e){return e&&"function"==typeof e.then}(t)?d:p(t)?h:function(e){return e&&"object"==typeof e}(t)?f:m(t)?g:y(t)?v:x(t)?b:null;return i?i(e,t,n||{}):r?Promise.resolve(r):Promise.reject("Source not valid ("+t+")")}function s(e,t,n){return new Promise(function(n,r){e.decodeAudioData(t,function(e){n(e)},function(){r("Can't decode audio data ("+t.slice(0,30)+"...)")})})}l.fetch=i;var u=o(/\.(mp3|wav|ogg)(\?.*)?$/i);function c(e,t,n){var r=a(n.from,t);return l(e,l.fetch(r,"arraybuffer"),n)}function d(e,t,n){return t.then(function(t){return l(e,t,n)})}var p=Array.isArray;function h(e,t,n){return Promise.all(t.map(function(t){return l(e,t,n,t)}))}function f(e,t,n){var r={},i=Object.keys(t).map(function(i){if(n.only&&-1===n.only.indexOf(i))return null;var o=t[i];return l(e,o,n,o).then(function(e){r[i]=e})});return Promise.all(i).then(function(){return r})}var m=o(/\.json(\?.*)?$/i);function g(e,t,n){var r=a(n.from,t);return l(e,l.fetch(r,"text").then(JSON.parse),n)}var y=o(/^data:audio/);function v(e,t,n){var i=t.indexOf(",");return l(e,r.decode(t.slice(i+1)).buffer,n)}var x=o(/\.js(\?.*)?$/i);function b(e,t,n){var r=a(n.from,t);return l(e,l.fetch(r,"text").then(w),n)}function w(e){var t=e.indexOf("MIDI.Soundfont.");if(t<0)throw Error("Invalid MIDI.js Soundfont format");t=e.indexOf("=",t)+2;var n=e.lastIndexOf(",");return JSON.parse(e.slice(t,n)+"}")}e.exports&&(e.exports=l),"undefined"!=typeof window&&(window.loadAudio=l)},function(e,t,n){"use strict";e.exports={decode:function(e,t){for(var n,r,i,o=e.replace(/[^A-Za-z0-9\+\/]/g,""),a=o.length,l=t?Math.ceil((3*a+1>>2)/t)*t:3*a+1>>2,s=new Uint8Array(l),u=0,c=0,d=0;d<a;d++)if(r=3&d,u|=((i=o.charCodeAt(d))>64&&i<91?i-65:i>96&&i<123?i-71:i>47&&i<58?i+4:43===i?62:47===i?63:0)<<18-6*r,3===r||a-d==1){for(n=0;n<3&&c<l;n++,c++)s[c]=u>>>(16>>>n&24)&255;u=0}return s}}},function(e,t,n){"use strict";e.exports=function(e,t){return new Promise(function(n,r){var i=new XMLHttpRequest;t&&(i.responseType=t),i.open("GET",e),i.onload=function(){200===i.status?n(i.response):r(Error(i.statusText))},i.onerror=function(){r(Error("Network Error"))},i.send()})}},function(e,t,n){"use strict";var r=n(139),i=n(141),o=n(142),a=n(144),l=n(145);function s(e,t,n){return l(a(o(i(r(e,t,n)))))}e.exports&&(e.exports=s),"undefined"!=typeof window&&(window.SamplePlayer=s)},function(e,t,n){"use strict";var r=n(140),i={},o={gain:1,attack:.01,decay:.1,sustain:.9,release:.3,loop:!1,cents:0,loopStart:0,loopEnd:0};function a(e){return"number"==typeof e}var l=["attack","decay","sustain","release"];e.exports=function(e,t,n){var s=!1,u=0,c={},d=e.createGain();d.gain.value=1;var p=Object.assign({},o,n),h={context:e,out:d,opts:p};return t instanceof AudioBuffer?h.buffer=t:h.buffers=t,h.start=function(t,n,r){if(h.buffer&&null!==t)return h.start(null,t,n);var o=t?h.buffers[t]:h.buffer;if(o){if(s){var a=r||i;n=Math.max(e.currentTime,n||0),h.emit("start",n,t,a);var l=f(t,o,a);return l.id=function(t,n){return n.id=u++,c[n.id]=n,n.source.onended=function(){var t=e.currentTime;n.source.disconnect(),n.env.disconnect(),n.disconnect(),h.emit("ended",t,n.id,n)},n.id}(0,l),l.env.start(n),l.source.start(n),h.emit("started",n,l.id,l),a.duration&&l.stop(n+a.duration),l}console.warn("SamplePlayer not connected to any node.")}else console.warn("Buffer "+t+" not found.")},h.play=function(e,t,n){return h.start(e,t,n)},h.stop=function(e,t){var n;return(t=t||Object.keys(c)).map(function(t){return(n=c[t])?(n.stop(e),n.id):null})},h.connect=function(e){return s=!0,d.connect(e),h},h.emit=function(e,t,n,r){h.onevent&&h.onevent(e,t,n,r);var i=h["on"+e];i&&i(t,n,r)},h;function f(t,n,i){var o,s=e.createGain();return s.gain.value=0,s.connect(d),s.env=function(e,t,n){var i=r(e),o=t.adsr||n.adsr;return l.forEach(function(e,r){i[e]=o?o[r]:t[e]||n[e]}),i.value.value=a(t.gain)?t.gain:a(n.gain)?n.gain:1,i}(e,i,p),s.env.connect(s.gain),s.source=e.createBufferSource(),s.source.buffer=n,s.source.connect(s),s.source.loop=i.loop||p.loop,s.source.playbackRate.value=(o=i.cents||p.cents)?Math.pow(2,o/1200):1,s.source.loopStart=i.loopStart||p.loopStart,s.source.loopEnd=i.loopEnd||p.loopEnd,s.stop=function(n){var r=n||e.currentTime;h.emit("stop",r,t);var i=s.env.stop(r);s.source.stop(i)},s}}},function(e,t){e.exports=function(e){var t=e.createGain(),o=t._voltage=function(e){var t=e.createBufferSource(),n=e.createBuffer(1,2,e.sampleRate);return n.getChannelData(0).set(r),t.buffer=n,t.loop=!0,t}(e),a=i(o),l=i(o),s=i(o);return t._startAmount=i(l),t._endAmount=i(s),t._multiplier=i(a),t._multiplier.connect(t),t._startAmount.connect(t),t._endAmount.connect(t),t.value=a.gain,t.startValue=l.gain,t.endValue=s.gain,t.startValue.value=0,t.endValue.value=0,Object.defineProperties(t,n),t};var n={attack:{value:0,writable:!0},decay:{value:0,writable:!0},sustain:{value:1,writable:!0},release:{value:0,writable:!0},getReleaseDuration:{value:function(){return this.release}},start:{value:function(e){var t=this._multiplier.gain,n=this._startAmount.gain,r=this._endAmount.gain;this._voltage.start(e),this._decayFrom=this._decayFrom=e+this.attack,this._startedAt=e;var i=this.sustain;t.cancelScheduledValues(e),n.cancelScheduledValues(e),r.cancelScheduledValues(e),r.setValueAtTime(0,e),this.attack?(t.setValueAtTime(0,e),t.linearRampToValueAtTime(1,e+this.attack),n.setValueAtTime(1,e),n.linearRampToValueAtTime(0,e+this.attack)):(t.setValueAtTime(1,e),n.setValueAtTime(0,e)),this.decay&&t.setTargetAtTime(i,this._decayFrom,o(this.decay))}},stop:{value:function(e,t){t&&(e-=this.release);var n=e+this.release;if(this.release){var r=this._multiplier.gain,i=this._startAmount.gain,a=this._endAmount.gain;r.cancelScheduledValues(e),i.cancelScheduledValues(e),a.cancelScheduledValues(e);var l=o(this.release);if(this.attack&&e<this._decayFrom){var s=function(e,t,n,r,i){var o=e+(i-n)/(r-n)*(t-e);o<=e&&(o=e);o>=t&&(o=t);return o}(0,1,this._startedAt,this._decayFrom,e);r.linearRampToValueAtTime(s,e),i.linearRampToValueAtTime(1-s,e),i.setTargetAtTime(0,e,l)}a.setTargetAtTime(1,e,l),r.setTargetAtTime(0,e,l)}return this._voltage.stop(n),n}},onended:{get:function(){return this._voltage.onended},set:function(e){this._voltage.onended=e}}},r=new Float32Array([1,1]);function i(e){var t=e.context.createGain();return e.connect(t),t}function o(e){return Math.log(e+1)/Math.log(100)}},function(e,t){e.exports=function(e){return e.on=function(t,n){if(1===arguments.length&&"function"==typeof t)return e.on("event",t);var r,i,o="on"+t,a=e[o];return e[o]=a?(r=a,i=n,function(e,t,n,o){r(e,t,n,o),i(e,t,n,o)}):n,e},e}},function(e,t,n){"use strict";var r=n(143),i=function(e){return function(e){return null!==e&&e!==[]&&e>=0&&e<129}(e)?+e:r.midi(e)};e.exports=function(e){if(e.buffers){var t=e.opts.map,n="function"==typeof t?t:i,r=function(e){return e?n(e)||e:null};e.buffers=function(e,t){return Object.keys(e).reduce(function(n,r){return n[t(r)]=e[r],n},{})}(e.buffers,r);var o=e.start;e.start=function(e,t,n){var i=r(e),a=i%1;return a&&(i=Math.floor(i),n=Object.assign(n||{},{cents:Math.floor(100*a)})),o(i,t,n)}}return e}},function(e,t,n){"use strict";var r=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;var i=[0,2,4,5,7,9,11];function o(e,t,n){if("string"!=typeof e)return null;var o=r.exec(e);if(!o||!t&&o[4])return null;var l={letter:o[1].toUpperCase(),acc:o[2].replace(/x/g,"##")};return l.pc=l.letter+l.acc,l.step=(l.letter.charCodeAt(0)+3)%7,l.alt="b"===l.acc[0]?-l.acc.length:l.acc.length,l.chroma=i[l.step]+l.alt,o[3]&&(l.oct=+o[3],l.midi=l.chroma+12*(l.oct+1),l.freq=a(l.midi,n)),t&&(l.tonicOf=o[4]),l}function a(e,t){return Math.pow(2,(e-69)/12)*(t||440)}var l={parse:o,regex:function(){return r},midiToFreq:a};["letter","acc","pc","step","alt","chroma","oct","midi","freq"].forEach(function(e){l[e]=function(t){var n=o(t);return n&&void 0!==n[e]?n[e]:null}}),e.exports=l},function(e,t,n){"use strict";var r=Array.isArray,i={};e.exports=function(e){return e.schedule=function(t,n){var o,a,l,s,u=e.context.currentTime,c=t<u?u:t;return e.emit("schedule",c,n),n.map(function(t){return t?(r(t)?(o=t[0],a=t[1]):(o=t.time,a=t),!function(e){return e&&"object"==typeof e}(a)?(l=a,s=i):(l=a.name||a.key||a.note||a.midi||null,s=a),e.start(l,c+(o||0),s)):null})},e}},function(e,t,n){var r=n(146);e.exports=function(e){return e.listenToMidi=function(t,n){var i={},o=n||{},a=o.gain||function(e){return e/127};return t.onmidimessage=function(t){var n=t.messageType?t:r(t);if("noteon"===n.messageType&&0===n.velocity&&(n.messageType="noteoff"),!o.channel||n.channel===o.channel)switch(n.messageType){case"noteon":i[n.key]=e.play(n.key,0,{gain:a(n.velocity)});break;case"noteoff":i[n.key]&&(i[n.key].stop(),delete i[n.key])}},e},e}},function(e,t,n){var r;e.exports=function e(t,n,i){function o(l,s){if(!n[l]){if(!t[l]){var u="function"==typeof r&&r;if(!s&&u)return r(l,!0);if(a)return a(l,!0);var c=new Error("Cannot find module '"+l+"'");throw c.code="MODULE_NOT_FOUND",c}var d=n[l]={exports:{}};t[l][0].call(d.exports,function(e){var n=t[l][1][e];return o(n||e)},d,d.exports,e,t,n,i)}return n[l].exports}for(var a="function"==typeof r&&r,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e){return new function(e){if(this._event=e,this._data=e.data,this.receivedTime=e.receivedTime,this._data&&this._data.length<2)console.warn("Illegal MIDI message of length",this._data.length);else switch(this._messageCode=240&e.data[0],this.channel=15&e.data[0],this._messageCode){case 128:this.messageType="noteoff",this.key=127&e.data[1],this.velocity=127&e.data[2];break;case 144:this.messageType="noteon",this.key=127&e.data[1],this.velocity=127&e.data[2];break;case 160:this.messageType="keypressure",this.key=127&e.data[1],this.pressure=127&e.data[2];break;case 176:this.messageType="controlchange",this.controllerNumber=127&e.data[1],this.controllerValue=127&e.data[2],120===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allsoundoff":121===this.controllerNumber?this.channelModeMessage="resetallcontrollers":122===this.controllerNumber?0===this.controllerValue?this.channelModeMessage="localcontroloff":this.channelModeMessage="localcontrolon":123===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="allnotesoff":124===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeoff":125===this.controllerNumber&&0===this.controllerValue?this.channelModeMessage="omnimodeon":126===this.controllerNumber?this.channelModeMessage="monomodeon":127===this.controllerNumber&&(this.channelModeMessage="polymodeon");break;case 192:this.messageType="programchange",this.program=e.data[1];break;case 208:this.messageType="channelpressure",this.pressure=127&e.data[1];break;case 224:this.messageType="pitchbendchange";var t=127&e.data[2],n=127&e.data[1];this.pitchBend=(t<<8)+n}}(e)},t.exports=n.default},{}]},{},[1])(1)},function(e,t,n){"use strict";var r=n(148);function i(e,t){if(console.warn("new Soundfont() is deprected"),console.log("Please use Soundfont.instrument() instead of new Soundfont().instrument()"),!(this instanceof i))return new i(e);this.nameToUrl=t||i.nameToUrl,this.ctx=e,this.instruments={},this.promises=[]}function o(e,t){return t=t||{},function(n,i,o,a){console.warn("The oscillator player is deprecated."),console.log("Starting with version 0.9.0 you will have to wait until the soundfont is loaded to play sounds.");var l=n>0&&n<129?+n:r.midi(n),s=l?r.midiToFreq(l,440):null;if(s){o=o||.2;var u=(a=a||{}).destination||t.destination||e.destination,c=a.vcoType||t.vcoType||"sine",d=a.gain||t.gain||.4,p=e.createOscillator();p.type=c,p.frequency.value=s;var h=e.createGain();return h.gain.value=d,p.connect(h),h.connect(u),p.start(i),o>0&&p.stop(i+o),p}}}i.prototype.onready=function(e){console.warn("deprecated API"),console.log("Please use Promise.all(Soundfont.instrument(), Soundfont.instrument()).then() instead of new Soundfont().onready()"),Promise.all(this.promises).then(e)},i.prototype.instrument=function(e,t){console.warn("new Soundfont().instrument() is deprecated."),console.log("Please use Soundfont.instrument() instead.");var n=this.ctx;if((e=e||"default")in this.instruments)return this.instruments[e];var r={name:e,play:o(n,t)};if(this.instruments[e]=r,"default"!==e){var a=i.instrument(n,e,t).then(function(e){return r.play=e.play,r});this.promises.push(a),r.onready=function(e){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),a.then(e)}}else r.onready=function(e){console.warn("onready is deprecated. Use Soundfont.instrument().then()"),e()};return r},i.loadBuffers=function(e,t,n){return console.warn("Soundfont.loadBuffers is deprecate."),console.log("Use Soundfont.instrument(..) and get buffers properties from the result."),i.instrument(e,t,n).then(function(e){return e.buffers})},i.noteToMidi=r.midi,e.exports=i},function(e,t,n){"use strict";function r(e,t){return Array(t+1).join(e)}function i(e){return"number"==typeof e}function o(e,t){return Math.pow(2,(e-69)/12)*(t||440)}n.r(t),n.d(t,"regex",function(){return l}),n.d(t,"parse",function(){return u}),n.d(t,"build",function(){return d}),n.d(t,"midi",function(){return p}),n.d(t,"freq",function(){return h}),n.d(t,"letter",function(){return f}),n.d(t,"acc",function(){return m}),n.d(t,"pc",function(){return g}),n.d(t,"step",function(){return y}),n.d(t,"alt",function(){return v}),n.d(t,"chroma",function(){return x}),n.d(t,"oct",function(){return b});var a=/^([a-gA-G])(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)\s*$/;function l(){return a}var s=[0,2,4,5,7,9,11];function u(e,t,n){if("string"!=typeof e)return null;var r=a.exec(e);if(!r||!t&&r[4])return null;var i={letter:r[1].toUpperCase(),acc:r[2].replace(/x/g,"##")};i.pc=i.letter+i.acc,i.step=(i.letter.charCodeAt(0)+3)%7,i.alt="b"===i.acc[0]?-i.acc.length:i.acc.length;var l=s[i.step]+i.alt;return i.chroma=l<0?12+l:l%12,r[3]&&(i.oct=+r[3],i.midi=l+12*(i.oct+1),i.freq=o(i.midi,n)),t&&(i.tonicOf=r[4]),i}var c="CDEFGAB";function d(e,t,n){return null==e?null:e.step?d(e.step,e.alt,e.oct):e<0||e>6?null:c.charAt(e)+(i(o=t)?o<0?r("b",-o):r("#",o):"")+function(e){return i(e)?""+e:""}(n);var o}function p(e){if((i(e)||"string"==typeof e)&&e>=0&&e<128)return+e;var t=u(e);return t&&function(e){return void 0!==e}(t.midi)?t.midi:null}function h(e,t){var n=p(e);return null===n?null:o(n,t)}function f(e){return(u(e)||{}).letter}function m(e){return(u(e)||{}).acc}function g(e){return(u(e)||{}).pc}function y(e){return(u(e)||{}).step}function v(e){return(u(e)||{}).alt}function x(e){return(u(e)||{}).chroma}function b(e){return(u(e)||{}).oct}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=(r=n(5))&&"object"==typeof r&&"default"in r?r.default:r;t.AppContainer=function(e){return i.Children.only(e.children)},t.hot=function(){return function(e){return e}},t.areComponentsEqual=function(e,t){return e===t},t.setConfig=function(){},t.cold=function(e){return e},t.configureComponent=function(){}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=d(n(5)),o=d(n(14)),a=d(n(69)),l=d(n(153)),s=d(n(154)),u=n(41),c=n(70);function d(e){return e&&e.__esModule?e:{default:e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var p=function(e){e.target.select()},h={"./add":"./del","./del":"./add"},f=function(e,t){var n=e.slice(2,5),r={target:{name:"substDefault",value:h[e]}};return i.default.createElement(a.default,{className:"button-inline button-toggle subst-"+n,title:"Varianten",onClick:function(){return t(r)}},n)},m=function(e,t){var n=e?"dark":"light",r={target:{name:"isDarkModeActivated",value:!e}};return i.default.createElement(a.default,{className:"button-inline button-toggle colors-"+n,title:"Farbschema",onClick:function(){return t(r)}}," ")},g=function(){return i.default.createElement("span",null,"  |  ")},y=function(e){var t=e.analyseWindowSize,n=e.appMode,r=e.currentFileName,o=e.currentProfile,d=e.errorMessage,h=e.onAnalyse,y=e.onChange,v=e.onDismissError,x=e.facsimileData,b=e.facsimilePage,w=e.filesList,k=e.isAnnotStyleVisible,_=e.isDarkModeActivated,T=e.isFacsViewerVisible,S=e.isEncodingVisible,E=e.onMidiControl,P=e.midiState,M=e.midiTempo,C=e.substDefault,A=e.verovioPage,O=e.verovioTotalPages;return i.default.createElement("div",{id:"controls"},i.default.createElement("span",{id:"controls-left"},i.default.createElement("span",{id:"control-appmode"},i.default.createElement("select",{id:"select-appmode",title:"Modus",name:"appMode",onChange:y,value:n},i.default.createElement("option",{value:u.MODE_FACS},"Edition"),i.default.createElement("option",{value:u.MODE_WORK},"Analyse"))),i.default.createElement("span",null,i.default.createElement(g,null),i.default.createElement("span",{id:"control-facvisible"},i.default.createElement(l.default,{disabled:!(S&&T)&&T,name:"isFacsViewerVisible",isChecked:T,onChange:y}),"Faksimile")," ",T&&i.default.createElement("span",{id:"controls-facs"},i.default.createElement("span",{id:"control-facspage"},i.default.createElement("select",{id:"select-facspage",title:"Seite",name:"facsimilePage",onChange:y,value:b},x?x.pages.map(function(e,t){return i.default.createElement("option",{key:t,value:t},e.label)}):i.default.createElement("option",null,"Laden..."))),i.default.createElement(g,null),i.default.createElement("span",{id:"control-annotvisible"},i.default.createElement(l.default,{name:"isAnnotStyleVisible",isChecked:k,onChange:y}),"Annotationen"))),d&&i.default.createElement("span",null,i.default.createElement(g,null),i.default.createElement(a.default,{className:"button-inline error-indicator",onClick:v,title:"Schließen"},"ERROR: ",d))),i.default.createElement("span",{id:"controls-right"},S&&i.default.createElement("span",null,i.default.createElement("span",{id:"control-filenames"},i.default.createElement("select",{id:"select-filenames",title:r,name:"currentFileName",onChange:y,value:r,style:{minWidth:"18em"}},w.length>0?w.map(function(e){return i.default.createElement("option",{key:e.name,value:e.name},e.label||e.name)}):i.default.createElement("option",null,"Laden..."))," "),i.default.createElement("span",{id:"control-veroviopage"},A," / ",O),i.default.createElement(g,null),(n===u.MODE_FACS||n===u.MODE_RAW)&&i.default.createElement("span",null,i.default.createElement("span",{id:"control-substdefault"},f(C,y)),i.default.createElement(g,null)),n===u.MODE_WORK&&i.default.createElement("span",{id:"control-analyse"},i.default.createElement(a.default,{className:"button-inline button-analyse",onClick:h},"Analyse"),i.default.createElement("span",null," "),i.default.createElement("select",{id:"select-profile",title:"Tonarten-Profil",name:"currentProfile",onChange:y,value:o},c.PROFILES.map(function(e){return i.default.createElement("option",{key:e,value:e},e)})),i.default.createElement(s.default,{classNames:"input-facspage",name:"analyseWindowSize",numbersOnly:!0,onChange:y,onClick:p,value:t}),i.default.createElement(g,null)),(n===u.MODE_WORK||n===u.MODE_RAW)&&i.default.createElement("span",{id:"controls-midi"},i.default.createElement("span",null,"♪"),i.default.createElement("span",null," "),P===u.MIDI_PAUSE||P===u.MIDI_STOP?i.default.createElement(a.default,{className:"button-inline",onClick:function(){return E(u.MIDI_PLAY)}},"▶"):i.default.createElement(a.default,{className:"button-inline",onClick:function(){return E(u.MIDI_PAUSE)}},"▮▮"),(P===u.MIDI_PAUSE||P===u.MIDI_PLAY)&&i.default.createElement("span",null,i.default.createElement("span",null," "),i.default.createElement(a.default,{className:"button-inline",onClick:function(){return E(u.MIDI_STOP)}},"◼")),i.default.createElement("span",null," "),i.default.createElement(s.default,{classNames:"input-facspage",disabled:P===u.MIDI_PLAY,name:"midiTempo",numbersOnly:!0,onChange:y,onClick:p,value:M}),i.default.createElement(g,null)),i.default.createElement("span",{id:"control-colors"},m(_,y)))))};y.propTypes={analyseWindowSize:o.default.number.isRequired,appMode:o.default.string.isRequired,currentFileName:o.default.string.isRequired,currentProfile:o.default.string.isRequired,errorMessage:o.default.string,facsimileData:o.default.object,facsimilePage:o.default.number.isRequired,filesList:o.default.arrayOf(o.default.object).isRequired,isAnnotStyleVisible:o.default.bool.isRequired,isDarkModeActivated:o.default.bool.isRequired,isEncodingVisible:o.default.bool.isRequired,isFacsViewerVisible:o.default.bool.isRequired,midiState:o.default.string.isRequired,midiTempo:o.default.number.isRequired,onAnalyse:o.default.func.isRequired,onChange:o.default.func.isRequired,onDismissError:o.default.func.isRequired,onMidiControl:o.default.func.isRequired,substDefault:o.default.string.isRequired,verovioPage:o.default.number.isRequired,verovioTotalPages:o.default.number.isRequired},y.defaultProps={errorMessage:""};var v,x,b=y;t.default=b,(v=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(v.register(p,"selectOnClick","/home/bruckner/app/src/components/Controls.js"),v.register(h,"substDefaultToggled","/home/bruckner/app/src/components/Controls.js"),v.register(f,"getSubstDefaultButton","/home/bruckner/app/src/components/Controls.js"),v.register(m,"getColorModeButton","/home/bruckner/app/src/components/Controls.js"),v.register(g,"Separator","/home/bruckner/app/src/components/Controls.js"),v.register(y,"Controls","/home/bruckner/app/src/components/Controls.js"),v.register(b,"default","/home/bruckner/app/src/components/Controls.js")),(x=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&x(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";var r=n(152);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=a(n(5)),o=a(n(14));function a(e){return e&&e.__esModule?e:{default:e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l=function(e){var t=e.disabled,n=e.name,r=e.isChecked,o=e.onChange;return i.default.createElement("input",{type:"checkbox",name:n,disabled:t,checked:r?"checked":"",onChange:o})};l.propTypes={disabled:o.default.bool,name:o.default.string.isRequired,isChecked:o.default.bool.isRequired,onChange:o.default.func.isRequired},l.defaultProps={disabled:!1};var s,u,c=l;t.default=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(s.register(l,"Checkbox","/home/bruckner/app/src/components/Checkbox.js"),s.register(c,"default","/home/bruckner/app/src/components/Checkbox.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=a(n(14)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var l=function(e){var t=e.classNames,n=e.disabled,r=e.numbersOnly,i=e.name,a=e.onChange,l=e.onClick,s=e.onFocus,u=e.value;return o.default.createElement("input",{type:r?"number":"text",className:t,disabled:n,name:i,onChange:a,onClick:l,onFocus:s,value:u})};l.propTypes={classNames:i.default.string,disabled:i.default.bool,name:i.default.string.isRequired,numbersOnly:i.default.bool,onChange:i.default.func.isRequired,onClick:i.default.func,onFocus:i.default.func,value:i.default.oneOfType([i.default.string,i.default.number]).isRequired},l.defaultProps={classNames:"",disabled:!1,numbersOnly:!1,onClick:function(){},onFocus:function(){}};var s,u,c=l;t.default=c,(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(s.register(l,"TextInput","/home/bruckner/app/src/components/TextInput.js"),s.register(c,"default","/home/bruckner/app/src/components/TextInput.js")),(u=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&u(e)}).call(this,n(1)(e))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_propTypes=__webpack_require__(14),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_Button=__webpack_require__(69),_Button2=_interopRequireDefault(_Button),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var ErrorBoundary=function(_React$Component){function ErrorBoundary(e){_classCallCheck(this,ErrorBoundary);var t=_possibleConstructorReturn(this,(ErrorBoundary.__proto__||Object.getPrototypeOf(ErrorBoundary)).call(this,e));return t.state={error:null,hasError:!1},t.attemptRecovery=t.attemptRecovery.bind(t),t}return _inherits(ErrorBoundary,_React$Component),_createClass(ErrorBoundary,[{key:"attemptRecovery",value:function(){this.setState({error:null,hasError:!1})}},{key:"componentDidCatch",value:function(e){this.setState({error:e,hasError:!0})}},{key:"render",value:function(){var e=this.state,t=e.error;if(e.hasError){var n=this.props.helpText;return _react2.default.createElement("div",{className:"errorboundary"},_react2.default.createElement("h1",null,"Something went wrong."),_react2.default.createElement("h3",null,"Error:"),_react2.default.createElement("div",{className:"code-error"},_react2.default.createElement("code",null,t)),n&&_react2.default.createElement("p",null,n),_react2.default.createElement(_Button2.default,{className:"button-inline",onClick:this.attemptRecovery},"Try to recover..."))}return this.props.children}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ErrorBoundary}(_react2.default.Component);ErrorBoundary.propTypes={children:_propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.node),_propTypes2.default.node]).isRequired,helpText:_propTypes2.default.string},ErrorBoundary.defaultProps={helpText:""};var _default=ErrorBoundary,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(ErrorBoundary,"ErrorBoundary","/home/bruckner/app/src/components/ErrorBoundary.js"),reactHotLoader.register(_default,"default","/home/bruckner/app/src/components/ErrorBoundary.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_propTypes=__webpack_require__(14),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_openseadragon=__webpack_require__(23),_openseadragon2=_interopRequireDefault(_openseadragon),_osdOptions=__webpack_require__(42),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var facsimileOSDOptions={defaultZoomLevel:0,minZoomLevel:.67,sequenceMode:!0},FacsimileViewer=function(_React$Component){function FacsimileViewer(e){_classCallCheck(this,FacsimileViewer);var t=_possibleConstructorReturn(this,(FacsimileViewer.__proto__||Object.getPrototypeOf(FacsimileViewer)).call(this,e));return t.viewer=null,t.viewerDiv=_react2.default.createRef(),t.initOpenSeadragon=t.initOpenSeadragon.bind(t),t}return _inherits(FacsimileViewer,_React$Component),_createClass(FacsimileViewer,[{key:"initOpenSeadragon",value:function(){var e=this.props,t=e.annotCreator,n=e.currentPage,r=e.onPage,i=e.tileSources;this.viewer=(0,_openseadragon2.default)(_extends({element:this.viewerDiv.current,tileSources:i},_osdOptions.commonOpenSeadragonOptions,facsimileOSDOptions));var o=t.bind(null,this.viewer);this.viewer.addHandler("open",o),this.viewer.addHandler("page",function(e){r(e.page)}),this.viewer.goToPage(n),this.viewer.innerTracker.keyDownHandler=function(){},this.viewer.innerTracker.keyHandler=function(){}}},{key:"componentDidMount",value:function(){this.initOpenSeadragon()}},{key:"componentDidUpdate",value:function(e){var t=this.props.currentPage;this.props.currentPage!==e.currentPage&&this.viewer.goToPage(t)}},{key:"componentWillUnmount",value:function(){this.viewer.destroy(),this.viewer=null}},{key:"render",value:function(){return _react2.default.createElement("div",{id:this.props.viewerID,ref:this.viewerDiv,className:"viewer facsimile-viewer"})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),FacsimileViewer}(_react2.default.Component);FacsimileViewer.propTypes={annotCreator:_propTypes2.default.func,currentPage:_propTypes2.default.number,onPage:_propTypes2.default.func,tileSources:_propTypes2.default.array.isRequired,viewerID:_propTypes2.default.string},FacsimileViewer.defaultProps={annotCreator:function(){},currentPage:0,onPage:function(){},viewerID:"facsimile-viewer"};var _default=FacsimileViewer,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(facsimileOSDOptions,"facsimileOSDOptions","/home/bruckner/app/src/components/FacsimileViewer.js"),reactHotLoader.register(FacsimileViewer,"FacsimileViewer","/home/bruckner/app/src/components/FacsimileViewer.js"),reactHotLoader.register(_default,"default","/home/bruckner/app/src/components/FacsimileViewer.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_propTypes=__webpack_require__(14),_propTypes2=_interopRequireDefault(_propTypes),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_openseadragon=__webpack_require__(23),_openseadragon2=_interopRequireDefault(_openseadragon);__webpack_require__(71);var _osdOptions=__webpack_require__(42),_util=__webpack_require__(72),_verovioOptions=__webpack_require__(103),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var PAGEWIDTH=8192,TILESIZE=256,NUMHORIZTILES=Math.ceil(PAGEWIDTH/TILESIZE),OVERLAYFACTOR=1/PAGEWIDTH*.99,ZOOM=220,verovioOptions=(0,_verovioOptions.getVerovioOptions)({breaks:"auto",pageWidth:TILESIZE*NUMHORIZTILES*100/ZOOM,scale:ZOOM,leftMarginNote:1.25,leftMarginRest:1.25,rightMarginNote:1.25,rightMarginRest:1.25}),getPageHeight=function(e){var t=e.split("\n",1)[0],n=/height="(\d+)/.exec(t)[1];return parseInt(n,10)},svg256=function(){return"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22256px%22%20height%3D%22256px%22%2F%3E"},emptyTileSource={ajaxWithCredentials:!1,crossOriginPolicy:!1,getTileUrl:svg256,tileSize:TILESIZE,height:Math.floor(TILESIZE*NUMHORIZTILES*.75),useCanvas:!0,width:TILESIZE*NUMHORIZTILES},getTileSource=function(e){return _extends({},emptyTileSource,{height:e})},buildSubstXPathQuery=function(e){return Object.keys(e).map(function(t){return"./*[@xml:id = '"+e[t]+"']"})},domParser=new DOMParser,VerovioViewer=function(_React$Component){function VerovioViewer(e){_classCallCheck(this,VerovioViewer);var t=_possibleConstructorReturn(this,(VerovioViewer.__proto__||Object.getPrototypeOf(VerovioViewer)).call(this,e));return t.viewerDiv=_react2.default.createRef(),t.viewer=null,t.tileSources=[],t.overlay=null,t.vrvToolkit=new verovio.toolkit,t.dataId=null,t.prevDataId=null,t.numPages=0,t.currentPage=1,t.prevPage=0,t.getMIDI=t.getMIDI.bind(t),t.initOpenSeadragon=t.initOpenSeadragon.bind(t),t.loadMEI=t.loadMEI.bind(t),t.renderSVG=t.renderSVG.bind(t),t}return _inherits(VerovioViewer,_React$Component),_createClass(VerovioViewer,[{key:"getMIDI",value:function(){return this.vrvToolkit.renderToMIDI({})}},{key:"getElementsAtTime",value:function(e){return this.vrvToolkit.getElementsAtTime(e)}},{key:"getTimeForElement",value:function(e){return this.vrvToolkit.getTimeForElement(e)}},{key:"setPage",value:function(e){this.currentPage=e,this.renderSVG()}},{key:"initOpenSeadragon",value:function(){var e=this;this.viewer=(0,_openseadragon2.default)(_extends({element:this.viewerDiv.current,tileSources:[]},_osdOptions.commonOpenSeadragonOptions,_osdOptions.commonVerovioOpenSeadragonOptions)),this.overlay=this.viewer.svgOverlay(OVERLAYFACTOR),this.viewer.addHandler("page",function(t){e.prevPage=e.currentPage,e.currentPage=t.page+1,e.renderSVG()}),this.viewer.innerTracker.keyDownHandler=function(){},this.viewer.innerTracker.keyHandler=function(){}}},{key:"loadMEI",value:function(e){this.meiDoc=domParser.parseFromString(e,"text/xml"),this.prevDataId=this.dataId,this.dataId=this.meiDoc.documentElement.getAttribute("xml:id");var t=this.dataId!==this.prevDataId;this.prevPage=t?0:this.currentPage,this.currentPage=t?1:this.currentPage;var n=this.props,r=n.substData,i=n.substDefault,o=[].concat(_toConsumableArray(buildSubstXPathQuery(r)),[i]);this.vrvToolkit.setOptions(_extends({},verovioOptions,{substXPathQuery:o}));try{this.vrvToolkit.loadData(e,{})}catch(e){var a=this.vrvToolkit.getLog();throw console.log(a),new Error(e+"\n"+a)}var l=this.vrvToolkit.getPageCount();l!==this.numPages&&(this.tileSources=(0,_util.rangeArray)(l).map(function(){return emptyTileSource}),this.numPages=l),this.props.onLoad(l)}},{key:"renderSVG",value:function(){var e=this.currentPage,t=this.vrvToolkit.renderToSVG(e,{});this.overlay.node().innerHTML=t;var n=e-1,r=this.dataId!==this.prevDataId,i=this.currentPage!==this.prevPage,o=this.tileSources[n].height,a=getPageHeight(t),l=a-o,s=Math.abs(l)>.05*o;if(r||i||s){var u=getTileSource(a);this.tileSources[n]=u,this.viewer.open(this.tileSources,n)}var c=this.props,d=c.onPage,p=c.onRender;d(e),p({meiDoc:this.meiDoc,viewerDiv:this.viewerDiv.current})}},{key:"componentDidMount",value:function(){this.initOpenSeadragon();var e=this.props.mei;this.loadMEI(e),this.renderSVG()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.mei,r=t.substData,i=t.substDefault,o=n!=e.mei,a=i!==e.substDefault,l=!(0,_util.deepEquals)(r,e.substData);(o||a||l)&&(this.loadMEI(n),this.renderSVG())}},{key:"componentWillUnmount",value:function(){this.overlay=null,this.viewer.destroy(),this.viewer=null,this.vrvToolkit.destroy(),this.vrvToolkit=null}},{key:"render",value:function(){return _react2.default.createElement("div",{id:this.props.viewerID,ref:this.viewerDiv,className:"viewer verovio-viewer"})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),VerovioViewer}(_react2.default.Component);VerovioViewer.propTypes={mei:_propTypes2.default.string.isRequired,onLoad:_propTypes2.default.func,onPage:_propTypes2.default.func,onRender:_propTypes2.default.func,substData:_propTypes2.default.objectOf(_propTypes2.default.string),substDefault:_propTypes2.default.string,viewerID:_propTypes2.default.string},VerovioViewer.defaultProps={onLoad:function(){},onPage:function(){},onRender:function(){},substData:{},substDefault:"./add",viewerID:"verovio-viewer"};var _default=VerovioViewer,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(PAGEWIDTH,"PAGEWIDTH","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(TILESIZE,"TILESIZE","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(NUMHORIZTILES,"NUMHORIZTILES","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(OVERLAYFACTOR,"OVERLAYFACTOR","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(ZOOM,"ZOOM","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(verovioOptions,"verovioOptions","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(getPageHeight,"getPageHeight","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(svg256,"svg256","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(emptyTileSource,"emptyTileSource","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(getTileSource,"getTileSource","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(buildSubstXPathQuery,"buildSubstXPathQuery","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(domParser,"domParser","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(VerovioViewer,"VerovioViewer","/home/bruckner/app/src/components/VerovioViewer.js"),reactHotLoader.register(_default,"default","/home/bruckner/app/src/components/VerovioViewer.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(e,t,n){var r=Array.prototype.slice,i=n(159),o=n(160),a=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:function(e,t,n){var u,c;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(o(e))return!!o(t)&&(e=r.call(e),t=r.call(t),a(e,t,n));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=i(e),p=i(t)}catch(e){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],n))return!1;return typeof e==typeof t}(e,t,n))};function l(e){return null==e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}(e.exports="function"==typeof Object.keys?Object.keys:n).shim=n},function(e,t){var n="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function r(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function i(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=n?r:i).supported=r,t.unsupported=i},function(e,t,n){var r=n(9),i=n(43),o=n(4),a=Math.ceil,l=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:l(o(t),0);var s=null==e?0:e.length;if(!s||t<1)return[];for(var u=0,c=0,d=Array(a(s/t));u<s;)d[c++]=r(e,u,u+=t);return d}},function(e,t,n){var r=n(25),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,l=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[l]=n:delete e[l]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(165),i=1/0,o=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===i||e===-i?(e<0?-1:1)*o:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(20),i=n(17),o=NaN,a=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):l.test(e)?o:+e}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},function(e,t,n){var r=n(46),i=n(8),o=n(76),a=n(10);e.exports=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],l=e;l--;)t[l-1]=arguments[l];return r(a(n)?o(n):[n],i(t,1))}},function(e,t,n){var r=n(25),i=n(47),o=n(10),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},function(e,t,n){var r=n(24),i=n(21),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t,n){var r=n(26),i=n(8),o=n(2),a=n(7),l=o(function(e,t){return a(e)?r(e,i(t,1,a,!0)):[]});e.exports=l},function(e,t,n){var r=n(172),i=n(30),o=n(49);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(173),i=n(178),o=n(179),a=n(180),l=n(181);function s(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=i,s.prototype.get=o,s.prototype.has=a,s.prototype.set=l,e.exports=s},function(e,t,n){var r=n(29);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(74),i=n(175),o=n(20),a=n(77),l=/^\[object .+?Constructor\]$/,s=Function.prototype,u=Object.prototype,c=s.toString,d=u.hasOwnProperty,p=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?p:l).test(a(e))}},function(e,t,n){var r,i=n(176),o=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(13)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(29),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(29),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(29),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(31),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(31);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(31);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(31);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(32);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(32);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(32);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(32);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(196),i=n(82),o=n(36),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,o=0;return function(){var a=i(),l=r-(a-o);if(o=a,l>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(26),i=n(8),o=n(3),a=n(2),l=n(7),s=n(12),u=a(function(e,t){var n=s(t);return l(n)&&(n=void 0),l(e)?r(e,i(t,1,l,!0),o(n,2)):[]});e.exports=u},function(e,t,n){var r=n(200),i=n(228),o=n(92);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(83),i=n(84),o=1,a=2;e.exports=function(e,t,n,l){var s=n.length,u=s,c=!l;if(null==e)return!u;for(e=Object(e);s--;){var d=n[s];if(c&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++s<u;){var p=(d=n[s])[0],h=e[p],f=d[1];if(c&&d[2]){if(void 0===h&&!(p in e))return!1}else{var m=new r;if(l)var g=l(h,f,p,e,t,m);if(!(void 0===g?i(f,h,o|a,l,m):g))return!1}}return!0}},function(e,t,n){var r=n(30);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(30),i=n(49),o=n(48),a=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var l=n.__data__;if(!i||l.length<a-1)return l.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(l)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(83),i=n(85),o=n(208),a=n(211),l=n(224),s=n(10),u=n(88),c=n(89),d=1,p="[object Arguments]",h="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,y,v){var x=s(e),b=s(t),w=x?h:l(e),k=b?h:l(t),_=(w=w==p?f:w)==f,T=(k=k==p?f:k)==f,S=w==k;if(S&&u(e)){if(!u(t))return!1;x=!0,_=!1}if(S&&!_)return v||(v=new r),x||c(e)?i(e,t,n,g,y,v):o(e,t,w,n,g,y,v);if(!(n&d)){var E=_&&m.call(e,"__wrapped__"),P=T&&m.call(t,"__wrapped__");if(E||P){var M=E?e.value():e,C=P?t.value():t;return v||(v=new r),y(M,C,n,g,v)}}return!!S&&(v||(v=new r),a(e,t,n,g,y,v))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(25),i=n(209),o=n(15),a=n(85),l=n(210),s=n(53),u=1,c=2,d="[object Boolean]",p="[object Date]",h="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",y="[object Set]",v="[object String]",x="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",k=r?r.prototype:void 0,_=k?k.valueOf:void 0;e.exports=function(e,t,n,r,k,T,S){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!T(new i(e),new i(t)));case d:case p:case m:return o(+e,+t);case h:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case f:var E=l;case y:var P=r&u;if(E||(E=s),e.size!=t.size&&!P)return!1;var M=S.get(e);if(M)return M==t;r|=c,S.set(e,t);var C=a(E(e),E(t),r,k,T,S);return S.delete(e),C;case x:if(_)return _.call(e)==_.call(t)}return!1}},function(e,t,n){var r=n(13).Uint8Array;e.exports=r},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t,n){var r=n(212),i=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,l,s){var u=n&i,c=r(e),d=c.length;if(d!=r(t).length&&!u)return!1;for(var p=d;p--;){var h=c[p];if(!(u?h in t:o.call(t,h)))return!1}var f=s.get(e);if(f&&s.get(t))return f==t;var m=!0;s.set(e,t),s.set(t,e);for(var g=u;++p<d;){var y=e[h=c[p]],v=t[h];if(a)var x=u?a(v,y,h,t,e,s):a(y,v,h,e,t,s);if(!(void 0===x?y===v||l(y,v,n,a,s):x)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(m=!1)}return s.delete(e),s.delete(t),m}},function(e,t,n){var r=n(213),i=n(214),o=n(86);e.exports=function(e){return r(e,o,i)}},function(e,t,n){var r=n(46),i=n(10);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},function(e,t,n){var r=n(27),i=n(215),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,l=a?function(e){return null==e?[]:(e=Object(e),r(a(e),function(t){return o.call(e,t)}))}:i;e.exports=l},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(87),i=n(47),o=n(10),a=n(88),l=n(16),s=n(89),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),d=!n&&!c&&a(e),p=!n&&!c&&!d&&s(e),h=n||c||d||p,f=h?r(e.length,String):[],m=f.length;for(var g in e)!t&&!u.call(e,g)||h&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||l(g,m))||f.push(g);return f}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(24),i=n(45),o=n(21),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},function(e,t,n){(function(e){var r=n(75),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,l=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=l}).call(this,n(1)(e))},function(e,t,n){var r=n(221),i=n(222),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(223)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(225),i=n(49),o=n(226),a=n(90),l=n(227),s=n(24),u=n(77),c=u(r),d=u(i),p=u(o),h=u(a),f=u(l),m=s;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=m(new i)||o&&"[object Promise]"!=m(o.resolve())||a&&"[object Set]"!=m(new a)||l&&"[object WeakMap]"!=m(new l))&&(m=function(e){var t=s(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case c:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case h:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(18)(n(13),"DataView");e.exports=r},function(e,t,n){var r=n(18)(n(13),"Promise");e.exports=r},function(e,t,n){var r=n(18)(n(13),"WeakMap");e.exports=r},function(e,t,n){var r=n(91),i=n(86);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},function(e,t,n){var r=n(84),i=n(93),o=n(235),a=n(55),l=n(91),s=n(92),u=n(22),c=1,d=2;e.exports=function(e,t){return a(e)&&l(t)?s(u(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,c|d)}}},function(e,t,n){var r=n(231),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=a},function(e,t,n){var r=n(232),i=500;e.exports=function(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(48),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(234);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(25),i=n(11),o=n(10),a=n(17),l=1/0,s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-l?"-0":n}},function(e,t,n){var r=n(236),i=n(237);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(37),i=n(47),o=n(10),a=n(16),l=n(45),s=n(22);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,d=!1;++u<c;){var p=s(t[u]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++u!=c?d:!!(c=null==e?0:e.length)&&l(c)&&a(p,c)&&(o(e)||i(e))}},function(e,t,n){var r=n(94),i=n(239),o=n(55),a=n(22);e.exports=function(e){return o(e)?r(a(e)):i(e)}},function(e,t,n){var r=n(54);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(26),i=n(8),o=n(2),a=n(7),l=n(12),s=o(function(e,t){var n=l(t);return a(n)&&(n=void 0),a(e)?r(e,i(t,1,a,!0),void 0,n):[]});e.exports=s},function(e,t,n){var r=n(9),i=n(4);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),r(e,t<0?0:t,o)):[]}},function(e,t,n){var r=n(9),i=n(4);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),r(e,0,(t=o-t)<0?0:t)):[]}},function(e,t,n){var r=n(3),i=n(38);e.exports=function(e,t){return e&&e.length?i(e,r(t,3),!0,!0):[]}},function(e,t,n){var r=n(3),i=n(38);e.exports=function(e,t){return e&&e.length?i(e,r(t,3),!0):[]}},function(e,t,n){var r=n(246),i=n(43);e.exports=function(e,t,n,o){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&i(e,t,n)&&(n=0,o=a),r(e,t,n,o)):[]}},function(e,t,n){var r=n(4),i=n(247);e.exports=function(e,t,n,o){var a=e.length;for((n=r(n))<0&&(n=-n>a?0:a+n),(o=void 0===o||o>a?a:r(o))<0&&(o+=a),o=n>o?0:i(o);n<o;)e[n++]=t;return e}},function(e,t,n){var r=n(248),i=n(4),o=4294967295;e.exports=function(e){return e?r(i(e),0,o):0}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){var r=n(33),i=n(3),o=n(4),a=Math.max;e.exports=function(e,t,n){var l=null==e?0:e.length;if(!l)return-1;var s=null==n?0:o(n);return s<0&&(s=a(l+s,0)),r(e,i(t,3),s)}},function(e,t,n){var r=n(33),i=n(3),o=n(4),a=Math.max,l=Math.min;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=s-1;return void 0!==n&&(u=o(n),u=n<0?a(s+u,0):l(u,s-1)),r(e,i(t,3),u,!0)}},function(e,t,n){e.exports=n(95)},function(e,t,n){var r=n(8),i=1/0;e.exports=function(e){return null!=e&&e.length?r(e,i):[]}},function(e,t,n){var r=n(8),i=n(4);e.exports=function(e,t){return null!=e&&e.length?(t=void 0===t?1:i(t),r(e,t)):[]}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}},function(e,t,n){var r=n(51),i=n(4),o=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var l=null==n?0:i(n);return l<0&&(l=o(a+l,0)),r(e,t,l)}},function(e,t,n){var r=n(9);e.exports=function(e){return null!=e&&e.length?r(e,0,-1):[]}},function(e,t,n){var r=n(11),i=n(56),o=n(2),a=n(57),l=o(function(e){var t=r(e,a);return t.length&&t[0]===e[0]?i(t):[]});e.exports=l},function(e,t,n){var r=n(11),i=n(56),o=n(3),a=n(2),l=n(57),s=n(12),u=a(function(e){var t=s(e),n=r(e,l);return t===s(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?i(n,o(t,2)):[]});e.exports=u},function(e,t,n){var r=n(11),i=n(56),o=n(2),a=n(57),l=n(12),s=o(function(e){var t=l(e),n=r(e,a);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?i(n,void 0,t):[]});e.exports=s},function(e,t){var n=Array.prototype.join;e.exports=function(e,t){return null==e?"":n.call(e,t)}},function(e,t,n){var r=n(33),i=n(78),o=n(262),a=n(4),l=Math.max,s=Math.min;e.exports=function(e,t,n){var u=null==e?0:e.length;if(!u)return-1;var c=u;return void 0!==n&&(c=(c=a(n))<0?l(u+c,0):s(c,u-1)),t==t?o(e,t,c):r(e,i,c,!0)}},function(e,t){e.exports=function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}},function(e,t,n){var r=n(264),i=n(4);e.exports=function(e,t){return e&&e.length?r(e,i(t)):void 0}},function(e,t,n){var r=n(16);e.exports=function(e,t){var n=e.length;if(n)return r(t+=t<0?n:0,n)?e[t]:void 0}},function(e,t,n){var r=n(2)(n(97));e.exports=r},function(e,t){e.exports=function(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}},function(e,t,n){var r=n(3),i=n(58);e.exports=function(e,t,n){return e&&e.length&&t&&t.length?i(e,t,r(n,2)):e}},function(e,t,n){var r=n(58);e.exports=function(e,t,n){return e&&e.length&&t&&t.length?r(e,t,void 0,n):e}},function(e,t,n){var r=n(11),i=n(270),o=n(98),a=n(273),l=n(274),s=n(16),u=l(function(e,t){var n=null==e?0:e.length,l=i(e,t);return o(e,r(t,function(e){return s(e,n)?+e:e}).sort(a)),l});e.exports=u},function(e,t,n){var r=n(93);e.exports=function(e,t){for(var n=-1,i=t.length,o=Array(i),a=null==e;++n<i;)o[n]=a?void 0:r(e,t[n]);return o}},function(e,t,n){var r=n(37),i=n(12),o=n(272),a=n(22);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},function(e,t,n){var r=n(54),i=n(9);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},function(e,t,n){var r=n(17);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e==e,a=r(e),l=void 0!==t,s=null===t,u=t==t,c=r(t);if(!s&&!c&&!a&&e>t||a&&l&&u&&!s&&!c||i&&l&&u||!n&&u||!o)return 1;if(!i&&!a&&!c&&e<t||c&&n&&o&&!i&&!a||s&&n&&o||!l&&o||!u)return-1}return 0}},function(e,t,n){var r=n(96),i=n(79),o=n(81);e.exports=function(e){return o(i(e,void 0,r),e+"")}},function(e,t,n){var r=n(3),i=n(98);e.exports=function(e,t){var n=[];if(!e||!e.length)return n;var o=-1,a=[],l=e.length;for(t=r(t,3);++o<l;){var s=e[o];t(s,o,e)&&(n.push(s),a.push(o))}return i(e,a),n}},function(e,t){var n=Array.prototype.reverse;e.exports=function(e){return null==e?e:n.call(e)}},function(e,t,n){var r=n(9),i=n(43),o=n(4);e.exports=function(e,t,n){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&i(e,t,n)?(t=0,n=a):(t=null==t?0:o(t),n=void 0===n?a:o(n)),r(e,t,n)):[]}},function(e,t,n){var r=n(39);e.exports=function(e,t){return r(e,t)}},function(e,t,n){var r=n(3),i=n(59);e.exports=function(e,t,n){return i(e,t,r(n,2))}},function(e,t,n){var r=n(39),i=n(15);e.exports=function(e,t){var n=null==e?0:e.length;if(n){var o=r(e,t);if(o<n&&i(e[o],t))return o}return-1}},function(e,t,n){var r=n(39);e.exports=function(e,t){return r(e,t,!0)}},function(e,t,n){var r=n(3),i=n(59);e.exports=function(e,t,n){return i(e,t,r(n,2),!0)}},function(e,t,n){var r=n(39),i=n(15);e.exports=function(e,t){if(null!=e&&e.length){var n=r(e,t,!0)-1;if(i(e[n],t))return n}return-1}},function(e,t,n){var r=n(99);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){var r=n(3),i=n(99);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},function(e,t,n){var r=n(9);e.exports=function(e){var t=null==e?0:e.length;return t?r(e,1,t):[]}},function(e,t,n){var r=n(9),i=n(4);e.exports=function(e,t,n){return e&&e.length?(t=n||void 0===t?1:i(t),r(e,0,t<0?0:t)):[]}},function(e,t,n){var r=n(9),i=n(4);e.exports=function(e,t,n){var o=null==e?0:e.length;return o?(t=n||void 0===t?1:i(t),r(e,(t=o-t)<0?0:t,o)):[]}},function(e,t,n){var r=n(3),i=n(38);e.exports=function(e,t){return e&&e.length?i(e,r(t,3),!1,!0):[]}},function(e,t,n){var r=n(3),i=n(38);e.exports=function(e,t){return e&&e.length?i(e,r(t,3)):[]}},function(e,t,n){var r=n(8),i=n(2),o=n(19),a=n(7),l=i(function(e){return o(r(e,1,a,!0))});e.exports=l},function(e,t,n){var r=n(90),i=n(293),o=n(53),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(8),i=n(3),o=n(2),a=n(19),l=n(7),s=n(12),u=o(function(e){var t=s(e);return l(t)&&(t=void 0),a(r(e,1,l,!0),i(t,2))});e.exports=u},function(e,t,n){var r=n(8),i=n(2),o=n(19),a=n(7),l=n(12),s=i(function(e){var t=l(e);return t="function"==typeof t?t:void 0,o(r(e,1,a,!0),void 0,t)});e.exports=s},function(e,t,n){var r=n(19);e.exports=function(e){return e&&e.length?r(e):[]}},function(e,t,n){var r=n(3),i=n(19);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},function(e,t,n){var r=n(19);e.exports=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?r(e,void 0,t):[]}},function(e,t,n){var r=n(26),i=n(2),o=n(7),a=i(function(e,t){return o(e)?r(e,t):[]});e.exports=a},function(e,t,n){var r=n(27),i=n(2),o=n(61),a=n(7),l=i(function(e){return o(r(e,a))});e.exports=l},function(e,t,n){var r=n(27),i=n(3),o=n(2),a=n(61),l=n(7),s=n(12),u=o(function(e){var t=s(e);return l(t)&&(t=void 0),a(r(e,l),i(t,2))});e.exports=u},function(e,t,n){var r=n(27),i=n(2),o=n(61),a=n(7),l=n(12),s=i(function(e){var t=l(e);return t="function"==typeof t?t:void 0,o(r(e,a),void 0,t)});e.exports=s},function(e,t,n){var r=n(2)(n(60));e.exports=r},function(e,t,n){var r=n(101),i=n(102);e.exports=function(e,t){return i(e||[],t||[],r)}},function(e,t,n){var r=n(82);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(307),i=n(102);e.exports=function(e,t){return i(e||[],t||[],r)}},function(e,t,n){var r=n(101),i=n(37),o=n(16),a=n(20),l=n(22);e.exports=function(e,t,n,s){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,d=c-1,p=e;null!=p&&++u<c;){var h=l(t[u]),f=n;if(u!=d){var m=p[h];void 0===(f=s?s(m,h,p):void 0)&&(f=a(m)?m:o(t[u+1])?[]:{})}r(p,h,f),p=p[h]}return e}},function(e,t,n){var r=n(2),i=n(100),o=r(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,i(e,n)});e.exports=o},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_react=__webpack_require__(5),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(14),_propTypes2=_interopRequireDefault(_propTypes),_array=__webpack_require__(73),_ZoomingVerovio=__webpack_require__(310),_util=__webpack_require__(72),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var buildSubstXPathQuery=function(e){return Object.values(e).map(function(e){return"./*[@xml:id = '"+e+"']"})},CompositeVerovioViewer=function(_React$Component){function CompositeVerovioViewer(e){_classCallCheck(this,CompositeVerovioViewer);var t=_possibleConstructorReturn(this,(CompositeVerovioViewer.__proto__||Object.getPrototypeOf(CompositeVerovioViewer)).call(this,e));return t.viewerDiv=_react2.default.createRef(),t.zv=new _ZoomingVerovio.ZoomingVerovio(t.props.viewerID),t.showPage=t.showPage.bind(t),t}return _inherits(CompositeVerovioViewer,_React$Component),_createClass(CompositeVerovioViewer,[{key:"componentDidMount",value:function(){this.zv.initOSD(this.props.viewerID,this.props.onPage),this.zv.setPageMapping(this.props.facsimileData),this.showPage()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.facsimileData,r=t.pageIndex,i=t.substData,o=t.substDefault;(0,_util.deepEquals)(n,e.facsimileData)||(this.zv.setPageMapping(n),this.showPage()),r!==e.pageIndex&&this.showPage();var a=o!==e.substDefault;(!(0,_util.deepEquals)(i,e.substData)||a)&&this.showPage()}},{key:"render",value:function(){return _react2.default.createElement("div",{id:this.props.viewerID,ref:this.viewerDiv,className:"viewer verovio-viewer"})}},{key:"showPage",value:function(){var e=this,t=this.props,n=t.facsimileData,r=t.getFile,i=t.onRender,o=t.pageIndex,a=t.substData,l=t.substDefault,s=n.pages[o].label,u=n.locations[s];this.zv.updateVerovioOptions({substXPathQuery:[].concat(_toConsumableArray(buildSubstXPathQuery(a)),[l])}),Promise.all(u.map(function(e){return e.filePath}).map(r)).then(function(t){e.zv.showComposite(o,(0,_array.zip)(u,t).map(function(e){var t=_slicedToArray(e,2),n=t[0].vrvPage;return{mei:t[1],vrvPage:n}})),i({meiDocs:e.zv.docsUsed,viewerDiv:e.viewerDiv.current})}).catch(function(e){return console.log(e)})}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),CompositeVerovioViewer}(_react2.default.Component);CompositeVerovioViewer.propTypes={facsimileData:_propTypes2.default.object,getFile:_propTypes2.default.func.isRequired,onPage:_propTypes2.default.func.isRequired,onRender:_propTypes2.default.func.isRequired,substData:_propTypes2.default.object,substDefault:_propTypes2.default.string,pageIndex:_propTypes2.default.number,viewerID:_propTypes2.default.string.isRequired},CompositeVerovioViewer.defaultProps={facsimileData:{},pageIndex:0,substData:{},substDefault:"./add"};var _default=CompositeVerovioViewer,reactHotLoader,leaveModule;exports.default=_default,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(buildSubstXPathQuery,"buildSubstXPathQuery","/home/bruckner/app/src/components/CompositeVerovioViewer.js"),reactHotLoader.register(CompositeVerovioViewer,"CompositeVerovioViewer","/home/bruckner/app/src/components/CompositeVerovioViewer.js"),reactHotLoader.register(_default,"default","/home/bruckner/app/src/components/CompositeVerovioViewer.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZoomingVerovio=void 0;var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,l=e[Symbol.iterator]();!(r=(a=l.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_OpenSeadragonEngine=__webpack_require__(311),_VerovioEngine=__webpack_require__(312),_verovioOptions=__webpack_require__(103),_osdOptions=__webpack_require__(42),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var PAGEWIDTH=8192,TILESIZE=256,ZOOM=220,NUMHORIZTILES=Math.ceil(PAGEWIDTH/TILESIZE),OVERLAYFACTOR=1/PAGEWIDTH*.99,osdOptions=_extends({},_osdOptions.commonOpenSeadragonOptions,_osdOptions.commonVerovioOpenSeadragonOptions),V_MARGIN_TOP=40,V_MARGIN_LEFT=100,verovioOptions=(0,_verovioOptions.getVerovioOptions)({breaks:"encoded",pageMarginTop:V_MARGIN_TOP,pageWidth:TILESIZE*NUMHORIZTILES*100/ZOOM,scale:ZOOM}),emptyTileSource=function(){return _OpenSeadragonEngine.OSD.defaultTileSource(TILESIZE,TILESIZE*NUMHORIZTILES,Math.floor(TILESIZE*NUMHORIZTILES*.75))},parser=new DOMParser,parseXML=function(e){return parser.parseFromString(e,"text/xml")},serializer=new XMLSerializer,serializeXML=function(e){return serializer.serializeToString(e)},getHeight=function(e){var t=e.documentElement.getAttribute("height");return parseInt(t.replace("px",""),10)},sum=function(e){return e.reduce(function(e,t){return e+t},0)},mergeSVG=function(e,t){var n=[parseXML(e),parseXML(t)],r=n[0],i=Array.from(n.map(function(e){return e.querySelector("defs")})),o=_slicedToArray(i,2),a=o[0];o[1].querySelectorAll("symbol").forEach(function(e){var t=e.getAttribute("id");a.querySelector("#"+t)||a.append(r.importNode(e,!0))});var l=sum(n.map(getHeight));r.documentElement.setAttribute("height",l+"px");var s=n.map(function(e){return e.querySelector("svg.definition-scale")}),u=s.map(function(e){return e.getAttribute("viewBox")}).map(function(e){return e.split(" ").map(function(e){return parseInt(e,10)})}),c=_slicedToArray(u,2),d=_slicedToArray(c[0],4),p=d[0],h=d[1],f=d[2],m=d[3],g=_slicedToArray(c[1],4),y=(g[0],g[1],g[2],[p,h,f,m+g[3]].join(" ")),v=_slicedToArray(s,2),x=v[0],b=v[1];x.setAttribute("viewBox",y);var w=b.querySelector("g.page-margin");return w.setAttribute("transform","translate("+10*V_MARGIN_LEFT+", "+(m-30*V_MARGIN_TOP)+")"),x.append(w),serializeXML(r)},MEI_NS="http://www.music-encoding.org/ns/mei",ensurePageBreak=function(e){var t=parseXML(e),n=t.querySelector("section"),r=n.firstElementChild,i=!1;return"pb"!==r.localName&&(n.insertBefore(t.createElementNS(MEI_NS,"pb"),r),i=!0),{xml:serializeXML(t),pageBreakInserted:i}};function removeGeneratedMeasures(e){var t=parseXML(e);return t.querySelectorAll('measure[type="generated"]').forEach(function(e){return e.remove()}),serializeXML(t)}var ZoomingVerovio=exports.ZoomingVerovio=function(){function ZoomingVerovio(){_classCallCheck(this,ZoomingVerovio),this.osd=new _OpenSeadragonEngine.OSD,this.vrv=new _VerovioEngine.Verovio(verovioOptions),this.pageData=null,this.pageCallback=null,this.lastPageShown=-1,this.docsUsed=[]}return _createClass(ZoomingVerovio,[{key:"initOSD",value:function(e,t){this.pageCallback=t,this.osd.init(e,osdOptions,this.pageCallback),this.osd.svgOverlay(OVERLAYFACTOR)}},{key:"setPageMapping",value:function(e){this.pageData=e,this.osd.setTileSources(this.pageData.pages.map(emptyTileSource))}},{key:"showComposite",value:function(e,t){var n=this;this.docsUsed=[];var r=t.length>0?t.map(function(e){var t=e.mei,r=e.vrvPage,i=ensurePageBreak(t),o=i.xml,a=i.pageBreakInserted,l=removeGeneratedMeasures(o);return n.docsUsed.push(parseXML(l)),n.vrv.getSVG(l,r+ +a)}).reduce(mergeSVG):"",i=r?getHeight(parseXML(r)):1,o=Math.ceil(i/TILESIZE)*TILESIZE;this.osd.updateTileSource({height:o},e),this.osd.setOverlaySVG(r),this.lastPageShown!==e&&(this.osd.open(e),this.lastPageShown=e)}},{key:"updateVerovioOptions",value:function(e){this.vrv.updateOptions(e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),ZoomingVerovio}(),reactHotLoader,leaveModule;reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(PAGEWIDTH,"PAGEWIDTH","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(TILESIZE,"TILESIZE","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(ZOOM,"ZOOM","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(NUMHORIZTILES,"NUMHORIZTILES","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(OVERLAYFACTOR,"OVERLAYFACTOR","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(osdOptions,"osdOptions","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(V_MARGIN_TOP,"V_MARGIN_TOP","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(V_MARGIN_LEFT,"V_MARGIN_LEFT","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(verovioOptions,"verovioOptions","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(emptyTileSource,"emptyTileSource","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(parser,"parser","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(parseXML,"parseXML","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(serializer,"serializer","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(serializeXML,"serializeXML","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(getHeight,"getHeight","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(sum,"sum","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(mergeSVG,"mergeSVG","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(MEI_NS,"MEI_NS","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(ensurePageBreak,"ensurePageBreak","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(removeGeneratedMeasures,"removeGeneratedMeasures","/home/bruckner/app/src/ZoomingVerovio.js"),reactHotLoader.register(ZoomingVerovio,"ZoomingVerovio","/home/bruckner/app/src/ZoomingVerovio.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0}),exports.OSD=void 0;var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),_openseadragon=__webpack_require__(23),_openseadragon2=_interopRequireDefault(_openseadragon),enterModule;function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}__webpack_require__(71),enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var NO_OP=function(){},svg256=function(){return"data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22256px%22%20height%3D%22256px%22%2F%3E"},OpenSeadragonEngine=function(){function OpenSeadragonEngine(){_classCallCheck(this,OpenSeadragonEngine),this.tileSources=[]}return _createClass(OpenSeadragonEngine,[{key:"destroy",value:function(){this.overlay=null,this.viewer.destroy(),this.viewer=null}},{key:"getViewerElement",value:function(){return this.viewerElement}},{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];this.viewerElement=e,this.viewer=(0,_openseadragon2.default)(_extends({element:this.viewerElement,tileSources:[]},t)),this.viewer.innerTracker.keyDownHandler=NO_OP,this.viewer.innerTracker.keyHandler=NO_OP,void 0!==n&&this.viewer.addHandler("page",function(e){n(e.page)})}},{key:"open",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.viewer.open(this.tileSources,e)}},{key:"setOverlaySVG",value:function(e){this.overlay.node().innerHTML=e}},{key:"svgOverlay",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.overlay=this.viewer.svgOverlay(e)}},{key:"setTileSources",value:function(e){this.tileSources=e}},{key:"updateTileSource",value:function(e,t){var n=this.tileSources[t];this.tileSources[t]=_extends({},n,e)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}],[{key:"defaultTileSource",value:function(e,t,n){return{ajaxWithCredentials:!1,crossOriginPolicy:!1,getTileUrl:arguments.length>3&&void 0!==arguments[3]?arguments[3]:svg256,height:n,tileSize:e,useCanvas:!0,width:t}}}]),OpenSeadragonEngine}(),reactHotLoader,leaveModule;exports.OSD=OpenSeadragonEngine,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(NO_OP,"NO_OP","/home/bruckner/app/src/OpenSeadragonEngine.js"),reactHotLoader.register(svg256,"svg256","/home/bruckner/app/src/OpenSeadragonEngine.js"),reactHotLoader.register(OpenSeadragonEngine,"OpenSeadragonEngine","/home/bruckner/app/src/OpenSeadragonEngine.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(module,exports,__webpack_require__){"use strict";(function(module){Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),enterModule;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}enterModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).enterModule,enterModule&&enterModule(module);var didKeysChange=function(e,t,n){return n.some(function(n){return e[n]!==t[n]})},VerovioEngine=function(){function VerovioEngine(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,VerovioEngine),this.isLoadRequired=!0,this.loadedMei="",this.loadedMeiPageCount=0,this.calledRenderToMIDI=!1,this.vrvToolkit=new verovio.toolkit,this.vrvToolkit.setOptions(e),this.loadedOptions=_extends({},e)}return _createClass(VerovioEngine,[{key:"_loadIfNecessary",value:function(e){(e!==this.loadedMei||this.isLoadRequired)&&(this.vrvToolkit.loadData(e,{}),this.loadedMei=e,this.loadedMeiPageCount=this.vrvToolkit.getPageCount(),this.isLoadRequired=!1,this.calledRenderToMIDI=!1)}},{key:"destroy",value:function(){this.vrvToolkit.destroy(),this.vrvToolkit=null}},{key:"getElementsAtTime",value:function(e,t){return this.calledRenderToMIDI||this.getMIDI(e),this.vrvToolkit.getElementsAtTime(t)}},{key:"getMIDI",value:function(e){this._loadIfNecessary(e);var t=this.vrvToolkit.renderToMIDI({});return this.calledRenderToMIDI=!0,t}},{key:"getPageCount",value:function(e){return this._loadIfNecessary(e),this.loadedMeiPageCount}},{key:"getPage",value:function(e){return this.vrvToolkit.renderToSVG(e,{})}},{key:"getSVG",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._loadIfNecessary(e),this.vrvToolkit.renderToSVG(t,n)}},{key:"getTimeForElement",value:function(e,t){return this.calledRenderToMIDI||this.getMIDI(e),this.vrvToolkit.getTimeForElement(t)}},{key:"updateOptions",value:function(e){var t=_extends({},this.loadedOptions,e);this.isLoadRequired=!!didKeysChange(this.loadedOptions,t,["appXPathQuery","choiceXPathQuery","mdivXPathQuery","substXPathQuery"])||this.isLoadRequired,this.vrvToolkit.setOptions(t),this.loadedOptions=t}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),VerovioEngine}(),reactHotLoader,leaveModule;exports.Verovio=VerovioEngine,reactHotLoader=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).default,reactHotLoader&&(reactHotLoader.register(didKeysChange,"didKeysChange","/home/bruckner/app/src/VerovioEngine.js"),reactHotLoader.register(VerovioEngine,"VerovioEngine","/home/bruckner/app/src/VerovioEngine.js")),leaveModule=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:__webpack_require__(0)).leaveModule,leaveModule&&leaveModule(module)}).call(this,__webpack_require__(1)(module))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),t.urls=void 0;var i,o=n(41);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&i(e);var l,s,u=t.urls=(a(r={},o.ENDPOINT_XSLT,"http://localhost:8080/XSLTServlet/"),a(r,o.ENDPOINT_LIST,"ls"),a(r,o.ENDPOINT_FACS,"facs"),a(r,o.ENDPOINT_FILE,"file"),r);(l=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&l.register(u,"urls","/home/bruckner/app/src/config.js"),(s=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&s(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var i,o,a="https://iiif-mufo.oeaw.ac.at/bruckner/A-WnMus.Hs.44706/A-WnMus.Hs.44706",l=["001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","286a","286b","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","Einband1","Einband2","Einband3","HDspiegel","I","II","IIx","Ix","VDspiegel"],s=l.map(function(e){return{label:e.replace(/^0+/,""),url:a+"-"+e+"/info.json"}}),u=s;t.default=u,(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(i.register(a,"BASEURL","/home/bruckner/app/src/data/imagesIIIF.js"),i.register(l,"SUFFIXES","/home/bruckner/app/src/data/imagesIIIF.js"),i.register(s,"imageData","/home/bruckner/app/src/data/imagesIIIF.js"),i.register(u,"default","/home/bruckner/app/src/data/imagesIIIF.js")),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&o(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var i,o,a=t.annotData={"A-WnMus.Hs.44706-001":[{id:"k001-annot-idm233",ann:"<p>selten vollkommener Schluß.</p>",ulx:3804,uly:220,lrx:5608,lry:720},{id:"k001-annot-idm565",ann:"<p>unvollkommner (schon gewöhnlicher)</p>",ulx:4160,uly:2092,lrx:6344,lry:2464},{id:"k001-annot-idm763",ann:'<p>in <span class="annot-abbr" data-abbr="Dom" data-expan="Dominante">Dom</span> ohne <span class="annot-abbr" data-abbr="eigtl." data-expan="eigentlichen">eigtl.</span> Übergang ins Gdur.</p><p>(sonst ists <span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span> <br/>nicht Halbschluß<br/>sondern Modulation)<br/>?</p>',ulx:4116,uly:3764,lrx:8032,lry:5056}],"A-WnMus.Hs.44706-002":[{id:"k002-annot-idm91",ann:"<p>Oder ?</p>",ulx:468,uly:260,lrx:1304,lry:592},{id:"k002-annot-idm231",ann:"<p>auch <del>Halbschluß</del> <ins>unvollkommner</ins> aber nicht auf 1. Tacttheil</p>",ulx:3704,uly:216,lrx:6628,lry:744},{id:"k002-annot-idm403",ann:"<p>oder vielleicht:</p>",ulx:5124,uly:2100,lrx:6352,lry:2492},{id:"k002-annot-idm601",ann:"<p>Oder:</p>",ulx:5336,uly:3856,lrx:5932,lry:4268}],"A-WnMus.Hs.44706-003":[],"A-WnMus.Hs.44706-004":[{id:"k004-annot-idm88",ann:"<p>(auf Schlußnote fremde Harmonien<br/> (ohne Cadenz.</p>",ulx:3888,uly:164,lrx:7236,lry:676},{id:"k004-annot-idm131",ann:"<p>vollkommener</p>",ulx:3176,uly:276,lrx:3948,lry:668},{id:"k004-annot-idm246",ann:'<p><span class="annot-abbr" data-abbr="unvollk" data-expan="unvollkommner">unvollk</span></p>',ulx:1856,uly:1236,lrx:2552,lry:1592},{id:"k004-annot-idm397",ann:"<p>dann:</p>",ulx:6256,uly:1348,lrx:6848,lry:1620},{id:"k004-annot-idm471",ann:"<p>oder</p>",ulx:3012,uly:2136,lrx:3476,lry:2468},{id:"k004-annot-idm703",ann:"<p>oder:</p>",ulx:6136,uly:3036,lrx:6732,lry:3380},{id:"k004-annot-idm1022",ann:"<p>16 Tacten Perioden<br/>wie hier<br/> (das 2<sup>mal</sup> die Wiederholung anders harmonisiert)</p>",ulx:5744,uly:4944,lrx:8108,lry:6344}],"A-WnMus.Hs.44706-005":[{id:"k005-annot-idm131",ann:'<p><span class="annot-abbr" data-abbr="vollk." data-expan="vollkommner">vollk.</span></p>',ulx:2484,uly:456,lrx:2944,lry:796},{id:"k005-annot-idm300",ann:'<p><span class="annot-abbr" data-abbr="unvollk." data-expan="unvollkommner">unvollk.</span></p>',ulx:1808,uly:1420,lrx:2464,lry:1804}],"A-WnMus.Hs.44706-006":[{id:"k006-annot-idm93",ann:"<p>später</p>",ulx:2332,uly:252,lrx:3432,lry:936},{id:"k006-annot-idm330",ann:'<p><span class="annot-abbr" data-abbr="unvollk." data-expan="unvollkommner">unvollk.</span></p>',ulx:3588,uly:1496,lrx:4284,lry:1844},{id:"k006-annot-idm747",ann:'<p>2. Hälfte<br/>ist <span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span> <br/>Variation</p>',ulx:7020,uly:3360,lrx:7844,lry:4004}],"A-WnMus.Hs.44706-007":[{id:"k007-annot-idm81",ann:"<p>Streichquartett ; nur Viola Alt-Schlüssel.</p>",ulx:100,uly:176,lrx:4524,lry:996},{id:"k007-annot-idm301",ann:"<p>vollkommner Schluß</p>",ulx:6192,uly:364,lrx:7460,lry:780},{id:"k007-annot-idm785",ann:'<p><span class="annot-abbr" data-abbr="unvollk." data-expan="unvollkommner">unvollk.</span> Schluß</p>',ulx:1316,uly:3056,lrx:2312,lry:3368}],"A-WnMus.Hs.44706-008":[{id:"k008-dir-idm259",ann:"<p>vollkommner Schluß</p>",ulx:5168,uly:328,lrx:6556,lry:812},{id:"k008-dir-idm472",ann:"<p>unvollkommner Schluß</p>",ulx:1536,uly:2364,lrx:2864,lry:2660},{id:"k008-annot-idm547",ann:"<p>alten</p>",ulx:4532,uly:3116,lrx:4924,lry:3412}],"A-WnMus.Hs.44706-009":[{id:"k009-annot-idm87",ann:"<p>Fortsetzung : auf der Schlußnote fremde Harmonien ohne Cadenz, nur einen Übergangs-Accord<br/>(sind eine Art Trugschluße ?)</p>",ulx:224,uly:304,lrx:7820,lry:904},{id:"k009-annot-idm167",ann:"<p>oder</p>",ulx:3736,uly:656,lrx:4204,lry:968},{id:"k009-annot-idm453",ann:"<p>2te Hälfte<br/>anders har-<br/>monisiren.</p>",ulx:6936,uly:1124,lrx:7856,lry:2016},{id:"k009-annot-idm544",ann:"<p>Bis hieher: Perioden aus 2 Gliedern<br/>durch Wiederholung des 1tes Gliedes</p>",ulx:3244,uly:2312,lrx:7876,lry:3044},{id:"k009-annot-idm558",ann:'<p>Perioden<br/>von 8 Tacten<br/>aus einem<br/>einzigen<br/>Ganzen<br/> <span class="annot-abbr" data-abbr="u." data-expan="und">u.</span> in breiter<br/>Tactarten</p>',ulx:44,uly:3092,lrx:928,lry:4452},{id:"k009-annot-idm615",ann:"<p>NB</p>",ulx:2296,uly:2972,lrx:2560,lry:3216},{id:"k009-annot-idm1243",ann:"<p>NB</p>",ulx:2052,uly:4700,lrx:2324,lry:4952},{id:"k009-annot-idm1340",ann:"<p>Leitton im Baß ist<br/>in keiner Stimme<br/>zu verdoppeln</p>",ulx:4124,uly:5272,lrx:5532,lry:5944}],"A-WnMus.Hs.44706-010":[{id:"k010-annot-idm95",ann:"<p>frei</p>",ulx:344,uly:612,lrx:1060,lry:1368},{id:"k010-annot-idm209",ann:'<p><span class="annot-abbr" data-abbr="unvolk." data-expan="unvolkommner">unvolk.</span></p>',ulx:3996,uly:356,lrx:4676,lry:788},{id:"k010-annot-idm402",ann:'<p><span class="annot-abbr" data-abbr="vollk." data-expan="vollkommner">vollk.</span></p>',ulx:2988,uly:1380,lrx:3312,lry:1608},{id:"k010-dir-idm541",ann:'<p><span class="annot-abbr" data-abbr="unvollk." data-expan="unvollkommner">unvollk.</span></p>',ulx:1592,uly:2052,lrx:2264,lry:2424}],"A-WnMus.Hs.44706-011":[{id:"k011-dir-idm315",ann:"<p>vollkommner Schluß</p>",ulx:2444,uly:1428,lrx:3700,lry:1872},{id:"k011-dir-idm386",ann:'<p><span class="annot-abbr" data-abbr="unvollk." data-expan="unvollkommner">unvollk.</span></p>',ulx:5032,uly:1336,lrx:5752,lry:1780}],"A-WnMus.Hs.44706-012":[{id:"k012-annot-idm255",ann:"<p>NB</p>",ulx:3664,uly:1704,lrx:3992,lry:2028},{id:"k012-annot-idm881",ann:"<p>oder</p>",ulx:3180,uly:4420,lrx:3632,lry:4732},{id:"k012-annot-idm914",ann:"<p>oder</p>",ulx:4192,uly:4504,lrx:4584,lry:4808},{id:"k012-annot-idm879",ann:"<p>NB</p>",ulx:3508,uly:4740,lrx:3912,lry:5024}],"A-WnMus.Hs.44706-013":[{id:"k013-annot-idm81",ann:'<p>1. <span class="annot-abbr" data-abbr="Beisp" data-expan="Beispiel">Beisp</span> in alle <span class="annot-abbr" data-abbr="verwandt" data-expan="verwandten">verwandt</span> <span class="annot-abbr" data-abbr="Tonart" data-expan="Tonarten">Tonart</span> Dur <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Moll<br/> die andere bei Dur in <span class="annot-abbr" data-abbr="Dom." data-expan="Dominant">Dom.</span> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> <span class="annot-abbr" data-abbr="Parallel" data-expan="Parallele">Parallel</span> <span class="annot-abbr" data-abbr="Tonart." data-expan="Tonarten">Tonart.</span> <br/> Moll ebenfalls <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> <span class="annot-abbr" data-abbr="Parallel" data-expan="Parallele">Parallel</span> <span class="annot-abbr" data-abbr="Tonart" data-expan="Tonarten">Tonart</span> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> in Mo Tonart der <span class="annot-abbr" data-abbr="Dom." data-expan="Dominant">Dom.</span> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Moll<br/> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Dur </p>',ulx:196,uly:120,lrx:7848,lry:968},{id:"k013-annot-idm711",ann:"<p>NB. hier wäre wohl<br/>nach dem 1. Gliede ein<br/>anderer Schluß wünschens-<br/>werth; da zu viel Amoll ist.</p>",ulx:6232,uly:2492,lrx:7912,lry:3316},{id:"k013-annot-idm1012",ann:"<p>? dürfte hier Pause sein</p>",ulx:3728,uly:4004,lrx:5064,lry:4256},{id:"k013-annot-idm1177",ann:"<p>v. 6.<br/>Tacte an<br/>ins Amoll</p>",ulx:212,uly:4948,lrx:888,lry:5828}],"A-WnMus.Hs.44706-014":[{id:"k014-annot-idm85",ann:"<p>NB</p>",ulx:1340,uly:512,lrx:1720,lry:856},{id:"k014-annot-idm87",ann:"<p>NB</p>",ulx:1364,uly:1068,lrx:1640,lry:1364},{id:"k014-annot-idm450",ann:"<p>NB</p>",ulx:7032,uly:1552,lrx:7360,lry:1860},{id:"k014-annot-idm501",ann:"<p>etwas <unclear>besser</unclear> </p>",ulx:7588,uly:1472,lrx:8024,lry:1788},{id:"k014-annot-idm452",ann:"<p>ganz frei</p>",ulx:6696,uly:1992,lrx:7352,lry:2344},{id:"k014-annot-idm542",ann:"<p>auf Dom.</p>",ulx:300,uly:2328,lrx:1068,lry:2756},{id:"k014-dir-idm706",ann:"<p>oder Schlußaccord</p>",ulx:5876,uly:2340,lrx:7244,lry:2744},{id:"k014-dir-idm707",ann:"<p>am besten</p>",ulx:6696,uly:2788,lrx:7576,lry:3116},{id:"k014-annot-idm799",ann:"<p>Ist doch zu viel Adur.</p>",ulx:4700,uly:3268,lrx:7040,lry:3744},{id:"k014-annot-idm1094",ann:'<p>? drüben <span class="annot-abbr" data-abbr="v." data-expan="vom">v.</span> Wasser As<br/>4-Tacte Periode <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> kleine 8.</p>',ulx:560,uly:5700,lrx:2800,lry:6176},{id:"k014-dir-idm739",ann:'<p>? vielleicht:<br/> <span class="annot-abbr" data-abbr="v. " data-expan="vom ">v. </span> 5. Tacte</p>',ulx:204,uly:3180,lrx:1116,lry:3848},{id:"k014-dir-idm840",ann:'<p>Männerchor <br/>in <span class="annot-abbr" data-abbr="Dom." data-expan="Dominant">Dom.</span> <br/> Schluß</p>',ulx:184,uly:4032,lrx:972,lry:5104},{id:"k014-annot-idm918",ann:"<p>NB</p>",ulx:4744,uly:4036,lrx:5020,lry:4244}],"A-WnMus.Hs.44706-015":[{id:"x56357b79-2980-4600-ac30-79ad1d6988b4",ann:"<p>NB</p>",ulx:252,uly:2396,lrx:620,lry:2736},{id:"k015-annot-idm614",ann:"<p>oder</p>",ulx:6476,uly:2416,lrx:6980,lry:2848},{id:"k016-annot-idm82",ann:"<p>neu</p>",ulx:252,uly:3924,lrx:700,lry:4340},{id:"k016-annot-idm84",ann:'<p><span class="annot-abbr" data-abbr="u fr." data-expan="und frei">u fr.</span></p>',ulx:4408,uly:3800,lrx:5928,lry:4156},{id:"k016-annot-idm174",ann:"<p>anders harmonisirt</p>",ulx:268,uly:4568,lrx:664,lry:4836}],"A-WnMus.Hs.44706-016":[{id:"k016-annot-idm621",ann:"<p>oder:</p>",ulx:264,uly:1632,lrx:936,lry:2092},{id:"k016-annot-idm727",ann:"<p>NB</p>",ulx:6356,uly:1612,lrx:6592,lry:1896},{id:"k016-annot-idm810",ann:"<p>NB</p>",ulx:2772,uly:2708,lrx:3036,lry:2932},{id:"k016-annot-idm920",ann:"<p>obwohl nach<br/>dem 1. Abschnitt<br/>hier ein<br/>unvollkommner<br/>Schluß in<br/>Tonica besser<br/>wäre</p>",ulx:7136,uly:2500,lrx:8116,lry:3684},{id:"k016-annot-idm1206",ann:"<p>oder</p>",ulx:504,uly:4924,lrx:1012,lry:5344}],"A-WnMus.Hs.44706-017":[{id:"k017-annot-idm340",ann:"<p>NB frei</p>",ulx:1900,uly:2156,lrx:2708,lry:2524},{id:"k017-annot-idm915",ann:"<p>oder:</p>",ulx:3776,uly:4616,lrx:4220,lry:4940}],"A-WnMus.Hs.44706-018":[{id:"k018-annot-idm75",ann:"<p>16-tactige Perioden<br/>Walzerform</p>",ulx:5988,uly:232,lrx:7844,lry:752},{id:"k018-annot-idm80",ann:"<p>Die 1. Periode vom 7. Tacte an mit Schluß auf der Tonart der Dominant.</p>",ulx:328,uly:244,lrx:5496,lry:764},{id:"k018-annot-idm159",ann:"<p>oder</p>",ulx:2976,uly:660,lrx:3372,lry:948},{id:"k018-annot-idm239",ann:"<p>NB</p>",ulx:5396,uly:600,lrx:5732,lry:880},{id:"k018-annot-idm318",ann:'<p><span class="annot-abbr" data-abbr="v." data-expan="vom">v.</span> 7. Tacte<br/>(so wie<br/>Schluß<br/>2. Periode)</p>',ulx:184,uly:1684,lrx:1012,lry:2600},{id:"k019-annot-idm361",ann:"<p>NB. Die Clavier-Begleitung nur hier einfach.</p>",ulx:312,uly:4740,lrx:4880,lry:5284},{id:"k019-annot-idm584",ann:"<p>Lied<br/>mit<br/> Clavier</p>",ulx:7268,uly:4604,lrx:7980,lry:5308},{id:"k019-annot-idm588",ann:"<p>I.O habt die Thräne gern,<br/> Die still im Auge bebt;<br/> Es ist ein lichter Stern,<br/> Nach dem ihr lang gestrebt.</p><p>(breite Tactart)</p><p>II Periode Nun strahlt derIhr mögt die Sonn verstehn<br/>Und habt sie Alle gern;<br/>O müht euch zu verstehn,<br/>Im Aug den stillen Stern!</p>",ulx:372,uly:5336,lrx:6760,lry:6396},{id:"ke1a56425-f342-4653-a148-4b49be38708f",ann:"<p>8-tactige, 2 theilige <br/>Liedform</p>",ulx:6596,uly:5440,lrx:7976,lry:6196}],"A-WnMus.Hs.44706-019":[{id:"k019-annot-idm602",ann:'<p>Die Menschenbrust ist freudlos <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> verlassen</p>',ulx:256,uly:140,lrx:4784,lry:556},{id:"k019-annot-idm609",ann:'<p><span class="annot-abbr" data-abbr="Singst." data-expan="Singstimme">Singst.</span></p>',ulx:92,uly:596,lrx:680,lry:1124},{id:"k019-annot-idm614",ann:"<p>Clavier-<br/>begleitung</p>",ulx:20,uly:1100,lrx:780,lry:1864},{id:"k020-annot-idm295",ann:"<p>NB Rhythmus</p>",ulx:1288,uly:2980,lrx:2048,lry:3376},{id:"k020-annot-idm620",ann:"\x3c!-- Streichung --\x3e<p>NB</p>",ulx:2092,uly:4276,lrx:2496,lry:4564},{id:"kcb85ff99-12ee-404e-bfc0-3bd4813ae9f1",ann:"<p>(HNacht anno 1861)</p>",ulx:6756,uly:5384,lrx:8024,lry:6004}],"A-WnMus.Hs.44706-020":[{id:"k021-annot-idm83",ann:"<p>Herzeleid ganz frei</p>",ulx:892,uly:264,lrx:3624,lry:884},{id:"k6b246c3c-cf08-4936-bcaf-7046d0a809e3",ann:'<p>? nicht Viertlnoten, weil sonst aus die 𝅗𝅥<sup>te</sup> Zeit nicht der Schluß<br/>konnte neu: Unter-<span class="annot-abbr" data-abbr="Dom." data-expan="Dominante">Dom.</span> Plagal; aber auf 3. Zeit anstatt auf der 1. <sup>te</sup> </p>',ulx:3896,uly:292,lrx:7972,lry:932},{id:"k021-annot-idm363",ann:"<p>Dominant</p>",ulx:264,uly:1820,lrx:1344,lry:2408},{id:"k021-annot-idm395",ann:'<p>neuer <span class="annot-abbr" data-abbr="" data-expan=""/> </p>',ulx:1436,uly:1888,lrx:2524,lry:2216},{id:"k021-annot-idm429",ann:"<p>NB</p>",ulx:2716,uly:1956,lrx:3048,lry:2212}],"A-WnMus.Hs.44706-021":[{id:"k022-annot-idm81",ann:"<p>2 theilige Liedform,</p>",ulx:496,uly:48,lrx:2880,lry:768},{id:"k022-annot-idm83",ann:"<p>2 Perioden, zujede zu acht Tacten, wo-<br/> von jede aus einem einzigen Ganzen ohne<br/> Wiederholung besteht.</p>",ulx:3032,uly:72,lrx:7748,lry:920},{id:"k022-annot-idm89",ann:"<p>Nachglück</p>",ulx:80,uly:736,lrx:720,lry:1516}],"A-WnMus.Hs.44706-022":[{id:"k023-annot-idm77",ann:"<p>Vor der schlummernden Mutter.</p>",ulx:1164,uly:112,lrx:4504,lry:628},{id:"k023-annot-idm79",ann:"<p>Zweitheilige Liedform</p>",ulx:296,uly:396,lrx:2116,lry:872},{id:"k023-annot-idm167",ann:'<p>? 5. Strophen.. soll nicht jede Verszeile<br/>NB selb schon einen Abschnitt <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> Glied<br/>bilden?</p>',ulx:4732,uly:132,lrx:7952,lry:984},{id:"k023-annot-idm598",ann:"<p>NB Einschiebung</p>",ulx:4088,uly:1900,lrx:5212,lry:2220}],"A-WnMus.Hs.44706-023":[{id:"k024-annot-idm89",ann:"<p>Dreitheilige Liedform.</p>",ulx:408,uly:152,lrx:2784,lry:600},{id:"k024-annot-idm91",ann:"<p>1. Periode für sich ein Ganzes<br/>2. = neu<br/>3. = Wiederholung der 1<sup>ten</sup> Periode.</p>",ulx:2844,uly:128,lrx:6600,lry:764},{id:"k024-annot-idm97",ann:"<p>Des Baches Frühlingsfeier.</p>",ulx:192,uly:480,lrx:2296,lry:836},{id:"k024-annot-idm109",ann:'<p>Himmel <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Herz</p>',ulx:56,uly:724,lrx:712,lry:1300},{id:"k024-annot-idm99",ann:'<p>NB<br/>3<sup>te</sup> <br/>Strophe<br/>in Dur<br/> <span class="annot-abbr" data-abbr="nachcomp." data-expan="nachcomponirt">nachcomp.</span> </p>',ulx:16,uly:1168,lrx:740,lry:2456},{id:"k024-annot-idm474",ann:'<p><span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span>Fine</p>',ulx:2312,uly:1824,lrx:2836,lry:2172},{id:"k024-annot-idm479",ann:"<p>NB</p>",ulx:2772,uly:1848,lrx:3096,lry:2144},{id:"k024-annot-idm980",ann:'<p><span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span> Fine 2. Periode) Anfang</p>',ulx:1764,uly:4260,lrx:3412,lry:4688},{id:"k024-annot-idm1014",ann:"<p>Ein 2<sup>tes</sup> Glied angehängt</p>",ulx:2824,uly:5512,lrx:5556,lry:6028}],"A-WnMus.Hs.44706-024":[{id:"k025-annot-idm71",ann:"<p>NB. Die 1. Strophe erforderte keinen gemeintlichen Gesang; Doch die<br/>Form ist beibehalten (wegen der letzten)</p>",ulx:1252,uly:220,lrx:7892,lry:804}],"A-WnMus.Hs.44706-025":[{id:"k026-annot-idm70",ann:"<p>2 theilige Liedform</p>",ulx:788,uly:272,lrx:2052,lry:648},{id:"k026-annot-idm72",ann:"<p>16 tactige Perioden</p>",ulx:1820,uly:204,lrx:3360,lry:604},{id:"k026-annot-idm74",ann:"<p>Walzerform</p>",ulx:3424,uly:200,lrx:4712,lry:616},{id:"k026-annot-idm792",ann:"<p>2<sup>te</sup> <br/>Theil<br/>Periode<br/>ohne<br/>Wieder<br/>holung</p>",ulx:7432,uly:3268,lrx:8036,lry:4436},{id:"k026-annot-idm817",ann:"<p>oder<br/>2.<sup>te</sup> Theil<br/>mit<br/>Wiederho<br/>lung<br/>des 1.<br/>Gliedes</p>",ulx:68,uly:4e3,lrx:812,lry:5396},{id:"k026-annot-idm1156",ann:"<p>1. Jänner<br/>1862</p>",ulx:7348,uly:5472,lrx:7992,lry:6124}],"A-WnMus.Hs.44706-026":[{id:"k027-annot-idm77",ann:"<p>16 tactige Perioden</p>",ulx:1044,uly:192,lrx:2588,lry:596},{id:"k027-annot-idm79",ann:"<p>Walzer</p>",ulx:228,uly:648,lrx:864,lry:1124},{id:"x627bdf51-1860-4e3b-b440-604ecce471f0",ann:"<p>2 theilige Liedform.</p>",ulx:2688,uly:216,lrx:4260,lry:612},{id:"k027-annot-idm475",ann:"<p>oder:</p>",ulx:4332,uly:2460,lrx:4776,lry:2780},{id:"k027-annot-idm731",ann:"<p>2. Jänner<br/>1862</p>",ulx:7176,uly:5684,lrx:8064,lry:6148}],"A-WnMus.Hs.44706-027":[{id:"k028-annot-idm76",ann:"<p>Polka</p>",ulx:408,uly:232,lrx:1152,lry:728},{id:"k028-annot-idm78",ann:"<p>16tactige Periode</p>",ulx:1336,uly:212,lrx:2896,lry:628},{id:"x8a319637-012f-40df-9d58-7230cd9712d8",ann:"<p> 2 theilige Liedform</p>",ulx:2920,uly:260,lrx:4708,lry:636},{id:"k028-annot-idm82",ann:"<p>8 tac-<br/>tige</p>",ulx:212,uly:704,lrx:744,lry:1416},{id:"k028-annot-idm406",ann:"<p>NB</p>",ulx:5152,uly:2140,lrx:5568,lry:2444},{id:"k028-annot-idm409",ann:'<p>zu viel <span class="annot-abbr" data-abbr="Fund" data-expan="Fundament">Fund</span> </p>',ulx:5748,uly:2132,lrx:6896,lry:2444},{id:"k028-annot-idm298",ann:'<p>16 <span class="annot-abbr" data-abbr="tact." data-expan="tactige">tact.</span> </p>',ulx:236,uly:2316,lrx:1012,lry:2856}],"A-WnMus.Hs.44706-028":[{id:"k028-annot-idm1368",ann:"<p>Polca</p>",ulx:480,uly:3052,lrx:1200,lry:3440},{id:"k028-annot-idm1370",ann:"<p>3 theilige<br/>Liedform</p>",ulx:212,uly:3312,lrx:1068,lry:3932},{id:"k028-annot-idm1498",ann:"<p>Abwechs-<br/>lung im<br/>Rhythmus</p>",ulx:172,uly:3964,lrx:984,lry:4920},{id:"k028-cpMark-idm1615",ann:"<p>3.<sup> te</sup>wie die 1<sup>te</sup>Periode</p>",ulx:848,uly:4832,lrx:3328,lry:5256},{id:"k028-annot-idm1618",ann:"<p>Galopp 16 Tackt 2 theilig</p>",ulx:300,uly:5396,lrx:2116,lry:5752},{id:"k028-annot-idm1620",ann:"<p>Menuette 8 Tact 2 theilige</p>",ulx:300,uly:5712,lrx:2116,lry:5980},{id:"k028-annot-idm1622",ann:'<p>Mazurca 8 tact 3 <span class="annot-abbr" data-abbr="theilg" data-expan="theilig">theilg</span> </p>',ulx:300,uly:5940,lrx:2116,lry:6240},{id:"k028-annot-idm1627",ann:"<p>| 8-6-8 | 6-4-6 | 8-4-8 | 4-3-4 |</p>",ulx:2020,uly:5544,lrx:4900,lry:6100}],"A-WnMus.Hs.44706-029":[{id:"k029-annot-idm70",ann:"<p>Galopp</p>",ulx:400,uly:300,lrx:1332,lry:876},{id:"x15bf39d3-1d72-4149-aeea-4d67b0ec8977",ann:"<p>16 tactige Periode 2 theilige Liedform</p>",ulx:1416,uly:232,lrx:4604,lry:752},{id:"k030-annot-idm66",ann:"<p>3 theilig</p>",ulx:184,uly:4056,lrx:824,lry:4448},{id:"k030-annot-idm64",ann:"<p>Mazurca</p>",ulx:180,uly:4324,lrx:920,lry:4756},{id:"k030-annot-idm68",ann:"<p>8 tactige Perioden</p>",ulx:228,uly:4644,lrx:928,lry:5068},{id:"k030-annot-idm304",ann:'<p>NB auch steigern<br/> <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> den 2<sup>ten</sup> Tact<br/> imitiren</p>',ulx:3092,uly:5708,lrx:4276,lry:6352},{id:"k030-annot-idm359",ann:"<p>NB</p>",ulx:4456,uly:5656,lrx:4908,lry:5992},{id:"k030-annot-idm382",ann:"<p>NB</p>",ulx:5128,uly:5648,lrx:5584,lry:5952},{id:"k030-annot-idm451",ann:"<p>3.<sup>te</sup> Periode<br/>wie die<br/> 1.<sup>te</sup> </p>",ulx:7076,uly:4820,lrx:7948,lry:5728}],"A-WnMus.Hs.44706-030":[{id:"k031-annot-idm85",ann:"<p>8 tactig 2 theilig</p>",ulx:428,uly:560,lrx:1704,lry:960},{id:"k031-annot-idm83",ann:"<p>Menuete</p>",ulx:216,uly:884,lrx:984,lry:1280},{id:"k031-annot-idm203",ann:"<p>NB</p>",ulx:5048,uly:1412,lrx:5384,lry:1712},{id:"k031-annot-idm646",ann:"<p>3 theilig<br/>8-6-8</p>",ulx:232,uly:3052,lrx:1080,lry:3708},{id:"k031-annot-idm649",ann:'<p>1. <span class="annot-abbr" data-abbr="P." data-expan="Periode">P.</span> </p>',ulx:540,uly:3648,lrx:1104,lry:4124},{id:"k031-annot-idm654",ann:"<p>scheinbar</p>",ulx:1728,uly:3024,lrx:2332,lry:3340},{id:"k031-annot-idm865",ann:'<p>2. <span class="annot-abbr" data-abbr="P." data-expan="Periode">P.</span> </p>',ulx:276,uly:4172,lrx:912,lry:4796},{id:"k031-cpMark-idm1008",ann:"<p>3. Periode wie oben bis<br/>Fine</p>",ulx:5584,uly:3984,lrx:7780,lry:4664},{id:"k031-annot-idm1010",ann:'<p>In solchen Fällen entstehen <span class="annot-abbr" data-abbr="unrglm" data-expan="unregelmäßige">unrglm</span> Perioden auch oft durch Wieder-<br/>holungen kurzer 1 <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> 2 tactigen Ideen.</p>',ulx:1504,uly:4808,lrx:7644,lry:5712}],"A-WnMus.Hs.44706-031":[{id:"k032-annot-idm93",ann:"<p>Unregelmäßige Perioden.</p>",ulx:1752,uly:156,lrx:4756,lry:688},{id:"k032-annot-idm95",ann:"<p>6. Jänner 862</p>",ulx:5856,uly:136,lrx:7032,lry:552},{id:"k032-annot-idm255",ann:"<p>Halbschluß</p>",ulx:1824,uly:1788,lrx:2396,lry:2168},{id:"xf973feb1-7a6e-4f63-8d66-a2214215eb2c",ann:"<p>2. Periode 4 Tacte</p>",ulx:4272,uly:3868,lrx:5536,lry:4176},{id:"k032-annot-idm877",ann:'<p>NB gegen die andern Tacte zu viel <span class="annot-abbr" data-abbr="Fund" data-expan="Fundament">Fund</span>.</p>',ulx:1800,uly:4732,lrx:3764,lry:4984},{id:"k032-annot-idm917",ann:"<p>? Wie wenn auf 1. Tacttheil nicht die Schlußharmonie stattfindet ?</p>",ulx:220,uly:5708,lrx:4584,lry:6168},{id:"k032-annot-idm919",ann:'<p>Wenigstens <span class="annot-abbr" data-abbr="Dom." data-expan="Dominante">Dom.</span> Accord</p>',ulx:4592,uly:5700,lrx:7296,lry:6152}],"A-WnMus.Hs.44706-032":[{id:"k032-annot-idm928",ann:"<p>NB</p>",ulx:1496,uly:648,lrx:1792,lry:880},{id:"k032-dir-idm954",ann:"<p>hinkend</p>",ulx:1736,uly:476,lrx:2496,lry:796},{id:"k032-annot-idm956",ann:"<p>NB</p>",ulx:2316,uly:644,lrx:2604,lry:856},{id:"k032-annot-idm977",ann:"<p>d<sup>o</sup> </p>",ulx:3104,uly:492,lrx:3616,lry:816},{id:"k032-annot-idm1077",ann:"<p>1.<sup>te</sup> <br/>Periode</p>",ulx:7040,uly:672,lrx:7848,lry:1464},{id:"k032-annot-idm1100",ann:'<p>Marschform ist gleich der 2 oder 3theiligen Liedform je nach Idee des Componisten.<br/>An die beiden Theile kann sich unter den Namen Trio noch ein 3. <span class="annot-abbr" data-abbr="od" data-expan="oder">od</span> 4. Theil<br/>anschließen welche aber dann gewöhnlich in einer anderen verwandten<br/>Tonarten erscheinen, auftreten. (als. z.B. die Tonart der Dominante <span class="annot-abbr" data-abbr="Unterdom" data-expan="Unterdominante">Unterdom</span>.<br/>Paralelltonart Dur oder Molltonart des Grundtones) Das Trio hat gewöhnlich<br/>einen sanfteren, gesangartigen Charackter. Die <del>Länge</del> <ins>Anzahl</ins> der Perioden ist<br/>ebenfalls der Willkühr des Componisten überlassen. Dergleichen Trio<br/>schließen sich auch an den Hauptsatz fast allen Tanzformen an, als : bei der<br/>Polka, dem Galopp, Mazurka, Polonaise, Menuett.</p>',ulx:480,uly:1448,lrx:7932,lry:3704},{id:"k032-annot-idm1121",ann:"<p>6-8-6<br/>4-6-4<br/>3-2-3<br/>Marsch in Dur<br/>mit Trio<br/>2 theilig<br/>Menuet<br/>mit Trio<br/>aber nur<br/>1 Theil<br/>Marsch<br/>in Moll<br/>mit<br/>Trio</p>",ulx:112,uly:3664,lrx:1092,lry:6216},{id:"k032-annot-idm1343",ann:"<p>1.<sup>te</sup> <br/>Periode</p>",ulx:7224,uly:4660,lrx:7988,lry:5388}],"A-WnMus.Hs.44706-033":[{id:"k032-annot-idm1397",ann:"<p>NB</p>",ulx:1388,uly:720,lrx:1628,lry:992},{id:"k032-annot-idm1407",ann:"<p>NB</p>",ulx:2068,uly:740,lrx:2336,lry:1024},{id:"k032-annot-idm1409",ann:"<p>NB</p>",ulx:2384,uly:676,lrx:2704,lry:952},{id:"k032-annot-idm1473",ann:"<p>ist eigentlich 6/8 Tact.</p>",ulx:4644,uly:912,lrx:6504,lry:1328},{id:"k032-annot-idm1672",ann:'<p>1. <span class="annot-abbr" data-abbr="Per." data-expan="Periode">Per.</span> </p>',ulx:7576,uly:1764,lrx:7964,lry:2212},{id:"k032-annot-idm1722",ann:'<p><span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span><br/>6/8</p>',ulx:120,uly:2976,lrx:684,lry:3368},{id:"k032-annot-idm2118",ann:'<p>Wiederholung einer 2-<span class="annot-abbr" data-abbr="tact." data-expan="tactigen">tact.</span> Idee</p>',ulx:2944,uly:5692,lrx:5504,lry:6288},{id:"k032-annot-idm2200",ann:'<p>1. <span class="annot-abbr" data-abbr="P." data-expan="Periode">P.</span> </p>',ulx:7488,uly:5692,lrx:8064,lry:6172}],"A-WnMus.Hs.44706-034":[{id:"k032-annot-idm2519",ann:"<p>1. Periode bis Fine</p>",ulx:4112,uly:2272,lrx:6160,lry:2800},{id:"k033-annot-idm76",ann:'<p>Thema <span class="annot-abbr" data-abbr="Jos." data-expan="Joseph">Jos.</span> Haydn</p>',ulx:1348,uly:3088,lrx:2464,lry:3416}],"A-WnMus.Hs.44706-035":[{id:"k034-annot-idm83",ann:"<p>Menuet mit Trio (1 Theil)</p>",ulx:244,uly:484,lrx:2368,lry:892},{id:"k034-annot-idm574",ann:"<p>Trio mit 1 Theil</p>",ulx:4940,uly:2244,lrx:6196,lry:2576}],"A-WnMus.Hs.44706-036":[{id:"k035-annot-idm83",ann:"<p>Marsch<br/>Cdur</p>",ulx:220,uly:664,lrx:992,lry:1260},{id:"k035-annot-idm183",ann:"<p>oder fis</p>",ulx:5804,uly:580,lrx:6500,lry:852}],"A-WnMus.Hs.44706-037":[{id:"k036-annot-idm77",ann:"<p>Marsch</p>",ulx:92,uly:500,lrx:844,lry:1168},{id:"k036-annot-idm741",ann:"<p>NB</p>",ulx:2556,uly:3096,lrx:2904,lry:3408},{id:"k036-annot-idm743",ann:"<p>? Oktaven</p>",ulx:2376,uly:3884,lrx:3128,lry:4176},{id:"k036-annot-idm1196",ann:"<p>12-10-12 3/8</p>",ulx:5632,uly:4792,lrx:7184,lry:5188},{id:"k036-annot-idm1198",ann:"<p>16-14-16 2/4</p>",ulx:5588,uly:5068,lrx:7084,lry:5400},{id:"k036-annot-idm1200",ann:"<p>8-12-8<br/>3/4</p>",ulx:5432,uly:5296,lrx:6360,lry:5832},{id:"k036-annot-idm1203",ann:"<p>8-10-8<br/>6/8</p>",ulx:6472,uly:5364,lrx:7400,lry:5916},{id:"k036-annot-idm1206",ann:"<p>4/4 Marsch.</p>",ulx:4708,uly:5524,lrx:5832,lry:6116}],"A-WnMus.Hs.44706-038":[{id:"k037-annot-idm70",ann:'<p>Jedes <span class="annot-abbr" data-abbr="Per" data-expan="Periode">Per</span>Glied 6 Tacte</p>',ulx:1676,uly:160,lrx:4204,lry:708},{id:"k037-annot-idm142",ann:"<p>? Dürfte auch das 1.<sup>te</sup> Glied 8, das 2.<sup>te</sup> 4<br/>Tacte haben?</p>",ulx:4468,uly:148,lrx:7900,lry:640},{id:"k037-annot-idm517",ann:"<p>Oder<br/>hier das 1.<sup>te</sup> Glied 4 Tacte, das zweite 8.</p>",ulx:3196,uly:2576,lrx:7100,lry:3172}],"A-WnMus.Hs.44706-039":[{id:"k038-annot-idm71",ann:"<p>Duo</p>",ulx:72,uly:620,lrx:664,lry:1204},{id:"k038-annot-idm177",ann:'<p>NB mehr <span class="annot-abbr" data-abbr="Fund." data-expan="Fundament">Fund.</span> </p>',ulx:4792,uly:536,lrx:5572,lry:812},{id:"k038-annot-idm488",ann:"<p>Inversio</p>",ulx:1988,uly:2216,lrx:2648,lry:2584},{id:"k038-annot-idm531",ann:'<p><unclear><span class="annot-abbr" data-abbr="rep." data-expan="repetition">rep.</span></unclear></p>',ulx:3140,uly:2212,lrx:3480,lry:2484}],"A-WnMus.Hs.44706-040":[],"A-WnMus.Hs.44706-041":[{id:"k040-annot-idm83",ann:"<p>Marsch (3 theilig 1.<sup>ter</sup> Satz.)</p>",ulx:656,uly:320,lrx:3348,lry:868},{id:"k040-annot-idm317",ann:"<p>frei in verwandte Molltonart</p>",ulx:1872,uly:1368,lrx:4184,lry:1828}],"A-WnMus.Hs.44706-042":[{id:"k041-annot-idm75",ann:"<p>Lied mit Trioform</p>",ulx:1320,uly:212,lrx:3564,lry:632},{id:"k041-annot-idm105",ann:'<p>NB <span class="annot-abbr" data-abbr="" data-expan=""/> </p>',ulx:1824,uly:1356,lrx:2592,lry:1664}],"A-WnMus.Hs.44706-043":[{id:"k042-annot-idm81",ann:"<p>Last des Herzens (Seite 75.) 2 theil'ge Liedform in erweiterten Perioden.</p>",ulx:716,uly:268,lrx:7332,lry:744},{id:"k042-annot-idm85",ann:"<p>(2. Vorschlag)</p>",ulx:1196,uly:660,lrx:1996,lry:976},{id:"xc4effc09-2108-4548-8919-d69445674738",ann:'<p>?,<br/>+ auch <br/> <rend rend="underline">das ganze </rend> <br/> Glied <br/> hätte wie- <br/> derholt <br/> werden können.</p>',ulx:7268,uly:2852,lrx:8104,lry:4276}],"A-WnMus.Hs.44706-044":[{id:"k043-annot-idm340",ann:"<p>NB verwandte Tonart</p>",ulx:5684,uly:1396,lrx:7916,lry:1812},{id:"k043-annot-idm635",ann:"<p>NB</p>",ulx:6116,uly:3312,lrx:6580,lry:3684},{id:"k043-annot-idm834",ann:"<p>NB</p>",ulx:6912,uly:3868,lrx:7368,lry:4232},{id:"k043-annot-idm864",ann:"<p>NB</p>",ulx:732,uly:4676,lrx:1100,lry:4980},{id:"k043-annot-idm974",ann:"<p>NB ?</p>",ulx:6336,uly:5484,lrx:7144,lry:5980},{id:"k043-annot-idm992",ann:"<p>Halbcadenz</p>",ulx:7152,uly:5404,lrx:8092,lry:6020}],"A-WnMus.Hs.44706-045":[{id:"k043-annot-idm1031",ann:"<p>LaßNB. Muß die Erweiterung durch Wiederholung ausge-<br/>lassen werden können ? (Es erscheint sonst als neue Periode durch andere Modulationen) </p>",ulx:1272,uly:92,lrx:7128,lry:928},{id:"k043-annot-idm1744",ann:"<p>oder</p>",ulx:5980,uly:4284,lrx:6388,lry:4644}],"A-WnMus.Hs.44706-046":[{id:"k044-annot-idm88",ann:"<p>Seite 112.</p>",ulx:416,uly:216,lrx:1524,lry:668}],"A-WnMus.Hs.44706-047":[{id:"k044-annot-idm712",ann:"<p>99(Seite<br/>100.)</p>",ulx:6216,uly:136,lrx:7296,lry:760},{id:"k045-annot-idm81",ann:"<p>Wunsch</p>",ulx:204,uly:1796,lrx:1232,lry:2304}],"A-WnMus.Hs.44706-048":[{id:"k045-annot-idm712",ann:'<p>oder<br/> <span class="annot-abbr" data-abbr="unrglm" data-expan="unregelmäßige">unrglm</span> <br/>Periode</p>',ulx:1708,uly:2312,lrx:2456,lry:2984}],"A-WnMus.Hs.44706-049":[],"A-WnMus.Hs.44706-050":[],"A-WnMus.Hs.44706-051":[{id:"k047-annot-idm1757",ann:'<p><span class="annot-abbr" data-abbr="o unrglm" data-expan="oder unregelmäßige">o unrglm</span> Periode mit 3 Takten</p>',ulx:3232,uly:2780,lrx:6376,lry:3244},{id:"k047-annot-idm1773",ann:"<p>3 theilige Liedform<br/>mit durch<br/>Wiederhol<br/>ung<br/>erweiterten<br/>Perioden.</p>",ulx:104,uly:3096,lrx:856,lry:4440},{id:"k047-annot-idm1945",ann:"<p>nur Cadenz</p>",ulx:3704,uly:3868,lrx:4620,lry:4152},{id:"k047-annot-idm1947",ann:"<p>(sonst gis a</p>",ulx:3412,uly:4624,lrx:4148,lry:4924},{id:"k047-annot-idm1990",ann:"<p>f e</p>",ulx:5144,uly:4644,lrx:5748,lry:4912}],"A-WnMus.Hs.44706-052":[{id:"k047-annot-idm2182",ann:"<p>NB. Wiederholt kann : a eine ganze Periode durch einf. Rep<br/>oder gesteigert oder tiefer verschied<br/>in Harmoniesirung u Modulationen<br/>b. ein ganzes Glied. c. ein Theil eines Gliedes</p>",ulx:2152,uly:136,lrx:7980,lry:864}],"A-WnMus.Hs.44706-053":[{id:"k047-annot-idm3077",ann:"<p>3 theilige Liedform mit erweiterten Perioden in 2 Theilen; jedoch<br/> die Erweiterung im 2. Theile und durch Wiederholung entstanden.</p>",ulx:1032,uly:316,lrx:7544,lry:928},{id:"k047-annot-idm3149",ann:"<p>§ nach unvollk. Schluß. 1. Glied rep.</p>",ulx:4436,uly:1496,lrx:7072,lry:1864},{id:"k047-annot-idm3333",ann:"<p>(NB erscheint aber gleichsam als neues Glied)</p>",ulx:4328,uly:1868,lrx:7508,lry:2220},{id:"k047-annot-idm3521",ann:"<p>oder F</p>",ulx:5572,uly:3024,lrx:6256,lry:3444},{id:"k047-annot-idm3552",ann:"<p>F E</p>",ulx:6292,uly:3020,lrx:6992,lry:3432}],"A-WnMus.Hs.44706-054":[],"A-WnMus.Hs.44706-055":[{id:"k047-annot-idm4582",ann:"<p>Erweiterung des 1ten Theiles durch Wiederholung der 1ten Periode,<br/>die sich nur durch Cadenzen, Harmonisirung u Modulation unterscheiden.<br/>NB Auch kann, jedoch selten, das letzte Glied der 2. Periode noch wiederholt werden.</p>",ulx:1076,uly:176,lrx:7744,lry:976}],"A-WnMus.Hs.44706-056":[{id:"k047-annot-idm5967",ann:"<p>oder:<br/>zum 2ten<br/>Mahle</p>",ulx:228,uly:4744,lrx:924,lry:5716}],"A-WnMus.Hs.44706-057":[{id:"k047-annot-idm6083",ann:"<p>Marzurca artig.</p>",ulx:5516,uly:616,lrx:7260,lry:1120},{id:"k047-annot-idm6522",ann:"<p>oder bei Wiederholung</p>",ulx:2972,uly:3756,lrx:4608,lry:4072}],"A-WnMus.Hs.44706-058":[],"A-WnMus.Hs.44706-059":[],"A-WnMus.Hs.44706-060":[{id:"k048-annot-idm1642",ann:"<p>NB</p>",ulx:3992,uly:2204,lrx:4404,lry:2584}],"A-WnMus.Hs.44706-061":[],"A-WnMus.Hs.44706-062":[],"A-WnMus.Hs.44706-063":[{id:"k048-annot-idm3280",ann:"<p>2<sup>ter</sup> Theil und zugleich durch eine ganze Periode erweitert.<br/> (zu Seite 60.) </p>",ulx:276,uly:224,lrx:6288,lry:848}],"A-WnMus.Hs.44706-064":[],"A-WnMus.Hs.44706-065":[{id:"k048-annot-idm4749",ann:"<p>2. Theil Zu Seite 61. in Amoll (1. Theil schließt Seite 62.)</p>",ulx:248,uly:172,lrx:5336,lry:912},{id:"k048-annot-idm5044",ann:"<p>NB</p>",ulx:1912,uly:2124,lrx:2356,lry:2512},{id:"k048-annot-idm5314",ann:"<p>dann:</p>",ulx:4132,uly:3804,lrx:4772,lry:4152}],"A-WnMus.Hs.44706-066":[{id:"k048-annot-idm5524",ann:"<p>oder den Orglpunct in Amoll<br/>wie er beim 1. Theil in<br/>Cdur steht.</p>",ulx:4632,uly:528,lrx:7344,lry:1660}],"A-WnMus.Hs.44706-067":[{id:"k049-annot-idm1024",ann:"<p>6/4 freier Satz</p>",ulx:4340,uly:3820,lrx:5196,lry:4256}],"A-WnMus.Hs.44706-068":[{id:"k049-annot-idm1888",ann:"<p>oder<br/>noch 1<sup>te</sup> <br/>anhängen</p>",ulx:7280,uly:5660,lrx:8108,lry:6296}],"A-WnMus.Hs.44706-069":[],"A-WnMus.Hs.44706-070":[{id:"k049-annot-idm2909",ann:"<p>1<sup>ter</sup> Theil aber<br/>verändert.</p>",ulx:6292,uly:320,lrx:7716,lry:1028}],"A-WnMus.Hs.44706-071":[{id:"k050-annot-idm1014",ann:"<p>NB</p>",ulx:5332,uly:3856,lrx:5832,lry:4184}],"A-WnMus.Hs.44706-072":[{id:"k050-annot-idm1410",ann:'<p><span class="annot-abbr" data-abbr="unrglm" data-expan="unregelmäßige">unrglm</span> Periode.</p>',ulx:5092,uly:268,lrx:6664,lry:828},{id:"k050-annot-idm1627",ann:"<p>NB</p>",ulx:6276,uly:3060,lrx:6648,lry:3332},{id:"k050-annot-idm1671",ann:"<p>NB</p>",ulx:7084,uly:3916,lrx:7400,lry:4212},{id:"k050-annot-idm1719",ann:"<p>Baßa</p>",ulx:868,uly:4952,lrx:1528,lry:5372},{id:"k050-annot-idm1721",ann:"<p>Baßa</p>",ulx:868,uly:5576,lrx:1552,lry:6032},{id:"k050-annot-idm2044",ann:'<p>Quart<br/> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Secund</p>',ulx:7476,uly:3848,lrx:8108,lry:4372}],"A-WnMus.Hs.44706-073":[{id:"k050-annot-idm2131",ann:'<p><span class="annot-abbr" data-abbr="chrom." data-expan="chromatisch">chrom.</span></p>',ulx:2100,uly:1856,lrx:2684,lry:2228},{id:"k050-annot-idm2455",ann:"<p>NB</p>",ulx:5792,uly:2216,lrx:6124,lry:2588}],"A-WnMus.Hs.44706-074":[],"A-WnMus.Hs.44706-075":[{id:"k052-annot-idm84",ann:"<p>Motive zu Etüden</p>",ulx:516,uly:144,lrx:3100,lry:800},{id:"k052-annot-idm198",ann:"<p>offene Quinten merkte man<br/>nicht<br/>gut.</p>",ulx:6020,uly:528,lrx:7832,lry:1284},{id:"k052-annot-idm336",ann:"<p>NB</p>",ulx:3644,uly:1532,lrx:3932,lry:1820},{id:"k052-annot-idm519",ann:"<p>1. Glied einer 16 tactigen<br/>Periode.</p>",ulx:4204,uly:2396,lrx:7112,lry:3060},{id:"k052-annot-idm831",ann:"<p>ist kein Glied</p>",ulx:6168,uly:4304,lrx:7404,lry:4780}],"A-WnMus.Hs.44706-076":[{id:"k053-annot-idm82",ann:"<p>Fortsetzung des Trio von Seite 73</p>",ulx:804,uly:412,lrx:3772,lry:824}],"A-WnMus.Hs.44706-077":[{id:"k054-annot-idm77",ann:"<p>Etüde</p>",ulx:64,uly:2304,lrx:796,lry:3024},{id:"k054-annot-idm609",ann:"<p>oder C</p>",ulx:4368,uly:3924,lrx:5108,lry:4244},{id:"k054-annot-idm651",ann:"<p>oder</p>",ulx:5652,uly:3924,lrx:6232,lry:4184},{id:"k054-annot-idm695",ann:"<p>oder</p>",ulx:248,uly:4848,lrx:664,lry:5224},{id:"k054-annot-idm743",ann:"<p>NB</p>",ulx:3076,uly:5064,lrx:3380,lry:5368},{id:"k054-annot-idm901",ann:"<p><del>Verlängerung</del><ins>Erweiterung</ins> durch eine ganze Periode</p>",ulx:4524,uly:5588,lrx:7876,lry:6184}],"A-WnMus.Hs.44706-078":[{id:"k054-annot-idm909",ann:"<p>NB</p>",ulx:1268,uly:1152,lrx:1524,lry:1424},{id:"k054-annot-idm1450",ann:"<p>?</p>",ulx:7452,uly:2368,lrx:7704,lry:2584},{id:"k054-annot-idm1452",ann:"<p>geht</p>",ulx:7480,uly:2688,lrx:7872,lry:3e3},{id:"k054-annot-idm1476",ann:"<p>NB</p>",ulx:2180,uly:3536,lrx:2484,lry:3848},{id:"k054-annot-idm1761",ann:"<p>Orglpunct</p>",ulx:5344,uly:3920,lrx:6092,lry:4188}],"A-WnMus.Hs.44706-079":[{id:"k055-annot-idm82",ann:"<p>Chromatische Etüde.</p>",ulx:240,uly:148,lrx:2592,lry:708},{id:"k055-annot-idm216",ann:"<p>(fis NB anstatt ges) consequent<br/>eigtl ges</p>",ulx:5180,uly:296,lrx:7304,lry:772},{id:"k055-annot-idm427",ann:"<p>Cdur</p>",ulx:5308,uly:1836,lrx:5728,lry:2092},{id:"k055-annot-idm559",ann:"<p>Moll NB</p>",ulx:3108,uly:2220,lrx:3736,lry:2504},{id:"k055-annot-idm814",ann:"<p>(NB fis) Dmoll)</p>",ulx:3344,uly:3524,lrx:4124,lry:3812}],"A-WnMus.Hs.44706-080":[{id:"k055-annot-idm1521",ann:"<p>NB</p>",ulx:4160,uly:2256,lrx:4448,lry:2476},{id:"k055-annot-idm1684",ann:"<p>(Orglpunct.)</p>",ulx:6744,uly:3716,lrx:7748,lry:4268}],"A-WnMus.Hs.44706-081":[{id:"k056-annot-idm81",ann:"<p>Variation</p>",ulx:2044,uly:188,lrx:3720,lry:680}],"A-WnMus.Hs.44706-082":[{id:"k057-annot-idm89",ann:"<p>Thüringer: Volkslied</p>",ulx:252,uly:384,lrx:2344,lry:952},{id:"k057-annot-idm1042",ann:'<p>Lobe nennt 2 tactiges Tonbildchen Abschnitt ! Bei uns 4 <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> 8 tactig<br/>4 tactiges einen Satz.</p>',ulx:1036,uly:5400,lrx:8116,lry:6308}],"A-WnMus.Hs.44706-083":[{id:"k057-annot-idm1050",ann:"<p>NB Bei Variationen soll möglichst die Harmonie des Thema<br/> beibehalten werden. (Beethoven hat selbe wohl öfter verändert)</p>",ulx:368,uly:224,lrx:6848,lry:884}],"A-WnMus.Hs.44706-084":[{id:"k058-annot-idm124",ann:"<p>? Moll</p>",ulx:4588,uly:484,lrx:5592,lry:852}],"A-WnMus.Hs.44706-085":[{id:"k059-annot-idm539",ann:"<p>5</p>",ulx:420,uly:1040,lrx:728,lry:1352},{id:"k059-annot-idm976",ann:"<p>4</p>",ulx:340,uly:2832,lrx:624,lry:3144},{id:"k059-annot-idm1109",ann:"<p>2.</p>",ulx:268,uly:3556,lrx:624,lry:3936},{id:"k059-annot-idm1111",ann:"<p>NB</p>",ulx:2e3,uly:3144,lrx:2232,lry:3368}],"A-WnMus.Hs.44706-086":[{id:"k060-annot-idm513",ann:'<p>Adur<br/> <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span>auch Amoll.</p>',ulx:284,uly:2768,lrx:1340,lry:3364},{id:"k060-annot-idm842",ann:"<p>? nicht aber</p>",ulx:5872,uly:3152,lrx:6696,lry:3580},{id:"k060-annot-idm853",ann:'<p>weil nicht <span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span> <br/>im Thema liegt.</p>',ulx:6368,uly:3560,lrx:7664,lry:4140},{id:"k060-annot-idm859",ann:"<p>gut</p>",ulx:7496,uly:3308,lrx:7936,lry:3800}],"A-WnMus.Hs.44706-087":[{id:"k061-annot-idm420",ann:"<p>NB<br/>3 stimmig</p>",ulx:108,uly:2828,lrx:760,lry:3428},{id:"k061-annot-idm589",ann:"<p>NB</p>",ulx:2488,uly:3084,lrx:2844,lry:3388},{id:"k061-annot-idm894",ann:"<p>NB</p>",ulx:4820,uly:3880,lrx:5240,lry:4244}],"A-WnMus.Hs.44706-088":[{id:"k061-annot-idm941",ann:"<p>NB frei</p>",ulx:2376,uly:464,lrx:3016,lry:860},{id:"k061-annot-idm1306",ann:"<p>NB</p>",ulx:1912,uly:2224,lrx:2288,lry:2532},{id:"k061-annot-idm1426",ann:"<p>NB Auch beide Hände<br/>sincopiren</p>",ulx:6312,uly:2452,lrx:7720,lry:3108}],"A-WnMus.Hs.44706-089":[{id:"k061-annot-idm2344",ann:"<p>NB</p>",ulx:5768,uly:1340,lrx:6156,lry:1672}],"A-WnMus.Hs.44706-090":[{id:"k061-annot-idm3389",ann:"<p>Accorde nur</p>",ulx:3836,uly:300,lrx:5292,lry:816}],"A-WnMus.Hs.44706-091":[],"A-WnMus.Hs.44706-092":[{id:"k063-annot-idm152",ann:'<p><span class="annot-abbr" data-abbr="Fund." data-expan="Fundament">Fund.</span> matt</p>',ulx:2784,uly:336,lrx:3816,lry:792},{id:"k063-annot-idm296",ann:"<p>NB gegen den Anfang Quinte</p>",ulx:6356,uly:440,lrx:7936,lry:876},{id:"k063-annot-idm298",ann:"<p>NB</p>",ulx:6728,uly:1392,lrx:7152,lry:1684},{id:"k063-annot-idm642",ann:"<p>2</p>",ulx:184,uly:4420,lrx:568,lry:4812},{id:"k063-annot-idm644",ann:'<p><span class="annot-abbr" data-abbr="pizz" data-expan="pizzicato">pizz</span><br/>weglassen</p>',ulx:1968,uly:5392,lrx:3708,lry:6228},{id:"k063-annot-idm854",ann:"<p>NB<br/> <unclear>B dur</unclear> </p>",ulx:5744,uly:4528,lrx:6580,lry:5032}],"A-WnMus.Hs.44706-093":[{id:"k063-annot-idm952",ann:"<p>4</p>",ulx:212,uly:1324,lrx:692,lry:1932},{id:"k063-annot-idm954",ann:"<p>gebundene Viola</p>",ulx:1472,uly:1784,lrx:2812,lry:2180},{id:"k063-annot-idm1165",ann:"<p>3</p>",ulx:5760,uly:392,lrx:6236,lry:876},{id:"k063-annot-idm1352",ann:"<p>Octav Primo</p>",ulx:2512,uly:3100,lrx:3764,lry:3524},{id:"k063-annot-idm1589",ann:"<p>5</p>",ulx:256,uly:4612,lrx:768,lry:5032}],"A-WnMus.Hs.44706-094":[{id:"k063-annot-idm1951",ann:"<p>schon da gewesen für Viola</p>",ulx:1432,uly:384,lrx:3684,lry:896},{id:"k063-annot-idm2087",ann:"<p><del>II.</del><ins>6.</ins></p>",ulx:4348,uly:224,lrx:4892,lry:928},{id:"k063-annot-idm2108",ann:'<p><span class="annot-abbr" data-abbr="" data-expan=""/></p>',ulx:4820,uly:416,lrx:5988,lry:872}],"A-WnMus.Hs.44706-095":[],"A-WnMus.Hs.44706-096":[],"A-WnMus.Hs.44706-097":[{id:"k063-annot-idm3757",ann:"<p>2. Violin</p>",ulx:652,uly:440,lrx:1792,lry:816},{id:"k063-annot-idm3759",ann:"<p>Unisono</p>",ulx:1272,uly:2092,lrx:1972,lry:2440},{id:"k063-annot-idm4360",ann:"<p>NB Schluß verändert</p>",ulx:5996,uly:5372,lrx:7760,lry:5932}],"A-WnMus.Hs.44706-098":[],"A-WnMus.Hs.44706-099":[{id:"k063-annot-idm5446",ann:"<p>sehr<br/>frei</p>",ulx:108,uly:2808,lrx:928,lry:3440}],"A-WnMus.Hs.44706-100":[],"A-WnMus.Hs.44706-101":[{id:"k063-annot-idm7047",ann:"<p>halbtönig</p>",ulx:148,uly:4368,lrx:780,lry:4808}],"A-WnMus.Hs.44706-102":[{id:"k063-annot-idm7253",ann:"<p>Änderung der II<sup>do</sup> </p>",ulx:204,uly:356,lrx:2028,lry:844}],"A-WnMus.Hs.44706-103":[],"A-WnMus.Hs.44706-104":[{id:"k063-annot-idm8285",ann:"<p>frei</p>",ulx:5104,uly:292,lrx:5920,lry:724},{id:"k063-annot-idm8392",ann:"<p>NB Sept</p>",ulx:236,uly:1096,lrx:820,lry:1576},{id:"k063-annot-idm8625",ann:"<p>NB</p>",ulx:6424,uly:2620,lrx:6800,lry:2928}],"A-WnMus.Hs.44706-105":[{id:"k064-annot-idm70",ann:"<p>Rondo</p>",ulx:548,uly:80,lrx:2460,lry:784}],"A-WnMus.Hs.44706-106":[{id:"k064-annot-idm1494",ann:"<p>(auch Dmoll)</p>",ulx:4944,uly:2160,lrx:5876,lry:2480}],"A-WnMus.Hs.44706-107":[{id:"k064-annot-idm2631",ann:'<p><span class="annot-abbr" data-abbr="var." data-expan="variiert">var.</span></p>',ulx:6188,uly:2096,lrx:6672,lry:2456},{id:"k064-annot-idm3003",ann:"<p>a d c</p>",ulx:6420,uly:3988,lrx:6848,lry:4252},{id:"k064-annot-idm3116",ann:"<p>anders harmonisirt</p>",ulx:2760,uly:5492,lrx:4544,lry:6072}],"A-WnMus.Hs.44706-108":[],"A-WnMus.Hs.44706-109":[{id:"k067-annot-idm76",ann:"<p>Rondoform.</p>",ulx:776,uly:128,lrx:3244,lry:764}],"A-WnMus.Hs.44706-110":[{id:"k067-annot-idm887",ann:"<p>Cmoll</p>",ulx:1940,uly:144,lrx:2824,lry:596},{id:"k067-annot-idm922",ann:"<p>Orglpunct</p>",ulx:196,uly:596,lrx:920,lry:1028}],"A-WnMus.Hs.44706-111":[{id:"k067-annot-idm2996",ann:"<p>NB Nur scizzirt ohne Ausfüllungsnoten.</p>",ulx:368,uly:5692,lrx:5900,lry:6296}],"A-WnMus.Hs.44706-112":[{id:"k068-annot-idm76",ann:"<p>Rondoform als Andante</p>",ulx:492,uly:128,lrx:3716,lry:784},{id:"k068-annot-idm78",ann:'<p>? mit seltenen Ausnamen vielleicht kommt jederzeit<br/>bei der 3theiligen Liedform immer wieder die<br/>1. Periode unverändert <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> verändert<br/>(eine periode fast nie)</p>',ulx:3880,uly:268,lrx:8040,lry:1324},{id:"k068-annot-idm600",ann:'<p><span class="annot-abbr" data-abbr="unrgl" data-expan="unregelmäßig">unrgl</span><br/>12 Tacte</p>',ulx:7288,uly:2600,lrx:7972,lry:3324},{id:"k068-annot-idm616",ann:"<p>NB fortwäh-<br/>rende Achtel-<br/>bewegung<br/>im Baß.</p>",ulx:0,uly:3204,lrx:1084,lry:4540}],"A-WnMus.Hs.44706-113":[{id:"k068-annot-idm1597",ann:"<p>NB</p>",ulx:5088,uly:2440,lrx:5380,lry:2744},{id:"k068-annot-idm1599",ann:"<p>abgeändert Variat.</p>",ulx:5044,uly:2852,lrx:6368,lry:3140},{id:"k068-annot-idm2038",ann:"<p>dann: vert.</p>",ulx:6508,uly:5280,lrx:8160,lry:5952}],"A-WnMus.Hs.44706-114":[],"A-WnMus.Hs.44706-115":[],"A-WnMus.Hs.44706-116":[],"A-WnMus.Hs.44706-117":[],"A-WnMus.Hs.44706-118":[],"A-WnMus.Hs.44706-119":[{id:"k069-annot-idm4159",ann:"<p>NB</p>",ulx:2744,uly:4856,lrx:3144,lry:5156},{id:"k069-annot-idm4161",ann:"<p>Oktaven</p>",ulx:2744,uly:5852,lrx:3536,lry:6280}],"A-WnMus.Hs.44706-120":[{id:"k069-annot-idm4422",ann:"<p>D 3 achtl<br/>NB verändert</p>",ulx:828,uly:108,lrx:1856,lry:680}],"A-WnMus.Hs.44706-121":[{id:"k069-annot-idm5298",ann:"<p>2<sup>tes</sup> Trio.</p>",ulx:300,uly:220,lrx:1460,lry:660},{id:"k069-annot-idm6097",ann:"<p>Bisher hatte die Rondoform nur die Thema-Gruppe, gewöhnlich aus<br/>3 theiliger Liedform bestehend; dann eine 2te Trio genannt – meistens 2 theilge Liedform<br/>dann Wiederhollung der Themagruppe durch Variando – zuletzt Anhang.</p>",ulx:372,uly:5668,lrx:8120,lry:6468}],"A-WnMus.Hs.44706-122":[{id:"k070-annot-idm88",ann:"<p>Rondoform erweitert</p>",ulx:900,uly:172,lrx:3572,lry:660},{id:"k070-annot-idm90",ann:"<p>a Thema gruppe – 2 o 3 theil’ge Liedform<br/>b Übergangsgruppe<br/> c Gesangsgruppe in Dom.<br/>d Übergangsgruppe</p><p>e Wiederholung der Thema gruppe.<br/>f -- Gesangsgruppe in Tonica</p>",ulx:3488,uly:152,lrx:8108,lry:852},{id:"k070-annot-idm764",ann:"<p>Auch könnten Repart. sein, beim 1. u[nd] 2. Theil der Themagruppe</p>",ulx:3456,uly:5720,lrx:7996,lry:6344}],"A-WnMus.Hs.44706-123":[{id:"k070-annot-idm1405",ann:"<p>NB Sept</p>",ulx:3564,uly:3868,lrx:4144,lry:4164},{id:"k070-annot-idm1406",ann:"<p>NB Oktav</p>",ulx:3604,uly:4232,lrx:4184,lry:4628},{id:"k070-annot-idm1441",ann:"<p>NB</p>",ulx:4248,uly:4324,lrx:4576,lry:4592},{id:"k070-annot-idm1653",ann:"<p>NB Darf nach der Gesangsgruppe nicht auch die Thema-<br/>gruppe in der Dom gehalten werden?</p>",ulx:3192,uly:5704,lrx:8044,lry:6364},{id:"k070-annot-idm1656",ann:"<p>nie</p>",ulx:5072,uly:6100,lrx:5648,lry:6456}],"A-WnMus.Hs.44706-124":[{id:"k070-annot-idm1661",ann:"<p>NB Kann hier im 2. Glied der 1. Periode in der Themagruppe auch schon wieder Variande statt finden, oder ists so besser ?<br/>dem<br/>1. Gliede<br/>gleich ?<br/>ad libitum</p>",ulx:676,uly:204,lrx:8140,lry:1680},{id:"k070-annot-idm2137",ann:"<p>NB frei</p>",ulx:1908,uly:2136,lrx:2640,lry:2548},{id:"k070-annot-idm2352",ann:"<p>bleibt die<br/>Gesangsgruppe<br/>in der Ton<br/>art der To-<br/>nica ohne<br/>Variande?</p>",ulx:6936,uly:2656,lrx:8084,lry:3980},{id:"k070-annot-idm2359",ann:"<p>ja.</p>",ulx:7160,uly:3648,lrx:7848,lry:4196},{id:"k070-annot-idm2361",ann:"<p>oder 8</p>",ulx:6196,uly:2956,lrx:6812,lry:3356},{id:"k070-annot-idm2694",ann:"<p>NB</p>",ulx:6816,uly:4888,lrx:7152,lry:5208}],"A-WnMus.Hs.44706-125":[{id:"xeb7a3158-8fad-44d1-bfd9-1019dc91c41c",ann:"<p>NB hier besser mehrere Modulationen (Cdur Ddur.)</p>",ulx:1144,uly:552,lrx:5312,lry:960},{id:"k070-annot-idm3531",ann:"<p>Die letzte Themagruppe ist eigtl Variation; hier Anhang<br/>im Rondo zu viel varirt.</p>",ulx:820,uly:5484,lrx:8048,lry:6328}],"A-WnMus.Hs.44706-126":[{id:"k071-annot-idm198",ann:"<p>Sept</p>",ulx:5532,uly:2080,lrx:6028,lry:2428},{id:"k071-annot-idm200",ann:"<p>NB</p>",ulx:5536,uly:2376,lrx:5820,lry:2632},{id:"k071-annot-idm202",ann:"<p>halbe Vorbereitung frei</p>",ulx:5516,uly:2604,lrx:7064,lry:2892},{id:"k071-annot-idm315",ann:"<p>frei</p>",ulx:3544,uly:3044,lrx:4008,lry:3468},{id:"k071-annot-idm384",ann:"<p>Sind 2 Periode<br/>zu rechnen<br/>bis hieher<br/>o 1 Periode<br/>zu 16 Tacten<br/>?</p>",ulx:7052,uly:3112,lrx:7948,lry:4164},{id:"k071-annot-idm687",ann:"<p>NB frei</p>",ulx:5376,uly:4704,lrx:6052,lry:5140},{id:"k071-annot-idm742",ann:"<p>? Ist eigtl 2 theilge Liedform; mithin 2 Perioden zu<br/> je zu 16 Tacten</p>",ulx:1820,uly:5676,lrx:7880,lry:6356}],"A-WnMus.Hs.44706-127":[{id:"k071-annot-idm749",ann:"<p>2. Dürfte hier im Moll auch die Gesangsgruppe in Ddur o Hmoll kommen, und dann in Gdur vielleicht ?</p>",ulx:292,uly:164,lrx:7152,lry:652},{id:"k071-annot-idm754",ann:"<p>Ja</p>",ulx:4416,uly:336,lrx:4896,lry:672},{id:"k071-annot-idm910",ann:"<p>NB</p>",ulx:7124,uly:544,lrx:7812,lry:1164},{id:"k071-annot-idm938",ann:"<p>ist eigtl mehr Durchführung</p>",ulx:676,uly:1072,lrx:2752,lry:1484},{id:"k071-annot-idm1493",ann:"<p>(geht ein)</p>",ulx:2200,uly:4636,lrx:3012,lry:5108},{id:"k071-annot-idm1516",ann:"<p>NB eigtl mehr anfangs Durchführungsgruppe als Anhang</p>",ulx:2756,uly:3736,lrx:6160,lry:4228},{id:"k071-annot-idm1761",ann:'<p>NB. Gesangsgruppe 3 <span class="annot-abbr" data-abbr="theilge" data-expan="theilige">theilge</span> Liedform.</p>',ulx:328,uly:5632,lrx:3880,lry:6228},{id:"k071-annot-idm1766",ann:"<p>Sollen bei der Übergangsgruppe mehrere<br/>Perioden z.B. 1. u 2. Theil besser sein<br/>wie bei Themagruppe ? (ich meine ad libitum)</p>",ulx:4068,uly:5580,lrx:8080,lry:6492}],"A-WnMus.Hs.44706-128":[{id:"k071-annot-idm2573",ann:"<p>frei<br/>neu</p>",ulx:208,uly:4868,lrx:1056,lry:5576},{id:"k071-annot-idm2745",ann:"<p>2 Motive aus der Themagruppe verbunden ; mehr Durchführungsgruppe ähnlich<br/>jedoch soll einer auch hier Verbindung od<br/>Anknüpfung sein.</p>",ulx:848,uly:5472,lrx:8144,lry:6520}],"A-WnMus.Hs.44706-129":[{id:"k071-annot-idm2904",ann:"<p>Gesangsgruppe E <del>moll</del> <ins>dur</ins> </p>",ulx:48,uly:1140,lrx:1928,lry:1696},{id:"k071-annot-idm2925",ann:"<p>muß das sein?</p>",ulx:1824,uly:1116,lrx:3140,lry:1576},{id:"k071-annot-idm2970",ann:"<p>NB Abänderung in Moll</p>",ulx:4252,uly:1104,lrx:5896,lry:1524},{id:"k071-annot-idm3061",ann:"<p>NB</p>",ulx:1168,uly:2024,lrx:1604,lry:2376},{id:"k071-annot-idm3303",ann:"<p>NB Abänderung</p>",ulx:4240,uly:2916,lrx:5336,lry:3324}],"A-WnMus.Hs.44706-130":[{id:"k071-annot-idm4354",ann:"<p>Rondoform im Adagio mit<br/> 1 theilger Liedform in der Themagruppe<br/> samt Anhang = Übergangsgruppe Gesangsphrase<br/> (anstatt Gesangsgruppe) mit Anhang)<br/> dann Wiederholung derselbe Gruppe</p>",ulx:4640,uly:2340,lrx:8088,lry:4144},{id:"k072-annot-idm831",ann:"<p>(geht ein)</p>",ulx:6332,uly:4680,lrx:7216,lry:5248}],"A-WnMus.Hs.44706-131":[{id:"k072-annot-idm1042",ann:"<p>oder</p>",ulx:5740,uly:152,lrx:6224,lry:504},{id:"k072-annot-idm1258",ann:"<p>Gesangsphrase</p>",ulx:2464,uly:1104,lrx:3700,lry:1632}],"A-WnMus.Hs.44706-132":[{id:"k072-annot-idm3482",ann:'<span class="annot-abbr" data-abbr="u" data-expan="und">u</span> den Anhang zur Gesangsgruppe<br/> beim 2ten Auftreten derselben beibehalten? Beethofen hats <br/>beibehalten aber keine<br/> Themagruppe zum 3ten Mal',ulx:504,uly:5632,lrx:8128,lry:6356},{id:"k072-annot-idm3489",ann:"<p>nicht nöthig</p>",ulx:4440,uly:6068,lrx:5628,lry:6476}],"A-WnMus.Hs.44706-133":[{id:"k072-annot-idm3492",ann:"<p>Die Durchführungsgruppe kann auf der Dominant oder in einer verwandten Molltonart beginnen.</p>",ulx:424,uly:132,lrx:7284,lry:760},{id:"k072-annot-idm4430",ann:"<p>(Octaven)</p>",ulx:1548,uly:5344,lrx:2296,lry:5700},{id:"k072-annot-idm4639",ann:"<p>Die Durchführungsgruppe komt des Hauptthema kommt d vor dem 2ten Erscheinen<br/> der Themagruppe ; hier also nach der Gesangsphrase und ihrem kleinen Anhang</p>",ulx:300,uly:5696,lrx:8032,lry:6400}],"A-WnMus.Hs.44706-134":[],"A-WnMus.Hs.44706-135":[{id:"k074-annot-idm71",ann:"<p>Durchführungsgruppe des Hauptthema zu dem Rondo Seite 126<br/>in Emoll</p>",ulx:100,uly:124,lrx:4320,lry:720},{id:"k074-annot-idm497",ann:"<p>NB</p>",ulx:6292,uly:2700,lrx:6632,lry:2980},{id:"k074-annot-idm528",ann:"<p>NB</p>",ulx:800,uly:3632,lrx:1164,lry:3952},{id:"k074-annot-idm1035",ann:"<p>Thema.</p>",ulx:7364,uly:5168,lrx:7952,lry:5848}],"A-WnMus.Hs.44706-136":[{id:"k075-annot-idm71",ann:"<p>Durchführungsgruppe v. Haupthema zum Rondo Seite 122. in Gdur.</p>",ulx:192,uly:224,lrx:6324,lry:788}],"A-WnMus.Hs.44706-137":[{id:"k076-annot-idm82",ann:'<p><span class="annot-abbr" data-abbr="Sonatform" data-expan="Sonatenform">Sonatform</span>. I. Satz. Bildung <span class="annot-abbr" data-abbr="v." data-expan="von">v.</span> Themagruppen:</p>',ulx:160,uly:108,lrx:5124,lry:636},{id:"k076-annot-idm91",ann:"<p>mehr<br/>Streich-<br/>quartett</p>",ulx:0,uly:676,lrx:984,lry:1568},{id:"k076-annot-idm158",ann:"<p>oder:</p>",ulx:4224,uly:760,lrx:4676,lry:1056},{id:"k076-annot-idm481",ann:"<p>zu viele Motive</p>",ulx:1444,uly:2280,lrx:3196,lry:2812},{id:"k076-annot-idm1065",ann:"<p>Seite 294<br/>295</p>",ulx:3320,uly:5812,lrx:4588,lry:6412},{id:"k076-annot-idm1068",ann:'<p>? Lobe zählt bei verkürzten <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> <br/>verlängerten Perioden der Tact<br/>der aufgeht, z nur zur folgenden</p>',ulx:4864,uly:5712,lrx:7948,lry:6528}],"A-WnMus.Hs.44706-138":[{id:"k076-annot-idm1254",ann:"<p>6 tactige Periode.</p>",ulx:2828,uly:1216,lrx:4860,lry:1872}],"A-WnMus.Hs.44706-139":[{id:"k076-annot-idm1717",ann:"<p>E</p>",ulx:4776,uly:1300,lrx:5124,lry:1620},{id:"k076-annot-idm1746",ann:"<p>A</p>",ulx:5200,uly:1348,lrx:5548,lry:1612},{id:"k076-annot-idm1749",ann:'<p><span class="annot-abbr" data-abbr="chrom." data-expan="chromatisch">chrom.</span></p>',ulx:5452,uly:1380,lrx:6152,lry:1712},{id:"k076-annot-idm1787",ann:"<p>F</p>",ulx:6084,uly:1360,lrx:6420,lry:1652},{id:"k076-annot-idm1810",ann:"<p>B</p>",ulx:6600,uly:1380,lrx:7052,lry:1732},{id:"k076-annot-idm2393",ann:"<p>NB</p>",ulx:4820,uly:4120,lrx:5064,lry:4368},{id:"k076-annot-idm2582",ann:'<p><date isodate="1862-06-06">6. Juni 862</date><br/>Freitag vor<br/>Pfingsten.</p>',ulx:6696,uly:5776,lrx:8132,lry:6424}],"A-WnMus.Hs.44706-140":[{id:"k077-annot-idm77",ann:"<p>Sonate</p>",ulx:304,uly:436,lrx:1268,lry:924},{id:"k077-annot-idm79",ann:'<p>Thema =<span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Übergangsgruppe</p>',ulx:1456,uly:208,lrx:4852,lry:792},{id:"k077-annot-idm881",ann:'<p>die<br/> <span class="annot-abbr" data-abbr="Gesangsg." data-expan="Gesangsgruppe">Gesangsg.</span> <br/>und<br/>Modulation<br/>nach Es</p>',ulx:196,uly:4248,lrx:1036,lry:5848}],"A-WnMus.Hs.44706-141":[{id:"k078-annot-idm76",ann:'<p>Thema <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Übergangsgruppen <span class="annot-abbr" data-abbr="v." data-expan="von">v.</span> Sonaten</p>',ulx:708,uly:152,lrx:6324,lry:660},{id:"k078-annot-idm277",ann:'<p>Hier ist<br/>schon die 1. <span class="annot-abbr" data-abbr="Per." data-expan="Periode">Per.</span> <br/>oder Themagruppe<br/>ein Übergang</p>',ulx:6848,uly:1696,lrx:7940,lry:2708},{id:"k078-annot-idm791",ann:"<p>Gesangsgruppe.<br/>Gdur.</p>",ulx:6112,uly:4356,lrx:7108,lry:5060},{id:"k078-annot-idm794",ann:"<p>?</p>",ulx:6408,uly:5124,lrx:7004,lry:5692},{id:"k078-annot-idm802",ann:'<p>NB. Könnte dort gleich auch die Gesangsgruppe beginnen ? <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> dieselbe Gruppe es hier ? ja ?</p>',ulx:656,uly:5864,lrx:7584,lry:6340}],"A-WnMus.Hs.44706-142":[{id:"k079-annot-idm76",ann:"<p>Sonate Anfang.</p>",ulx:60,uly:232,lrx:2252,lry:1184},{id:"k079-annot-idm187",ann:"<p>Sonaten Satz nicht sehr ähnlich.</p>",ulx:4812,uly:1636,lrx:7636,lry:2116},{id:"k079-annot-idm799",ann:"<p>Gesangsgruppe</p>",ulx:7144,uly:5364,lrx:8048,lry:5824}],"A-WnMus.Hs.44706-143":[{id:"k080-annot-idm77",ann:"<p>NB</p>",ulx:224,uly:772,lrx:800,lry:1256},{id:"k080-annot-idm385",ann:"<p>NB</p>",ulx:2164,uly:3600,lrx:2636,lry:4048},{id:"k080-annot-idm681",ann:"<p>NB</p>",ulx:6532,uly:5e3,lrx:7580,lry:5600},{id:"k080-annot-idm821",ann:"<p>folgt 148</p>",ulx:104,uly:5528,lrx:528,lry:6040},{id:"k080-annot-idm831",ann:"<p>NB</p>",ulx:5124,uly:5856,lrx:5552,lry:6220}],"A-WnMus.Hs.44706-144":[{id:"k081-annot-idm71",ann:"<p>Sonate.</p>",ulx:288,uly:344,lrx:1324,lry:884},{id:"k081-annot-idm989",ann:"<p>Gesangsgruppe</p>",ulx:5240,uly:5736,lrx:7132,lry:6368}],"A-WnMus.Hs.44706-145":[{id:"k082-annot-idm71",ann:"<p>Gesangsgruppe zu 140. Seite. Sonate in Fmoll.</p>",ulx:140,uly:184,lrx:4192,lry:592},{id:"k082-annot-idm797",ann:"<p>Diese Gesangs-<br/>gruppe ist eigtl nur<br/> eine durch<br/>imitirende<br/>oder sequenz-<br/>artige Stei-<br/>gerung verlängerte<br/>Periode.</p>",ulx:7040,uly:2956,lrx:8060,lry:4876},{id:"k082-annot-idm947",ann:"<p>Diese Verlängerung<br/>gibt ihr ein kleines<br/>Ansehen einer Schluß-<br/>periode, der nur ihr Anhang<br/>zu folgen hatte. (ja)</p>",ulx:4976,uly:3972,lrx:7208,lry:5084},{id:"k082-annot-idm1006",ann:"<p>Anfang</p>",ulx:96,uly:4956,lrx:744,lry:5516},{id:"k082-annot-idm1008",ann:"<p>? Dürfte gleich im 2. Theile auch die Gesangsgruppe durchgeführt werden ?</p>",ulx:652,uly:5688,lrx:7356,lry:6272}],"A-WnMus.Hs.44706-146":[{id:"k083-annot-idm71",ann:"<p>Gesangsperiode zu 141. in C.</p>",ulx:457,uly:333,lrx:4150,lry:829},{id:"k083-annot-idm928",ann:"<p>um 8<sup>te</sup> tiefer</p>",ulx:4391,uly:3725,lrx:5752,lry:4121},{id:"k083-annot-idm1322",ann:"<p>d h</p>",ulx:4539,uly:4870,lrx:5234,lry:5284}],"A-WnMus.Hs.44706-147":[{id:"k084-annot-idm71",ann:"<p>Gesangsgruppe zu Seite 142.</p>",ulx:458,uly:244,lrx:3216,lry:653},{id:"k084-annot-idm73",ann:"<p>Sonate in Cdur.</p>",ulx:949,uly:450,lrx:2446,lry:793},{id:"k084-annot-idm488",ann:'<p>ist<br/> <span class="annot-abbr" data-abbr="eigtl" data-expan="eigentlich">eigtl</span>auch<br/>schon<br/>mehr<br/>Schluß-<br/>gruppe<br/>damit<br/>verbunden.</p>',ulx:7347,uly:2438,lrx:7984,lry:4281}],"A-WnMus.Hs.44706-148":[{id:"k085-annot-idm71",ann:"<p>Gesangsgruppe zu Seite 143. Sonate in F.</p>",ulx:986,uly:139,lrx:4873,lry:686},{id:"k085-annot-idm318",ann:"<p>NB</p>",ulx:3663,uly:1302,lrx:4156,lry:1665},{id:"k085-annot-idm320",ann:"<p>Octaven Quinten</p>",ulx:3806,uly:2052,lrx:4978,lry:2382}],"A-WnMus.Hs.44706-149":[{id:"k086-annot-idm71",ann:"<p>Gesangsgruppe zu Seite 144. Sonate in Dmoll</p>",ulx:582,uly:169,lrx:5007,lry:662},{id:"k086-annot-idm73",ann:"<p>NB</p>",ulx:2229,uly:493,lrx:2597,lry:775},{id:"k086-annot-idm168",ann:"<p>wie NB</p>",ulx:4920,uly:425,lrx:5545,lry:769}],"A-WnMus.Hs.44706-150":[{id:"k087-annot-idm76",ann:"<p>Mittelsatz=Gruppe. 2. Theil Sonatform I. Satz</p>",ulx:1053,uly:143,lrx:7624,lry:615},{id:"k087-annot-idm79",ann:"<p>zur Sonate in Fmoll<br/>140.</p>",ulx:123,uly:462,lrx:1521,lry:1208}],"A-WnMus.Hs.44706-151":[{id:"k087-annot-idm1658",ann:"<p>wird die 2<sup>te</sup> Wiederholung<br/>im 16<br/>Tacte<br/>nicht zu<br/>monoton ? abkürzen</p>",ulx:5857,uly:1976,lrx:8027,lry:3242},{id:"k087-annot-idm2075",ann:"<p>frei</p>",ulx:4259,uly:4456,lrx:4839,lry:4985},{id:"k087-annot-idm2317",ann:'<p>Umkehrung <span class="annot-abbr" data-abbr="v." data-expan="vom">v.</span> 1. Theil<br/>#</p>',ulx:3821,uly:5631,lrx:5347,lry:6305}],"A-WnMus.Hs.44706-152":[{id:"k087-annot-idm2494",ann:"<p>neu</p>",ulx:223,uly:692,lrx:800,lry:1109},{id:"k087-annot-idm3066",ann:"<p>NB</p>",ulx:2148,uly:3585,lrx:2571,lry:3847},{id:"k087-annot-idm3151",ann:"<p>NB</p>",ulx:4879,uly:3549,lrx:5215,lry:3871}],"A-WnMus.Hs.44706-153":[{id:"k088-annot-idm82",ann:"<p>Mittelsatzgruppe zur Sonate in F Seite 143.</p>",ulx:338,uly:154,lrx:5358,lry:665}],"A-WnMus.Hs.44706-154":[{id:"k088-annot-idm1566",ann:"<p>NB</p>",ulx:1994,uly:2702,lrx:2365,lry:3001},{id:"k088-annot-idm1712",ann:"<p>(von Seite<br/>148)</p>",ulx:7115,uly:3543,lrx:8022,lry:4515},{id:"k088-annot-idm1881",ann:"<p>neu</p>",ulx:5121,uly:4928,lrx:5533,lry:5172},{id:"k088-annot-idm2118",ann:'<p>Hätte wohl<br/>alles genau<br/>vom I. Theil<br/> <span class="annot-abbr" data-abbr="transpon." data-expan="transponiert">transpon.</span> <br/>können.</p>',ulx:6813,uly:5089,lrx:8247,lry:6408}],"A-WnMus.Hs.44706-155":[{id:"k088-annot-idm2226",ann:"<p>ganz frei</p>",ulx:2543,uly:201,lrx:3986,lry:655},{id:"k088-annot-idm2339",ann:"<p>eigentlich:</p>",ulx:5426,uly:223,lrx:6724,lry:635},{id:"k088-annot-idm2341",ann:"<p>gemäß dem 1. Theile</p>",ulx:6497,uly:116,lrx:8046,lry:697},{id:"k088-annot-idm2552",ann:"<p>frei</p>",ulx:156,uly:2389,lrx:777,lry:2952},{id:"k088-annot-idm2788",ann:"<p>alt</p>",ulx:2484,uly:2979,lrx:3066,lry:3376}],"A-WnMus.Hs.44706-156":[{id:"k088-annot-idm3210",ann:"<p>Langsamer</p>",ulx:671,uly:271,lrx:1706,lry:726},{id:"k088-annot-idm3346",ann:"<p>NB</p>",ulx:6250,uly:731,lrx:6706,lry:1085},{id:"k088-annot-idm3980",ann:'<p>noch länger<br/>fort <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> <br/> <span class="annot-abbr" data-abbr="verschied" data-expan="verschiedentlich">verschied</span> harmonisiert</p>',ulx:6909,uly:4461,lrx:8120,lry:5739}],"A-WnMus.Hs.44706-157":[{id:"k089-annot-idm88",ann:'<p><date isodate="1862-06-29">29. Juni 862.</date></p>',ulx:6271,uly:34,lrx:7414,lry:414},{id:"k089-annot-idm658",ann:"<p>NB 2</p>",ulx:5345,uly:3365,lrx:5746,lry:3606},{id:"k089-annot-idm660",ann:"<p>Anfang Schluß</p>",ulx:5918,uly:3162,lrx:6587,lry:3490},{id:"k089-annot-idm878",ann:"<p>Es --- Durchg. A.</p>",ulx:6001,uly:4617,lrx:8030,lry:4951},{id:"k089-annot-idm1046",ann:"<p>NB</p>",ulx:6023,uly:5604,lrx:6402,lry:5853},{id:"k089-annot-idm1047",ann:"<p>NB</p>",ulx:6770,uly:5563,lrx:7197,lry:5878}],"A-WnMus.Hs.44706-158":[{id:"k089-annot-idm1242",ann:"<p>NB 2</p>",ulx:3609,uly:1342,lrx:3992,lry:1624},{id:"k089-annot-idm1374",ann:"<p>NB</p>",ulx:3246,uly:2177,lrx:3478,lry:2378}],"A-WnMus.Hs.44706-159":[{id:"x467077ba-dc72-4c75-83b7-dccee5a68f25",ann:"<p>NB</p>",ulx:6086,uly:1232,lrx:6571,lry:1617},{id:"k089-annot-idm2272",ann:"<p>NB</p>",ulx:520,uly:2049,lrx:772,lry:2392},{id:"k089-annot-idm3059",ann:"<p>DesDur</p>",ulx:3481,uly:5957,lrx:4127,lry:6291}],"A-WnMus.Hs.44706-160":[],"A-WnMus.Hs.44706-161":[{id:"k089-annot-idm4610",ann:"<p>Motiv</p>",ulx:2622,uly:296,lrx:3181,lry:561},{id:"k089-annot-idm4666",ann:"<p>f</p>",ulx:3871,uly:1225,lrx:4104,lry:1486},{id:"k089-annot-idm4668",ann:"<p>d</p>",ulx:4307,uly:1250,lrx:4516,lry:1443},{id:"k089-annot-idm4670",ann:"<p>b</p>",ulx:4717,uly:1271,lrx:4952,lry:1520},{id:"k089-annot-idm4723",ann:"<p>g</p>",ulx:5211,uly:1284,lrx:5473,lry:1497},{id:"k089-annot-idm4725",ann:"<p>es</p>",ulx:5694,uly:1253,lrx:5951,lry:1490},{id:"k089-annot-idm4727",ann:"<p>c</p>",ulx:6094,uly:1248,lrx:6313,lry:1476},{id:"k089-annot-idm4729",ann:"<p>a</p>",ulx:6456,uly:1217,lrx:6689,lry:1433}],"A-WnMus.Hs.44706-162":[{id:"kitzler_089_NBmeta1",ann:"<p>NB NB</p>",ulx:3867,uly:2171,lrx:4574,lry:2595}],"A-WnMus.Hs.44706-163":[{id:"k089-annot-idm6955",ann:"<p>c</p>",ulx:3364,uly:1830,lrx:3515,lry:2027},{id:"k089-annot-idm6956",ann:"<p>b</p>",ulx:3492,uly:1864,lrx:3637,lry:2025},{id:"k089-annot-idm6957",ann:"<p>as</p>",ulx:3616,uly:1864,lrx:3801,lry:2022},{id:"k089-annot-idm7412",ann:"<p>ges</p>",ulx:1651,uly:4970,lrx:2029,lry:5298},{id:"k089-annot-idm7413",ann:"<p>ges</p>",ulx:2291,uly:4545,lrx:2668,lry:4904},{id:"k089-annot-idm7494",ann:"<p>g</p>",ulx:5339,uly:4686,lrx:5719,lry:5012}],"A-WnMus.Hs.44706-164":[{id:"k089-annot-idm7925",ann:"<p>dann in Gmoll</p>",ulx:5458,uly:536,lrx:6757,lry:1038},{id:"k089-annot-idm7945",ann:"<p>oder zuerst in Gdur</p>",ulx:140,uly:1104,lrx:2284,lry:1674}],"A-WnMus.Hs.44706-165":[{id:"k090-annot-idm89",ann:"<p>Streich-Quartett I. Satz</p>",ulx:1027,uly:219,lrx:4812,lry:641},{id:"k090-annot-idm678",ann:"<p>Sonst löst I. Violine auf.</p>",ulx:5560,uly:4471,lrx:6949,lry:4819}],"A-WnMus.Hs.44706-166":[{id:"k090-annot-idm1562",ann:"<p>Pause</p>",ulx:4895,uly:4559,lrx:5545,lry:4930}],"A-WnMus.Hs.44706-167":[{id:"k090-annot-idm1867",ann:"<p>giltig</p>",ulx:4601,uly:1784,lrx:5314,lry:2267}],"A-WnMus.Hs.44706-168":[],"A-WnMus.Hs.44706-169":[{id:"k090-annot-idm3790",ann:"<p>Cdur</p>",ulx:7115,uly:3403,lrx:7572,lry:3782}],"A-WnMus.Hs.44706-170":[],"A-WnMus.Hs.44706-171":[{id:"k090-annot-idm4451",ann:"<p>NB. Klangfarbe - überschreiten - 2 stimmig -</p>",ulx:1212,uly:159,lrx:5817,lry:633}],"A-WnMus.Hs.44706-172":[],"A-WnMus.Hs.44706-173":[],"A-WnMus.Hs.44706-174":[],"A-WnMus.Hs.44706-175":[{id:"k090-annot-idm7990",ann:"<p>(auch in Cmoll)<br/>(so überraschender)</p>",ulx:5558,uly:5590,lrx:7252,lry:6294}],"A-WnMus.Hs.44706-176":[{id:"k090-annot-idm8811",ann:"<p>? (hätte auch wie im 1. Theile sein können)</p>",ulx:585,uly:5827,lrx:3638,lry:6304}],"A-WnMus.Hs.44706-177":[{id:"k090-annot-idm8918",ann:"<p>Umkehrung des 1. Theiles (hätte auch wie im 1. Theile sein können)</p>",ulx:3486,uly:147,lrx:7136,lry:696}],"A-WnMus.Hs.44706-178":[{id:"k091-annot-idm146",ann:'<p>|: in Rondoform <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> zwar 3 theilige Liedform mit<br/>Trio, dann Repetition mit Variando :|</p>',ulx:3102,uly:77,lrx:8148,lry:674}],"A-WnMus.Hs.44706-179":[],"A-WnMus.Hs.44706-180":[],"A-WnMus.Hs.44706-181":[{id:"k091-annot-idm2528",ann:"<p>NB</p>",ulx:4477,uly:227,lrx:4943,lry:768},{id:"k091-annot-idm3098",ann:'<p>Auch kann der 1. Theil bis zur<br/>Repetition 1 mal unverändert gebracht<br/>werden <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> dann wie hier.</p>',ulx:5417,uly:5705,lrx:8171,lry:6515}],"A-WnMus.Hs.44706-182":[{id:"k091-annot-idm3225",ann:"<p>Ich lasse hier den 1. Theil ohne Repetition.</p>",ulx:2054,uly:214,lrx:6607,lry:687},{id:"k091-annot-idm3554",ann:'<p>NB Auch könnte dieser<br/>varirte<br/>Theil<br/> <span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span> <br/>werden.</p>',ulx:6300,uly:2299,lrx:7999,lry:3538}],"A-WnMus.Hs.44706-183":[{id:"k091-annot-idm4117",ann:"<p>neu</p>",ulx:825,uly:2356,lrx:1376,lry:2677}],"A-WnMus.Hs.44706-184":[{id:"k091-annot-idm5313",ann:'<p>Abends - 9 Uhr <date isodate="1862-07-28">28. Juli<br/>1862.</date> </p>',ulx:6390,uly:5805,lrx:8079,lry:6390}],"A-WnMus.Hs.44706-185":[{id:"k092-annot-idm264",ann:"<p>NB</p>",ulx:6680,uly:265,lrx:7045,lry:581},{id:"k092-annot-idm683",ann:"<p>NB</p>",ulx:2263,uly:4555,lrx:2607,lry:4859},{id:"k092-annot-idm886",ann:"<p>Wäre die Liedform hier auch 3 theilig, wenn der 2.<sup>te</sup> Theil bis zur Repetition<br/>acht Tacte zählt?</p>",ulx:708,uly:5742,lrx:7740,lry:6160},{id:"k092-annot-idm890",ann:'<p>2theilig<br/>1. <span class="annot-abbr" data-abbr="Th" data-expan="Theil">Th</span> 2. <span class="annot-abbr" data-abbr="Th" data-expan="Theil">Th</span> v. 1 <span class="annot-abbr" data-abbr="Th" data-expan="Theil">Th</span> <br/>8 - 4 - 4.<br/> <span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span> </p>',ulx:182,uly:5655,lrx:1354,lry:6390},{id:"k092-annot-idm907",ann:"<p>? 8 Tacte<br/>1. Theil</p>",ulx:1376,uly:6012,lrx:2004,lry:6484},{id:"k092-annot-idm910",ann:'<p>4. - 8.<br/>2 Theil <span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span> </p>',ulx:2074,uly:5996,lrx:2802,lry:6447},{id:"k092-annot-idm916",ann:"<p>wäre diese 3theilig? wenn der 2.<sup>te</sup> Theil ohne Repetition ein für sich bestehendes Ganze bildet.</p>",ulx:2850,uly:5025,lrx:8160,lry:6387}],"A-WnMus.Hs.44706-186":[],"A-WnMus.Hs.44706-187":[{id:"k093-annot-idm77",ann:'<p>auch: <rend rend="underline">Gmoll</rend>, Esdur, <rend rend="underline">Emoll</rend>, Amoll, Cmoll, <rend rend="underline">Ddur</rend>, <rend rend="underline">Cdur</rend>,</p>',ulx:1039,uly:125,lrx:6907,lry:591},{id:"k093-annot-idm87",ann:"<p>Trio</p>",ulx:524,uly:246,lrx:1385,lry:816},{id:"k093-annot-idm287",ann:"<p>NB</p>",ulx:1240,uly:2310,lrx:1548,lry:2635},{id:"k093-annot-idm289",ann:"<p>NB</p>",ulx:1644,uly:2292,lrx:2002,lry:2592}],"A-WnMus.Hs.44706-188":[{id:"k094-annot-idm82",ann:'<p>Mittlere Rondoform mit Themagruppe in 2 <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> 3 theiliger Liedform in 1. <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> 2 Perioden etc.<br/>dann Übergangsgruppe (<span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> nur Periode), Gesangsperiode = <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span>perauch Gruppen in <span class="annot-abbr" data-abbr="Dom" data-expan="Dominante">Dom</span> - Repetition<br/>der<br/>Thema-<br/>gruppe<br/>in Tonica<br/>Übergangs-<br/>gruppe<br/>Zwischen-<br/>periode<br/>weil in<br/>Tonica<br/>jetzt der<br/>Gesangs-<br/>gruppe<br/>bleibt;<br/>Thema-<br/>gruppe<br/>zum<br/>3<sup>te</sup> Male<br/>verkürzt<br/>mit<br/>Anhang. </p>',ulx:2091,uly:60,lrx:8175,lry:4515},{id:"k094-annot-idm126",ann:"<p>Rondo</p>",ulx:766,uly:203,lrx:2086,lry:844},{id:"k094-annot-idm460",ann:"<p>besser weg</p>",ulx:3433,uly:2668,lrx:4342,lry:3087},{id:"k094-annot-idm915",ann:'<p>Die kleine Rondoform ist 3 theilige Liedform in Themagruppe, der sich ein Trio in 2 <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> 3 theilige Liedform<br/>anschließt; dann Repetition meist in Variande mit Anhang.</p>',ulx:346,uly:5762,lrx:7811,lry:6410}],"A-WnMus.Hs.44706-189":[{id:"k094-annot-idm1029",ann:"<p>Vergrößerung des Thema</p>",ulx:3230,uly:85,lrx:4825,lry:576},{id:"k094-annot-idm1821",ann:"<p>NB Ich durfte hier nur einen kurzen Übergang machen.<br/>Dürfte dieß auch eine lange Gruppe werden?</p>",ulx:2937,uly:5717,lrx:7811,lry:6376}],"A-WnMus.Hs.44706-190":[{id:"k094-annot-idm2269",ann:"<p>dann Fortsetzung +<br/>weg</p>",ulx:4733,uly:2208,lrx:6291,lry:2778},{id:"k094-annot-idm2362",ann:"<p>erweitert:<br/>+</p>",ulx:273,uly:3974,lrx:1336,lry:4575}],"A-WnMus.Hs.44706-191":[{id:"k094-annot-idm2562",ann:"<p>besser:</p>",ulx:454,uly:362,lrx:1120,lry:898}],"A-WnMus.Hs.44706-192":[{id:"k094-annot-idm4200",ann:"<p>Fortsetzung +</p>",ulx:176,uly:3966,lrx:979,lry:4499},{id:"k094-annot-idm4430",ann:'<p>NB Möglichst bei Übergangsgruppe dieselbe Form <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Figuren beibehalten vom 1. Theile.</p>',ulx:141,uly:5443,lrx:7317,lry:6341}],"A-WnMus.Hs.44706-193":[{id:"k094-annot-idm4513",ann:"<p><unclear>+ Vide</unclear></p>",ulx:3145,uly:174,lrx:4314,lry:701},{id:"k094-annot-idm5087",ann:'<p>NB Ganz willkührlich hab ich hier die Modulation<br/>vom 1. Theile beibehalten <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> erst am Schluße<br/>ins Cmoll verändert.</p>',ulx:2760,uly:5746,lrx:8042,lry:6371}],"A-WnMus.Hs.44706-194":[{id:"k094-annot-idm5515",ann:"<p>frei ins Asdur anstatt Cmoll</p>",ulx:4019,uly:2180,lrx:6012,lry:2564}],"A-WnMus.Hs.44706-195":[{id:"k094-annot-idm6257",ann:"<p>NB falsche Quinten</p>",ulx:2286,uly:2637,lrx:3396,lry:3053},{id:"k094-annot-idm6312",ann:"<p>NB NB 2<sup>te</sup> Quint (übler)<br/>rein</p>",ulx:3542,uly:2587,lrx:4502,lry:3166},{id:"k094-annot-idm6379",ann:"<p>NB</p>",ulx:4841,uly:2682,lrx:5166,lry:2958}],"A-WnMus.Hs.44706-196":[{id:"k094-annot-idm6729",ann:"<p>NB verboten im reinen Satze.</p>",ulx:1685,uly:130,lrx:5113,lry:695},{id:"k094-annot-idm6763",ann:"<p>oberhalb <unclear>Under</unclear> soll keine Terz sein.</p>",ulx:2817,uly:863,lrx:4615,lry:1222},{id:"k094-annot-idm6805",ann:"<p>Terz</p>",ulx:3824,uly:731,lrx:4151,lry:984},{id:"k094-annot-idm6807",ann:"<p>Under</p>",ulx:3828,uly:1288,lrx:4212,lry:1556},{id:"k094-annot-idm6809",ann:'<p><span class="annot-abbr" data-abbr="Fund." data-expan="Fundament">Fund.</span></p>',ulx:3858,uly:1712,lrx:4213,lry:1953},{id:"k094-annot-idm6814",ann:"<p>Non</p>",ulx:3918,uly:1899,lrx:4281,lry:2166},{id:"k094-annot-idm6816",ann:"<p>NB Hier freier Satz.</p>",ulx:4349,uly:1716,lrx:6204,lry:2139},{id:"k094-annot-idm7609",ann:'<p>Linz. <date isodate="1862-08-17">7. August 1862</date> </p>',ulx:6172,uly:5777,lrx:7765,lry:6337}],"A-WnMus.Hs.44706-197":[{id:"k095-annot-idm88",ann:"<p>Rondo in größerer Form</p>",ulx:764,uly:158,lrx:4256,lry:681},{id:"k095-annot-idm90",ann:'<p>I. Themagruppe 2 <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> 3 theilige Liedform<br/>Übergangsgruppe, Gesangsgruppe (Anhang?)<br/> <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> Schlußgruppe I Repetition der Themagruppe +</p>',ulx:4220,uly:99,lrx:7476,lry:631},{id:"k095-annot-idm287",ann:'<p>NB Baß Quinten in <span class="annot-abbr" data-abbr="Gegenb." data-expan="Gegenbewegung">Gegenb.</span> </p>',ulx:761,uly:2201,lrx:2427,lry:2593},{id:"k095-annot-idm429",ann:"<p>NB</p>",ulx:4694,uly:2124,lrx:5035,lry:2416},{id:"k095-annot-idm476",ann:"<p>NB</p>",ulx:5890,uly:2194,lrx:6241,lry:2501},{id:"k095-annot-idm786",ann:'<p>+ <rend rend="underline">Neue Mittelsatzgruppe</rend>, wobei Durchführungen <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Varianden der neuen Motive sein können, <rend rend="underline">Durchführungs-</rend> <br/> <rend rend="underline">gruppe</rend>, hier von den <rend rend="underline">Hauptmotiven</rend>. II. Repetition der Themagruppe, Übergangsgruppe, Schlußgruppe,<br/>III. Repetition der Themagruppe, Anhang.</p>',ulx:288,uly:5697,lrx:8091,lry:6351}],"A-WnMus.Hs.44706-198":[{id:"k095-annot-idm933",ann:"<p>? früher</p>",ulx:4244,uly:185,lrx:4835,lry:545},{id:"k095-annot-idm935",ann:"<p>es NB</p>",ulx:4760,uly:159,lrx:5204,lry:538},{id:"k095-annot-idm937",ann:"<p>Verdopplungen</p>",ulx:5130,uly:102,lrx:6634,lry:648},{id:"k095-annot-idm1139",ann:"<p>+ auf Seite 203 weiter beim 3.<sup>ten</sup> Auftreten der Themagruppe.</p>",ulx:1926,uly:2140,lrx:6097,lry:2487},{id:"k095-annot-idm1306",ann:"<p>gilt</p>",ulx:6196,uly:3556,lrx:6602,lry:3861},{id:"k095-annot-idm1638",ann:'<p>? Gesangsgruppe auch Asdur, Bdur, <span class="annot-abbr" data-abbr="o" data-expan="oder">o</span> Fmoll (Fmoll, Gmoll)?</p>',ulx:421,uly:5697,lrx:6171,lry:6285}],"A-WnMus.Hs.44706-199":[],"A-WnMus.Hs.44706-200":[{id:"k095-annot-idm2802",ann:"<p>NB</p>",ulx:6044,uly:355,lrx:6480,lry:785},{id:"k095-annot-idm2885",ann:"<p>17 Tacte<br/>vom Anfange</p>",ulx:1270,uly:2245,lrx:2546,lry:2976}],"A-WnMus.Hs.44706-201":[{id:"k095-annot-idm3428",ann:"<p>NB</p>",ulx:368,uly:1906,lrx:749,lry:2355},{id:"k095-annot-idm3835",ann:"<p>Motiv Theil</p>",ulx:2073,uly:2265,lrx:3070,lry:2658},{id:"k095-annot-idm3872",ann:"<p>NB</p>",ulx:3352,uly:3607,lrx:3715,lry:3858},{id:"k095-annot-idm4058",ann:"<p>NB</p>",ulx:6515,uly:2244,lrx:6822,lry:2517},{id:"k095-annot-idm4444",ann:"<p><unclear/></p>",ulx:7479,uly:4194,lrx:7923,lry:4597}],"A-WnMus.Hs.44706-202":[{id:"k095-annot-idm5577",ann:"<p>NB</p>",ulx:6539,uly:4041,lrx:6951,lry:4390}],"A-WnMus.Hs.44706-203":[{id:"k095-annot-idm5748",ann:"<p>(läßt nicht gut<br/>variren.)</p>",ulx:3727,uly:1242,lrx:5253,lry:1956},{id:"k095-annot-idm5766",ann:"<p>dann:</p>",ulx:5001,uly:422,lrx:5621,lry:752}],"A-WnMus.Hs.44706-204":[{id:"k095-annot-idm6357",ann:"<p>Cdur bleibe</p>",ulx:3226,uly:96,lrx:4068,lry:517},{id:"k095-annot-idm6773",ann:"<p>NB</p>",ulx:2379,uly:3965,lrx:2775,lry:4311},{id:"k095-annot-idm6775",ann:"<p>NB</p>",ulx:2528,uly:4887,lrx:2867,lry:5151},{id:"k095-annot-idm6973",ann:"<p>(NB)</p>",ulx:5835,uly:4728,lrx:6434,lry:5164},{id:"k095-annot-idm7032",ann:"<p>NB<br/>f</p>",ulx:6375,uly:4436,lrx:6696,lry:4775},{id:"k095-annot-idm7035",ann:"<p>NB<br/>es</p>",ulx:6715,uly:4446,lrx:7020,lry:4798},{id:"k095-annot-idm7038",ann:"<p>NB<br/>d</p>",ulx:7024,uly:4468,lrx:7311,lry:4848},{id:"k095-annot-idm7041",ann:"<p>NB<br/>c</p>",ulx:7264,uly:4503,lrx:7589,lry:4850},{id:"k095-annot-idm7044",ann:"<p>erscheine wie Quinten</p>",ulx:6472,uly:4884,lrx:8073,lry:5228},{id:"k095-annot-idm7122",ann:'<p><date isodate="1862-08-15">15. Aug. 862</date></p>',ulx:143,uly:5782,lrx:996,lry:6209},{id:"k095-annot-idm7125",ann:"<p># NB von # hätte es Note für Note vom 1. Theile abgeschrieben<br/>werden können. Nur der Mannigfaltigkeit wegen verändert.</p>",ulx:2069,uly:5602,lrx:8055,lry:6353}],"A-WnMus.Hs.44706-205":[{id:"k095-annot-idm7131",ann:"<p>NB</p>",ulx:763,uly:1031,lrx:1014,lry:1321},{id:"k095-annot-idm7133",ann:"<p>NB</p>",ulx:1184,uly:996,lrx:1489,lry:1225},{id:"k095-annot-idm7135",ann:'<p>bedenklich; sonst <rend rend="underline">ganz</rend> mit Violin I<sup>mo</sup> unisono</p>',ulx:776,uly:1308,lrx:3585,lry:1691}],"A-WnMus.Hs.44706-206":[{id:"k095-annot-idm7982",ann:'<p>(Umkehrung <span class="annot-abbr" data-abbr="v." data-expan="vom">v.</span> I. Satz.</p>',ulx:1248,uly:199,lrx:2616,lry:564},{id:"k095-annot-idm8498",ann:'<p><date isodate="1862-08-15">15. August<br/> <rend rend="underline">862</rend> </date><br/>1/2 8 Uhr<br/>Abends.</p>',ulx:7483,uly:4005,lrx:8136,lry:5312},{id:"k095-annot-idm8537",ann:"<p>Der letzte Satz hier könnte auch in Cdur schließen<br/>Dieß sind die bestimmtesten Erweiterungen<br/>der Sonaten Form beim Streichquartett.</p>",ulx:1158,uly:4173,lrx:6909,lry:5707}],"A-WnMus.Hs.44706-207":[{id:"k096-annot-idm88",ann:'<p>Der Trompeter an der Katzbach. Lied für <span class="annot-abbr" data-abbr="Singst." data-expan="Singstimme">Singst.</span> mit Piano Begleitung.</p>',ulx:1051,uly:178,lrx:7928,lry:655},{id:"k096-annot-idm95",ann:"<p>Baß</p>",ulx:76,uly:479,lrx:815,lry:1171}],"A-WnMus.Hs.44706-208":[{id:"k096-annot-idm1219",ann:"<p>Recitativartig?</p>",ulx:2775,uly:1651,lrx:4374,lry:2056}],"A-WnMus.Hs.44706-209":[{id:"k096-annot-idm2397f",ann:"<p>oder Es</p>",ulx:4065,uly:2631,lrx:4586,lry:2992},{id:"k096-annot-idm2397",ann:"<p>NB Cdur</p>",ulx:4049,uly:1669,lrx:4790,lry:2065}],"A-WnMus.Hs.44706-210":[{id:"x5565ab9c-f703-4ecf-9e95-11e484349066",ann:"<p>NB</p>",ulx:2068,uly:337,lrx:2416,lry:593}],"A-WnMus.Hs.44706-211":[{id:"k096-annot-idm3991",ann:"<p>NB</p>",ulx:3667,uly:1005,lrx:3936,lry:1236},{id:"k096-annot-idm4540",ann:"<p>Recitativartig</p>",ulx:279,uly:3134,lrx:1507,lry:3660}],"A-WnMus.Hs.44706-212":[{id:"k096-annot-idm6149",ann:"<p>NB</p>",ulx:3897,uly:5081,lrx:4165,lry:5302},{id:"k096-annot-idm6151",ann:"<p>Recitativ</p>",ulx:4223,uly:4997,lrx:5070,lry:5272},{id:"k096-annot-idm6321",ann:"<p>NB Verdopplung des Baßes verändert war gewöhnlich.</p>",ulx:3549,uly:5749,lrx:7643,lry:6257}],"A-WnMus.Hs.44706-213":[{id:"k096-annot-idm6513",ann:'<p><date isodate="1862-08-22">22. Aug. 862</date> (<settlement>Kirnberger Wald</settlement>.)</p>',ulx:5067,uly:1225,lrx:7703,lry:1771},{id:"k097-annot-idm74",ann:"<p>I. Fantasie in kleinen Formen anreihender Perioden.</p>",ulx:865,uly:1832,lrx:7996,lry:2437},{id:"k097-annot-idm78",ann:"<p>Piano Forte</p>",ulx:125,uly:2156,lrx:821,lry:2812},{id:"k097-annot-idm79",ann:"<p>Dmoll</p>",ulx:125,uly:2750,lrx:856,lry:3237}],"A-WnMus.Hs.44706-214":[{id:"k097-annot-idm1576",ann:"<p>Anhang</p>",ulx:231,uly:2339,lrx:845,lry:2868},{id:"k097-annot-idm1838",ann:"<p>Pedal</p>",ulx:2458,uly:3532,lrx:3308,lry:3939},{id:"k097-annot-idm1989",ann:'<p>? Die Lieder ohne Worte zB <span class="annot-abbr" data-abbr="v." data-expan="von">v.</span> Mendelssohn haben meistens Liedform.<br/>NB Zuweilen auch Schlußperiode <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Anhang.</p>',ulx:878,uly:5687,lrx:7473,lry:6351},{id:"k097-annot-idm1998",ann:"<p>? Durchführungs-<br/>periode?</p>",ulx:253,uly:5910,lrx:1320,lry:6364},{id:"k097-annot-idm1998",ann:"<p>? Durchführungs-<br/>periode?</p>",ulx:5339,uly:5962,lrx:7857,lry:6407}],"A-WnMus.Hs.44706-215":[{id:"k098-annot-idm87",ann:"<p>Fantasie für Piano Forte.</p>",ulx:889,uly:187,lrx:4456,lry:703},{id:"k098-annot-idm93",ann:"<p>Pedal</p>",ulx:2788,uly:1271,lrx:3348,lry:1630}],"A-WnMus.Hs.44706-216":[{id:"k098-annot-idm1555",ann:'<p><span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span> 8 Tacte von #</p>',ulx:3139,uly:1388,lrx:5404,lry:1985},{id:"k099-annot-idm78",ann:"<p>(Chor<br/>Rhythmus</p>",ulx:139,uly:2658,lrx:795,lry:3235},{id:"k099-annot-idm1411",ann:"<p>? geht</p>",ulx:7017,uly:5755,lrx:7898,lry:6258}],"A-WnMus.Hs.44706-217":[{id:"k099-annot-idm1984",ann:'<p>Klavier, Flöte, Oboe, Clarinette<br/>Klavier, Oboe, 2 Klarinetten<br/>KlavBaß, 2 <span class="annot-abbr" data-abbr="Klarin" data-expan="Klarinetten">Klarin</span> 2 Oboe, 2 Flöten</p>',ulx:4258,uly:2311,lrx:6700,lry:3228},{id:"k100-annot-idm84",ann:'<p><rend rend="underline(2)">gut</rend></p>',ulx:71,uly:3737,lrx:805,lry:4428},{id:"k100-annot-idm98",ann:"<p>Pedal</p>",ulx:1889,uly:3565,lrx:2684,lry:3987},{id:"k099-annot-idm1992",ann:"<p>? Lobe merkt beim<br/>1. Theil im 1. Satz<br/>des Quartetts keinen<br/>Anhang<br/>an.</p>",ulx:6323,uly:2524,lrx:8071,lry:3462},{id:"k100-annot-idm180",ann:"<p>NB</p>",ulx:6584,uly:3397,lrx:6925,lry:3769},{id:"k100-annot-idm353",ann:"<p>sine Pedal</p>",ulx:1211,uly:5315,lrx:2061,lry:5701},{id:"k100-annot-idm509",ann:"<p>Pedal</p>",ulx:4720,uly:5665,lrx:5758,lry:6115}],"A-WnMus.Hs.44706-218":[{id:"k100-annot-idm697",ann:"<p>Pedal</p>",ulx:4388,uly:1187,lrx:5059,lry:1584},{id:"k101-annot-idm83",ann:"<p>Instrumentirung</p>",ulx:302,uly:2137,lrx:2335,lry:2527},{id:"k101-annot-idm85",ann:'<p><date isodate="1862-08-26">26. Aug. 1862</date></p>',ulx:2386,uly:2100,lrx:3610,lry:2540},{id:"k100-annot-idm831",ann:'<p><date isodate="1862-08-25">25. Aug. 862</date><br/>5 Uhr Abends.</p>',ulx:6727,uly:1959,lrx:7817,lry:2535},{id:"k101-annot-idm90",ann:"<p>vielleicht zu schwach gegen Oboe</p>",ulx:1209,uly:2568,lrx:3339,lry:2973}],"A-WnMus.Hs.44706-219":[{id:"k101-annot-idm539",ann:"<p>Pausen</p>",ulx:2774,uly:909,lrx:3672,lry:1298},{id:"k101-annot-idm541",ann:"<p>grell</p>",ulx:2397,uly:1312,lrx:2974,lry:1682},{id:"k101-annot-idm612",ann:"<p>oder:</p>",ulx:5839,uly:2261,lrx:6939,lry:2777},{id:"k101-annot-idm668",ann:"<p>Gesang stärker) Flöte zu schwach.</p>",ulx:1274,uly:3587,lrx:3811,lry:4061},{id:"k101-annot-idm924",ann:'<p>in Octave mit<br/> <span class="annot-abbr" data-abbr="Clari" data-expan="Clarinette">Clari</span> </p>',ulx:6437,uly:3863,lrx:7920,lry:4682}],"A-WnMus.Hs.44706-220":[{id:"k101-annot-idm1145",ann:"<p>zarten Charakters wegen, nichts verdoppeln</p>",ulx:1854,uly:842,lrx:4083,lry:1243},{id:"k101-annot-idm1078",ann:"<p>NB hier zur I. Stimme zu schwach.</p>",ulx:4022,uly:238,lrx:7834,lry:707}],"A-WnMus.Hs.44706-221":[{id:"k101-annot-idm1723",ann:"<p>Abwechslung Klangfarbe.</p>",ulx:937,uly:218,lrx:2794,lry:737},{id:"k101-annot-idm1993",ann:"<p>oder ungetheilt</p>",ulx:4978,uly:174,lrx:6291,lry:657},{id:"k101-annot-idm2225",ann:"<p>oder: besser:</p>",ulx:175,uly:2478,lrx:1463,lry:3010}],"A-WnMus.Hs.44706-222":[{id:"k101-annot-idm2860",ann:"<p>(bedenklich schwer ansprechende Töne)</p>",ulx:5423,uly:218,lrx:8056,lry:735},{id:"k101-annot-idm2862",ann:'<p>sonst Pausen <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> dem Clavier geben</p>',ulx:5585,uly:752,lrx:8053,lry:1091},{id:"k101-annot-idm2867",ann:"<p>Pausen wenn die Oboe<br/>bläst</p>",ulx:5641,uly:2220,lrx:7498,lry:2731},{id:"k101-annot-idm3054",ann:"<p>Oboe zu grell</p>",ulx:906,uly:2997,lrx:1951,lry:3392}],"A-WnMus.Hs.44706-223":[{id:"k101-annot-idm3590",ann:"<p>NB hoch</p>",ulx:4821,uly:1188,lrx:5354,lry:1640},{id:"k101-annot-idm3868",ann:'<p><span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span> bis<br/>Fine</p>',ulx:4373,uly:3218,lrx:5429,lry:3967},{id:"k101-annot-idm3874",ann:'<p><date isodate="1862-08-26">26. Aug. 862</date> - 8 Uhr Abends.</p>',ulx:5530,uly:4461,lrx:7328,lry:5161}],"A-WnMus.Hs.44706-224":[{id:"k101-annot-idm4351",ann:"<p>Oboe I<sup>mo</sup> </p>",ulx:2043,uly:2694,lrx:2918,lry:3077},{id:"k101-annot-idm4455",ann:"<p>Oboi</p>",ulx:3888,uly:2648,lrx:4704,lry:3038},{id:"k101-annot-idm5199",ann:'<p><span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span></p>',ulx:7510,uly:5483,lrx:8114,lry:5974}],"A-WnMus.Hs.44706-225":[],"A-WnMus.Hs.44706-226":[{id:"k102-annot-idm1291",ann:'<p>2 <span class="annot-abbr" data-abbr="theilge" data-expan="theilige">theilge</span> Liedform</p>',ulx:2471,uly:1683,lrx:5627,lry:2299},{id:"k102-annot-idm1684",ann:"<p>NB</p>",ulx:1251,uly:4405,lrx:1510,lry:4666},{id:"k102-annot-idm1797",ann:'<p><date isodate="1862-09-02">2. September<br/> 1862</date>.</p>',ulx:7247,uly:4587,lrx:8094,lry:5218}],"A-WnMus.Hs.44706-227":[{id:"k102-annot-idm2059",ann:"<p>NB</p>",ulx:3101,uly:1779,lrx:3523,lry:2136},{id:"k102-annot-idm2312",ann:'<p>2 <span class="annot-abbr" data-abbr="Cl." data-expan="Clarinetti">Cl.</span> 2. <span class="annot-abbr" data-abbr="Fag." data-expan="Fagott">Fag.</span> </p>',ulx:3764,uly:2538,lrx:5596,lry:3089},{id:"k102-annot-idm2801",ann:"<p>(auch ges)</p>",ulx:2268,uly:5312,lrx:3067,lry:5719}],"A-WnMus.Hs.44706-228":[{id:"k103-annot-idm70",ann:'<p>Sätze<br/>für 2 Hörner in Es<br/> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span>2 <span class="annot-abbr" data-abbr="Fag." data-expan="Fagott">Fag.</span> </p>',ulx:727,uly:120,lrx:2548,lry:1223},{id:"k103-annot-idm80",ann:"<p>cantus firmus</p>",ulx:1325,uly:125,lrx:2621,lry:470},{id:"k103-annot-idm82",ann:'<p>4 Hörner<br/>derselben<br/>für 2 Hörner in Es<br/> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> 2 Hörner in tief<br/>B</p>',ulx:2781,uly:174,lrx:4712,lry:1431},{id:"k103-annot-idm91",ann:"<p>4 Hörner<br/>1. 2. in F.<br/>3. 4. in C.</p>",ulx:5056,uly:167,lrx:6494,lry:1262},{id:"k103-annot-idm95",ann:"<p>Neuer Satz</p>",ulx:6270,uly:112,lrx:7443,lry:563},{id:"k104-annot-idm69",ann:"<p>Cantus firmus<br/>artig</p>",ulx:169,uly:3810,lrx:1219,lry:4421}],"A-WnMus.Hs.44706-229":[{id:"k105-annot-idm121",ann:"<p>(8<sup>va</sup> immer fort die 2. Horn)</p>",ulx:1003,uly:218,lrx:3660,lry:695},{id:"k105-annot-idm382",ann:"<p>Für den Fall, als die<br/>Horn nicht ad 8 geblasen<br/>würden, könnten die<br/>Mittelstimmen oft ver-<br/>wechselt werden.</p>",ulx:6059,uly:1312,lrx:7938,lry:2370},{id:"k105-annot-idm637",ann:"<p>Die Mittelstimmen<br/>hab ich gemischt<br/>wie in zerstreuten<br/>Harmonie.</p>",ulx:6333,uly:3254,lrx:8040,lry:4195},{id:"k105-annot-idm771",ann:"<p>NB schwierig, hoch<br/>für 1. Horn</p>",ulx:6077,uly:4089,lrx:7867,lry:4756}],"A-WnMus.Hs.44706-230":[{id:"k105-annot-idm1047",ann:"<p>zu entfernt.</p>",ulx:1182,uly:1634,lrx:2518,lry:2084},{id:"k105-annot-idm1640",ann:'<p>Freitag <span class="annot-abbr" data-abbr="geschr" data-expan="geschrieben">geschr</span>.</p>',ulx:5830,uly:5226,lrx:7031,lry:5797}],"A-WnMus.Hs.44706-231":[{id:"k105-annot-idm2375",ann:"<p>oder:</p>",ulx:4321,uly:4902,lrx:4828,lry:5202},{id:"k105-annot-idm2417",ann:"<p>NB</p>",ulx:5510,uly:4859,lrx:5869,lry:5108}],"A-WnMus.Hs.44706-232":[{id:"k105-annot-idm2798",ann:"<p>Die Accord-<br/>ant natür-<br/>lichen Tönen.</p>",ulx:6727,uly:2135,lrx:8048,lry:3181},{id:"k105-annot-idm3045",ann:"<p>NB</p>",ulx:5281,uly:4807,lrx:5600,lry:5048},{id:"k105-annot-idm3071",ann:"<p>Fast<br/>lauter Natur-<br/>töne.</p>",ulx:6738,uly:5068,lrx:8082,lry:6012}],"A-WnMus.Hs.44706-233":[{id:"k105-annot-idm3318",ann:"<p>E Tromp.</p>",ulx:115,uly:2311,lrx:848,lry:2712},{id:"k105-annot-idm3403",ann:"<p>NB</p>",ulx:4337,uly:1733,lrx:4630,lry:1991}],"A-WnMus.Hs.44706-234":[{id:"k106-annot-idm100",ann:'<p>Instrumentation der Pathetique <span class="annot-abbr" data-abbr="Sonat." data-expan="Sonate">Sonat.</span> <span class="annot-abbr" data-abbr="Introduct." data-expan="Introduction">Introduct.</span> </p>',ulx:2766,uly:79,lrx:8013,lry:627},{id:"k106-annot-idm110",ann:"<p>NB des Raumes wegen</p>",ulx:612,uly:4838,lrx:2131,lry:5104},{id:"k106-annot-idm112",ann:'<p>NB Dürfen die Octaven <span class="annot-abbr" data-abbr="v." data-expan="von">v.</span> Piano forte ad libitum bei Begleitung<br/>versetzt werden ?</p>',ulx:835,uly:5713,lrx:8197,lry:6287}],"A-WnMus.Hs.44706-235":[{id:"k106-annot-idm837",ann:"<p>Violinen besser gleich den Gesang.</p>",ulx:90,uly:122,lrx:2403,lry:597},{id:"k106-annot-idm839",ann:"<p>Clarinett besser</p>",ulx:972,uly:2334,lrx:1987,lry:2635},{id:"k106-annot-idm841",ann:"<p>NB</p>",ulx:486,uly:2495,lrx:947,lry:2900},{id:"k106-annot-idm1234",ann:"<p>NB</p>",ulx:2462,uly:193,lrx:2983,lry:597},{id:"k106-annot-idm1623",ann:"<p>Oboe</p>",ulx:6147,uly:2054,lrx:6891,lry:2481},{id:"k106-annot-idm1625",ann:'<p><span class="annot-abbr" data-abbr="Clar." data-expan="Clarinett">Clar.</span> Melodie</p>',ulx:4516,uly:2492,lrx:6188,lry:3027}],"A-WnMus.Hs.44706-236":[{id:"k106-annot-idm1911",ann:"<p>oder</p>",ulx:1071,uly:4930,lrx:1631,lry:5319},{id:"k106-annot-idm2232",ann:"<p>recht so ? Die Halb<br/>töne</p>",ulx:6882,uly:4207,lrx:8056,lry:4897}],"A-WnMus.Hs.44706-237":[{id:"k106-annot-idm2443",ann:"<p>NB</p>",ulx:2233,uly:3349,lrx:2668,lry:3629},{id:"k106-annot-idm2710",ann:"<p>hier<br/>vielleicht<br/>Puncte</p>",ulx:6063,uly:3226,lrx:6712,lry:3678},{id:"k106-annot-idm2714",ann:"<p>NB</p>",ulx:4917,uly:3564,lrx:5273,lry:3815},{id:"k106-annot-idm2716",ann:"<p>NB Puncte im<br/>Baß nicht:<br/>anstatt dis<br/>für Horn leichter<br/>es.</p>",ulx:6744,uly:3272,lrx:8069,lry:4293}],"A-WnMus.Hs.44706-238":[],"A-WnMus.Hs.44706-239":[],"A-WnMus.Hs.44706-240":[{id:"k106-annot-idm4041",ann:"<p>NB</p>",ulx:4077,uly:850,lrx:4370,lry:1155}],"A-WnMus.Hs.44706-241":[],"A-WnMus.Hs.44706-242":[{id:"k106-annot-idm6444",ann:"<p>(auch Pausen)</p>",ulx:3191,uly:318,lrx:4111,lry:746},{id:"k106-annot-idm6523",ann:"<p>oder</p>",ulx:3734,uly:5317,lrx:4171,lry:5655},{id:"k106-annot-idm6667",ann:"<p>besser</p>",ulx:4386,uly:2954,lrx:4991,lry:3315},{id:"k106-annot-idm6881",ann:"<p>oder</p>",ulx:5844,uly:5282,lrx:6250,lry:5651},{id:"k106-annot-idm7029",ann:"<p>basso</p>",ulx:6616,uly:3002,lrx:7326,lry:3351}],"A-WnMus.Hs.44706-243":[{id:"k106-annot-idm7178",ann:"<p>NB Hier verschiedene Klangfarben</p>",ulx:859,uly:285,lrx:3104,lry:695},{id:"k106-annot-idm7537",ann:"<p>oder</p>",ulx:3810,uly:5383,lrx:4191,lry:5638},{id:"k106-annot-idm7539",ann:"<p>Cello<br/> <unclear>wäre neu.</unclear> </p>",ulx:3882,uly:5702,lrx:5132,lry:6108}],"A-WnMus.Hs.44706-244":[],"A-WnMus.Hs.44706-245":[{id:"k106-annot-idm9294",ann:'<p>NB <span class="annot-abbr" data-abbr="Sept." data-expan="Septime">Sept.</span> </p>',ulx:3019,uly:268,lrx:3758,lry:678}],"A-WnMus.Hs.44706-246":[{id:"k106-annot-idm9998",ann:"<p>NB</p>",ulx:3081,uly:3563,lrx:3459,lry:3877},{id:"k106-annot-idm10001",ann:"<p>? im Falle die Trombone schwiegen, bliebe der frühere Hornsatz.</p>",ulx:3147,uly:4730,lrx:7169,lry:5059},{id:"k106-annot-idm10003",ann:"<p>oder</p>",ulx:2695,uly:5122,lrx:3066,lry:5484},{id:"k106-annot-idm10672",ann:"<p>oder :</p>",ulx:5906,uly:3175,lrx:6431,lry:3515},{id:"k106-annot-idm10847",ann:"<p>auch</p>",ulx:6753,uly:2592,lrx:7095,lry:2917},{id:"k106-annot-idm10989",ann:"<p>g ist<br/>hier an-<br/>gezeichnet</p>",ulx:7600,uly:2506,lrx:8084,lry:3125}],"A-WnMus.Hs.44706-247":[],"A-WnMus.Hs.44706-248":[],"A-WnMus.Hs.44706-249":[],"A-WnMus.Hs.44706-250":[{id:"k106-annot-idm14346",ann:"<p>Seite 70<br/>Marx.</p>",ulx:390,uly:5610,lrx:1222,lry:6187},{id:"k106-annot-idm14349",ann:"<p><unclear>Posam</unclear> Quinten<br/>?</p>",ulx:1096,uly:5467,lrx:1850,lry:6095},{id:"k106-annot-idm14454",ann:"<p>tief A Trompeten<br/>gibt's nicht.</p>",ulx:1657,uly:5595,lrx:3334,lry:6269},{id:"k106-annot-idm14562",ann:"<p>Trombis ganze Noten?<br/>Trombonis</p>",ulx:3147,uly:5734,lrx:5029,lry:6284},{id:"k106-annot-idm15030",ann:'<p>Ist bei Horen <span class="annot-abbr" data-abbr="u" data-expan="und">u</span> Trompeten <rend rend="underline">des</rend> besser<br/>anstatt cis, <rend rend="underline">dann es</rend>, anstatt dis?</p>',ulx:5352,uly:5672,lrx:7995,lry:6355}],"A-WnMus.Hs.44706-251":[{id:"k108-annot-idm92",ann:"<p>Marsch in Dmoll</p>",ulx:2787,uly:115,lrx:5835,lry:618},{id:"k108-annot-idm96",ann:"<p>Wahl?</p>",ulx:406,uly:242,lrx:1240,lry:687},{id:"k108-annot-idm98",ann:"<p>Scizzirt.</p>",ulx:1198,uly:162,lrx:2153,lry:680},{id:"k108-annot-idm101",ann:"<p>Langsam</p>",ulx:1940,uly:310,lrx:2930,lry:731},{id:"k108-annot-idm207",ann:"<p>Piccolo</p>",ulx:6122,uly:204,lrx:6805,lry:515},{id:"k108-annot-idm1011",ann:"<p>Trio vert. {nach dem Trio<br/> zum Schluß</p>",ulx:3388,uly:5039,lrx:5410,lry:5808},{id:"k108-annot-idm1014",ann:'<p>NB. Beim Marsche müssen <span class="annot-abbr" data-abbr="rglmä" data-expan="regelmässige">rglmä</span> Perioden<br/>wie bei Tänzen Der <span class="annot-abbr" data-abbr="v." data-expan="von">v.</span> 2 zu 2 Tacten <unclear/> <br/>können sie verlängert werden</p>',ulx:4083,uly:5795,lrx:7954,lry:6370},{id:"k108-annot-idm1066",ann:"<p>etc.<br/>Orglpunct.</p>",ulx:6685,uly:5091,lrx:7552,lry:5673}],"A-WnMus.Hs.44706-252":[{id:"k109-annot-idm476",ann:"<p>vielleicht etwas weicher<br/> (daß e e zweimal hat man nicht)</p>",ulx:4781,uly:4265,lrx:7892,lry:5245}],"A-WnMus.Hs.44706-253":[{id:"k110-annot-idm174",ann:"<p>Marsch</p>",ulx:2600,uly:103,lrx:4236,lry:683}],"A-WnMus.Hs.44706-254":[{id:"k110-annot-idm883",ann:"<p>as g f</p>",ulx:5330,uly:321,lrx:5936,lry:610},{id:"k110-annot-idm885",ann:"<p>(g f es)</p>",ulx:5187,uly:726,lrx:5974,lry:1047},{id:"k110-annot-idm888",ann:"<p>as</p>",ulx:5601,uly:5660,lrx:5968,lry:6002},{id:"k110-annot-idm1112",ann:"<p>oder f</p>",ulx:6948,uly:275,lrx:7440,lry:595},{id:"k110-annot-idm1114",ann:"<p>Cello</p>",ulx:6068,uly:5247,lrx:6529,lry:5682},{id:"k110-annot-idm1116",ann:"<p>Baß</p>",ulx:6055,uly:5769,lrx:6469,lry:6147}],"A-WnMus.Hs.44706-255":[{id:"k110-annot-idm1613",ann:"<p>auch unisono<br/> 2stimmig</p>",ulx:3727,uly:162,lrx:4942,lry:603},{id:"k110-annot-idm1616",ann:"<p>IIdo loco</p>",ulx:3558,uly:1937,lrx:4233,lry:2375},{id:"k110-annot-idm1618",ann:"<p>Imo</p>",ulx:3655,uly:1697,lrx:3994,lry:1966},{id:"k110-annot-idm1620",ann:"<p>Alt in</p>",ulx:3618,uly:4812,lrx:4102,lry:5149},{id:"k110-annot-idm1622",ann:'<p><span class="annot-abbr" data-abbr="Ten." data-expan="Tenor">Ten.</span></p>',ulx:3769,uly:5079,lrx:4101,lry:5337},{id:"k110-annot-idm1627",ann:"<p>Baß</p>",ulx:3792,uly:5319,lrx:4168,lry:5548}],"A-WnMus.Hs.44706-256":[{id:"k110-annot-idm2154",ann:"<p>Alt</p>",ulx:676,uly:4958,lrx:906,lry:5124},{id:"k110-annot-idm2156",ann:'<p><span class="annot-abbr" data-abbr="Ten." data-expan="Tenor">Ten.</span></p>',ulx:674,uly:5059,lrx:974,lry:5221},{id:"k110-annot-idm2161",ann:"<p>Alt</p>",ulx:2015,uly:4837,lrx:2256,lry:5039},{id:"k110-annot-idm2163",ann:'<p><span class="annot-abbr" data-abbr="Ten." data-expan="Tenor">Ten.</span></p>',ulx:1848,uly:5090,lrx:2098,lry:5285},{id:"k110-annot-idm2168",ann:"<p>Baß unisono</p>",ulx:1880,uly:5176,lrx:2478,lry:5445}],"A-WnMus.Hs.44706-257":[{id:"k110-annot-idm2965",ann:"<p>4</p>",ulx:2925,uly:2225,lrx:3362,lry:2538},{id:"k110-annot-idm2966",ann:"<p>Baßo</p>",ulx:3018,uly:5649,lrx:3770,lry:6103},{id:"k110-annot-idm3069",ann:"<p>wie oben</p>",ulx:4105,uly:2983,lrx:5166,lry:3389}],"A-WnMus.Hs.44706-258":[],"A-WnMus.Hs.44706-259":[{id:"k110-annot-idm4138",ann:"<p>Marx.<br/> Warum ist Seite 107 keine Vorzeich-<br/>nung bei Kenth Hörner –<br/>(C müssen sie sein) ja<br/>Seite 92 Marx. ?<br/>im drittletzten Tacte 4 – 2 Horn<br/>Octaven.</p>",ulx:4737,uly:4698,lrx:8004,lry:6247}],"A-WnMus.Hs.44706-260":[{id:"k110-annot-idm4341",ann:"<p>Trio</p>",ulx:1069,uly:151,lrx:1775,lry:569},{id:"k110-annot-idm4343",ann:"<p>Pausen besser</p>",ulx:1285,uly:3283,lrx:2362,lry:3705},{id:"k110-annot-idm4345",ann:"<p>Cello</p>",ulx:1152,uly:5145,lrx:1612,lry:5543},{id:"k110-annot-idm4479",ann:"<p>NB</p>",ulx:3561,uly:1300,lrx:3900,lry:1591}],"A-WnMus.Hs.44706-261":[{id:"k110-annot-idm5433",ann:"<p>Cello</p>",ulx:6379,uly:3254,lrx:7015,lry:3661}],"A-WnMus.Hs.44706-262":[{id:"k110-annot-idm5535",ann:"<p>NB Viola<br/>löst auf</p>",ulx:6561,uly:117,lrx:8050,lry:799},{id:"k110-annot-idm5680",ann:'<p><span class="annot-abbr" data-abbr="o" data-expan="oder">o</span>Pausen</p>',ulx:1317,uly:1103,lrx:2037,lry:1605},{id:"k110-annot-idm5932",ann:'<p>Quinten <span class="annot-abbr" data-abbr="Rep." data-expan="Repetition">Rep.</span> <br/>mit Baß </p>',ulx:4354,uly:2053,lrx:5048,lry:2367}],"A-WnMus.Hs.44706-263":[{id:"k110-annot-idm6433",ann:"<p>NB</p>",ulx:4385,uly:5852,lrx:4784,lry:6233},{id:"k110-annot-idm6752",ann:'<p><settlement>Linz</settlement><br/><date isodate="1862-10-12">12.Okt.<br/> 862</date></p>',ulx:7351,uly:5440,lrx:8148,lry:6205}],"A-WnMus.Hs.44706-264":[{id:"k110-annot-idm7239",ann:"<p>?</p>",ulx:5067,uly:184,lrx:5393,lry:478},{id:"k110-annot-idm6980",ann:"<p>NB Quinten</p>",ulx:820,uly:815,lrx:1584,lry:1196},{id:"k110-annot-idm7132",ann:"<p>NB</p>",ulx:3443,uly:2764,lrx:3855,lry:3044},{id:"k110-annot-idm7133",ann:"<p>NB</p>",ulx:4052,uly:3034,lrx:4397,lry:3336},{id:"k110-annot-idm7342",ann:"<p>divisi</p>",ulx:5907,uly:294,lrx:6510,lry:610},{id:"k110-annot-idm7344",ann:"<p>oder in Oktaven mit I<sup>mo</sup> </p>",ulx:5549,uly:730,lrx:6684,lry:1125},{id:"k110-annot-idm7347",ann:"<p>Posaunen</p>",ulx:6103,uly:4630,lrx:6525,lry:4933},{id:"k110-annot-idm7350",ann:'<p><span class="annot-abbr" data-abbr="Tromb." data-expan="Trombone">Tromb.</span> oder</p>',ulx:5635,uly:5303,lrx:6167,lry:5589},{id:"k110-annot-idm7615",ann:"<p>Solo</p>",ulx:7137,uly:2136,lrx:7632,lry:2518}],"A-WnMus.Hs.44706-265":[{id:"k110-annot-idm7862",ann:"<p>2<sup>ter</sup> Theil des Trio.</p>",ulx:473,uly:191,lrx:2412,lry:689},{id:"k110-annot-idm8221",ann:"<p>divisi</p>",ulx:4261,uly:213,lrx:4967,lry:592},{id:"k110-annot-idm8223",ann:"<p>NB</p>",ulx:5028,uly:1227,lrx:5394,lry:1540}],"A-WnMus.Hs.44706-266":[{id:"k113-annot-idm234",ann:"<p>Violon</p>",ulx:2641,uly:5685,lrx:3168,lry:6036},{id:"k113-annot-idm604",ann:"<p>NB</p>",ulx:6994,uly:1935,lrx:7336,lry:2198},{id:"k113-annot-idm606",ann:"<p>NB</p>",ulx:6849,uly:2548,lrx:7262,lry:2849}],"A-WnMus.Hs.44706-267":[{id:"k113-annot-idm766",ann:"<p>zu schwach</p>",ulx:781,uly:2885,lrx:1439,lry:3289},{id:"k113-annot-idm1169",ann:"<p>erlaubt? ja</p>",ulx:3749,uly:3003,lrx:4572,lry:3321},{id:"k113-annot-idm1171",ann:"<p>Alt Oktaven</p>",ulx:3615,uly:3244,lrx:4315,lry:3479}],"A-WnMus.Hs.44706-268":[{id:"k113-annot-idm2480",ann:"<p>NB</p>",ulx:6464,uly:893,lrx:6709,lry:1177},{id:"k113-annot-idm1869",ann:"<p>NB</p>",ulx:3314,uly:2831,lrx:3635,lry:3150},{id:"k113-annot-idm2068",ann:"<p>NB</p>",ulx:3974,uly:3005,lrx:4294,lry:3237},{id:"k113-annot-idm1871",ann:"<p>NB</p>",ulx:3304,uly:3246,lrx:3659,lry:3552}],"A-WnMus.Hs.44706-269":[{id:"k113-annot-idm2691",ann:"<p>o Begleitung</p>",ulx:1323,uly:231,lrx:2098,lry:628},{id:"k113-annot-idm2693",ann:"<p>NB</p>",ulx:1967,uly:3126,lrx:2278,lry:3389}],"A-WnMus.Hs.44706-270":[],"A-WnMus.Hs.44706-271":[],"A-WnMus.Hs.44706-272":[],"A-WnMus.Hs.44706-273":[],"A-WnMus.Hs.44706-274":[{id:"k113-annot-idm6185",ann:"<p>NB</p>",ulx:1084,uly:770,lrx:1413,lry:1033},{id:"k113-annot-idm6188",ann:"<p>oder :(</p>",ulx:850,uly:1620,lrx:1265,lry:1911},{id:"k113-annot-idm6190",ann:"<p>h</p>",ulx:1263,uly:1662,lrx:1529,lry:1906},{id:"k113-annot-idm6290",ann:"<p>a</p>",ulx:1675,uly:1707,lrx:1907,lry:1881},{id:"k113-annot-idm6292",ann:"<p></p>\x3c!--ToDo: Viertelpausenzeichen in Unicode--\x3e",ulx:2063,uly:1709,lrx:2452,lry:1985},{id:"k113-annot-idm6465",ann:"<p>ohne Triolen</p>",ulx:3926,uly:2142,lrx:4958,lry:2560},{id:"k113-annot-idm6589",ann:"<p>die Harmonie</p>",ulx:4942,uly:2144,lrx:5863,lry:2554}],"A-WnMus.Hs.44706-275":[{id:"k113-annot-idm7067",ann:"<p>Cello</p>",ulx:1691,uly:5380,lrx:2143,lry:5705},{id:"k113-annot-idm7069",ann:"<p>?</p>",ulx:1731,uly:5880,lrx:2010,lry:6185}],"A-WnMus.Hs.44706-276":[],"A-WnMus.Hs.44706-277":[{id:"k113-annot-idm8877",ann:"<p>dann.</p>",ulx:816,uly:274,lrx:1510,lry:630},{id:"k113-annot-idm8968",ann:'<p>Flöte oder<br/> <span class="annot-abbr" data-abbr="Clar" data-expan="Clarinette">Clar</span> </p>',ulx:2544,uly:172,lrx:3276,lry:621},{id:"k113-annot-idm8974",ann:"<p>Pausen</p>",ulx:2913,uly:458,lrx:3491,lry:717},{id:"k113-annot-idm9591",ann:'<p><date isodate="1862-11-10">10. November<br/>862</date></p>',ulx:7220,uly:5803,lrx:8086,lry:6296}],"A-WnMus.Hs.44706-278":[{id:"k113-annot-idm9949",ann:'<p>? Vorschlag nicht <rend rend="underline">8</rend> sondern <rend rend="underline">16</rend> </p>',ulx:3196,uly:5733,lrx:5369,lry:6211},{id:"k113-annot-idm10332",ann:"<p>Cello</p>",ulx:6754,uly:5301,lrx:7206,lry:5620}],"A-WnMus.Hs.44706-279":[{id:"k113-annot-idm10653",ann:"<p>Cello</p>",ulx:1908,uly:5320,lrx:2359,lry:5669},{id:"k113-annot-idm11058",ann:"<p>Violon <br/>arco</p>",ulx:6579,uly:5694,lrx:7366,lry:6217}],"A-WnMus.Hs.44706-280":[],"A-WnMus.Hs.44706-281":[],"A-WnMus.Hs.44706-282":[{id:"k113-annot-idm12864",ann:"<p>Cello</p>",ulx:732,uly:5157,lrx:1213,lry:5517},{id:"k113-annot-idm12866",ann:"<p>oder tacet</p>",ulx:1115,uly:5664,lrx:2053,lry:6017}],"A-WnMus.Hs.44706-283":[{id:"k113-annot-idm13552",ann:"<p>Cello</p>",ulx:1580,uly:5283,lrx:2102,lry:5660},{id:"",ann:"",ulx:2889,uly:5288,lrx:3435,lry:5605},{id:"k113-annot-idm14016",ann:"<p>? forte.</p>",ulx:5077,uly:5834,lrx:6038,lry:6249}],"A-WnMus.Hs.44706-284":[{id:"k113-annot-idm14784",ann:'<p>Clarinett<br/>1 <rend rend="underline">u.</rend> 2.<sup>e</sup> <br/>in Oktav <br/>aushalten</p>',ulx:6866,uly:2596,lrx:8004,lry:3464}],"A-WnMus.Hs.44706-285":[],"A-WnMus.Hs.44706-286":[{id:"k113-annot-idm15627",ann:'<p><settlement>Linz</settlement><date isodate="1862-11-16">16. November 862</date><br/>nach 6. Uhr Abends.</p>',ulx:5113,uly:5396,lrx:7010,lry:6107}],"A-WnMus.Hs.44706-286a":[],"A-WnMus.Hs.44706-286b":[],"A-WnMus.Hs.44706-287":[{id:"k116-annot-idm97",ann:'<p><date isodate="1862-11-18">18. November<br/> 1862</date></p>',ulx:0,uly:161,lrx:1171,lry:642},{id:"k116-annot-idm101",ann:"<p>Ouverture</p>",ulx:1143,uly:149,lrx:3131,lry:644}],"A-WnMus.Hs.44706-288":[{id:"k116-annot-idm1096",ann:"<p>? <persName>Marx</persName> Seite 189. (nicht einverstanden.)</p>",ulx:1121,uly:199,lrx:4825,lry:519},{id:"k116-annot-idm1221",ann:"<p>oder</p>",ulx:2671,uly:1485,lrx:3013,lry:1787},{id:"k116-annot-idm1223",ann:"<p>?</p>",ulx:2917,uly:1289,lrx:3250,lry:1582},{id:"k116-annot-idm1263",ann:"<p>oder:</p>",ulx:4630,uly:1383,lrx:5085,lry:1610},{id:"k116-annot-idm1296",ann:"<p>oder</p>",ulx:6621,uly:1523,lrx:7018,lry:1826},{id:"k116-annot-idm1474",ann:"<p>NB</p>",ulx:4806,uly:3549,lrx:5144,lry:3870}],"A-WnMus.Hs.44706-289":[{id:"k116-annot-idm2170",ann:"<p>+ Vergrößerung</p>",ulx:5907,uly:1294,lrx:7149,lry:1588},{id:"k116-annot-idm2332",ann:"<p>verdoppeln</p>",ulx:3152,uly:3144,lrx:4073,lry:3417},{id:"k116-annot-idm2671",ann:"<p>anstatt<br/>c</p>",ulx:4364,uly:4405,lrx:4833,lry:4629},{id:"k116-annot-idm2766",ann:"<p>besser Sept</p>",ulx:6252,uly:4439,lrx:7270,lry:4763},{id:"k116-annot-idm3000",ann:"<p>Horn</p>",ulx:4613,uly:5619,lrx:5117,lry:6017},{id:"k116-annot-idm3125",ann:"<p>Sopran</p>",ulx:6337,uly:5744,lrx:6943,lry:6154}],"A-WnMus.Hs.44706-290":[{id:"k116-annot-idm3290",ann:"<p>Non.</p>",ulx:4429,uly:126,lrx:4903,lry:607},{id:"k116-annot-idm3292",ann:"<p>oder fis</p>",ulx:4277,uly:747,lrx:5027,lry:1094},{id:"k116-annot-idm3853",ann:"<p>NB<br/>nur 4 Tacte<br/>(anstatt 8.)</p>",ulx:6349,uly:3103,lrx:7526,lry:4135},{id:"k116-annot-idm4095",ann:"<p>Verlängerung<br/>I. Motiv</p>",ulx:2617,uly:4766,lrx:3562,lry:5213},{id:"k116-annot-idm4098",ann:"<p>oder enharmonisch<br/>Edur.</p>",ulx:2910,uly:5731,lrx:4240,lry:6232}],"A-WnMus.Hs.44706-291":[{id:"k116-annot-idm4333",ann:"<p>NB</p>",ulx:3724,uly:125,lrx:4462,lry:560},{id:"k116-annot-idm4364",ann:"<p>NB</p>",ulx:4792,uly:111,lrx:5580,lry:610}],"A-WnMus.Hs.44706-292":[{id:"k116-annot-idm5610",ann:"<p>Viola</p>",ulx:286,uly:1548,lrx:765,lry:1938},{id:"k116-annot-idm6182",ann:"<p>Es</p>",ulx:3008,uly:4810,lrx:3380,lry:5119},{id:"k116-annot-idm6184",ann:"<p>C</p>",ulx:3624,uly:4810,lrx:3947,lry:5104},{id:"k116-annot-idm6233",ann:"<p>F</p>",ulx:4108,uly:4807,lrx:4484,lry:5142},{id:"k116-annot-idm6235",ann:"<p>D</p>",ulx:4615,uly:4842,lrx:4998,lry:5134},{id:"k116-annot-idm6274",ann:"<p>G</p>",ulx:5186,uly:4753,lrx:5590,lry:5134},{id:"k116-annot-idm6276",ann:"<p>Es</p>",ulx:5891,uly:4786,lrx:6291,lry:5108}],"A-WnMus.Hs.44706-293":[{id:"k116-annot-idm6452",ann:'<p>Fes dur<br/> <span class="annot-abbr" data-abbr="enharm. Verw." data-expan="enharmonische Verwechslung">enharm. Verw.</span> <br/>Edur</p>',ulx:2056,uly:63,lrx:3342,lry:615},{id:"k116-annot-idm6486",ann:'<p><span class="annot-abbr" data-abbr="Dom." data-expan="Dominante">Dom.</span> Amoll (vielleicht besser)</p>',ulx:3209,uly:62,lrx:5698,lry:614},{id:"k116-annot-idm6596",ann:"<p>Trombone</p>",ulx:2352,uly:2164,lrx:3091,lry:2510},{id:"k116-annot-idm6715",ann:"<p>A</p>",ulx:5946,uly:2053,lrx:6365,lry:2435},{id:"k116-annot-idm7062",ann:"<p>oder</p>",ulx:480,uly:3992,lrx:1101,lry:4475},{id:"k116-annot-idm7248",ann:"<p>a</p>",ulx:2483,uly:4980,lrx:2734,lry:5240},{id:"k116-annot-idm7250",ann:"<p>b</p>",ulx:2802,uly:4972,lrx:3073,lry:5262},{id:"k116-annot-idm7360",ann:'<p><date isodate="1862-11-27">27. Nov. <br/>1862</date><br/>nach 9. Uhr Abends</p>',ulx:6511,uly:5690,lrx:8153,lry:6291}],"A-WnMus.Hs.44706-294":[{id:"k116-annot-idm7504",ann:"<p>b</p>",ulx:1857,uly:1268,lrx:2098,lry:1564},{id:"k116-annot-idm7506",ann:"<p>(b)</p>",ulx:1765,uly:1696,lrx:2188,lry:1997},{id:"k116-annot-idm7545",ann:"<p>(Ces)</p>",ulx:2194,uly:1674,lrx:2687,lry:2001},{id:"k116-annot-idm7568",ann:"<p>(Des) besser</p>",ulx:3844,uly:1620,lrx:4841,lry:1997},{id:"k116-annot-idm7613",ann:"<p>Trombi</p>",ulx:5683,uly:1253,lrx:6529,lry:1568},{id:"k116-annot-idm8155",ann:'<p><date isodate="1862-11-30">1. Adventsonntag 862</date></p>',ulx:6235,uly:5780,lrx:7848,lry:6244}],"A-WnMus.Hs.44706-295":[],"A-WnMus.Hs.44706-296":[{id:"k116-annot-idm9534",ann:"<p>oder</p>",ulx:6118,uly:1372,lrx:6597,lry:1689},{id:"k116-annot-idm9536",ann:"<p>(NB Don Juan)</p>",ulx:6317,uly:1749,lrx:7668,lry:2124},{id:"k116-annot-idm9751",ann:"<p>oder:</p>",ulx:216,uly:3526,lrx:842,lry:3955},{id:"k116-annot-idm10059",ann:"<p>NB</p>",ulx:6401,uly:4603,lrx:6670,lry:4804},{id:"xcaca4590-23af-49f5-830a-bf9118b2f930",ann:"<p>obwohl die Kraft geschwächt ward</p>",ulx:6599,uly:4475,lrx:7974,lry:4899}],"A-WnMus.Hs.44706-297":[{id:"k116-annot-idm10441",ann:"<p>oder</p>",ulx:2294,uly:2345,lrx:2916,lry:2697},{id:"k116-annot-idm10523",ann:"<p>oder</p>",ulx:166,uly:4004,lrx:903,lry:4468},{id:"k116-annot-idm10672",ann:"<p>g</p>",ulx:3685,uly:5723,lrx:4157,lry:6268},{id:"k116-annot-idm10852",ann:'<p><span class="annot-abbr" data-abbr="Fund:" data-expan="Fundament">Fund:</span><br/>H <unclear>e</unclear> A</p>',ulx:6925,uly:3735,lrx:7674,lry:4247},{id:"k116-annot-idm10698",ann:"<p>h d g a</p>",ulx:4211,uly:4851,lrx:4905,lry:5196},{id:"k116-annot-idm10700",ann:"<p>g</p>",ulx:4668,uly:5802,lrx:5069,lry:6328},{id:"k116-annot-idm10957",ann:"<p>fis f e es</p>",ulx:7e3,uly:4704,lrx:7798,lry:5028},{id:"k116-annot-idm10771",ann:"<p>Gesangsperiode<br/>2. Theil<br/>Fortsetzung</p>",ulx:4353,uly:2381,lrx:5465,lry:3375}],"A-WnMus.Hs.44706-298":[{id:"k116-annot-idm11306",ann:"<p>g</p>",ulx:4063,uly:1933,lrx:4576,lry:2463},{id:"k116-annot-idm11555",ann:"<p>giltig</p>",ulx:1599,uly:3454,lrx:2277,lry:3928},{id:"k116-annot-idm11576",ann:"<p>h dis g a</p>",ulx:2561,uly:3027,lrx:3311,lry:3412},{id:"k116-annot-idm11614",ann:"<p>dis</p>",ulx:3507,uly:3363,lrx:3962,lry:3733},{id:"k116-annot-idm11616",ann:"<p>c- gg e</p>",ulx:3854,uly:3056,lrx:4777,lry:3491},{id:"k116-annot-idm11618",ann:"<p>E C</p>",ulx:3915,uly:3622,lrx:4784,lry:4233},{id:"k116-annot-idm11650",ann:"<p>e g</p>",ulx:4843,uly:3423,lrx:5243,lry:3722},{id:"k116-annot-idm11652",ann:"<p>A C</p>",ulx:5265,uly:3760,lrx:6099,lry:4247}],"A-WnMus.Hs.44706-299":[{id:"k116-annot-idm12079",ann:"<p>NB</p>",ulx:3224,uly:161,lrx:3484,lry:480},{id:"k116-annot-idm12081",ann:"<p>h</p>",ulx:3372,uly:313,lrx:3661,lry:625},{id:"k116-annot-idm12426",ann:"<p>NB</p>",ulx:4321,uly:2210,lrx:4722,lry:2543},{id:"k116-annot-idm12614",ann:'<p>Themagruppe 14 Tacte<br/> <span class="annot-abbr" data-abbr="Übergangsgr." data-expan="Übergangsgruppe">Übergangsgr.</span> 27<br/>Gesangsgruppe 27<br/>Schlußgruppe<br/>mit Übergang 44<br/>I. Theil{</p>',ulx:151,uly:4072,lrx:2062,lry:6101},{id:"k116-annot-idm12624",ann:'<p>56 Durchführungsgruppe<br/>14 Wiederholung der Themagruppe<br/>15 = Übergangsgruppe<br/>11 = <span class="annot-abbr" data-abbr="Gesangsgr." data-expan="Gesangsgruppe">Gesangsgr.</span> <br/>20 Schlußgruppe<br/>42 Coda<br/>II. Theil </p>',ulx:2035,uly:4132,lrx:5245,lry:6335},{id:"k116-annot-idm12635",ann:"<p>14<br/>27<br/>27<br/>44<br/>56<br/>14<br/>15<br/>11<br/>20<br/>42<br/>___<br/>270</p>",ulx:5319,uly:4103,lrx:6226,lry:6310}],"A-WnMus.Hs.44706-300":[{id:"k116-annot-idm12651",ann:'<p><date isodate="1862-12-05">5. Dezember 862</date></p>',ulx:976,uly:145,lrx:2597,lry:606},{id:"k116-annot-idm12656",ann:"<p>möglichst 1. Thema zu verbinden</p>",ulx:1130,uly:841,lrx:3376,lry:1175},{id:"k116-annot-idm13161",ann:"<p>wie oben</p>",ulx:2795,uly:5197,lrx:3936,lry:5590}],"A-WnMus.Hs.44706-301":[{id:"k116-annot-idm13331",ann:'<p><span class="annot-abbr" data-abbr="Verdoppl." data-expan="Verdopplung">Verdoppl.</span><br/>im <span class="annot-abbr" data-abbr="Einkl." data-expan="Einklang">Einkl.</span><br/>z.B{ Oboen<br/><span class="annot-abbr" data-abbr="Clar." data-expan="Clarinetten">Clar.</span><br/><span class="annot-abbr" data-abbr="od." data-expan="oder">od.</span><span class="annot-abbr" data-abbr="Clar." data-expan="Clarinetten">Clar.</span><br/><span class="annot-abbr" data-abbr="u." data-expan="und">u.</span><span class="annot-abbr" data-abbr="Flaut." data-expan="Flaute">Flaut.</span><br/>schwächt.</p>',ulx:6865,uly:2166,lrx:8026,lry:4026}],"A-WnMus.Hs.44706-302":[],"A-WnMus.Hs.44706-303":[{id:"k117-annot-idm86",ann:"<p>Symphonie</p>",ulx:1499,uly:151,lrx:3161,lry:606},{id:"k117-annot-idm237",ann:'<p><date isodate="1863-01-07">7. Jänner 1863</date></p>',ulx:5402,uly:100,lrx:6582,lry:466}],"A-WnMus.Hs.44706-304":[{id:"k118-annot-idm93",ann:"<p>Motive</p>",ulx:2321,uly:142,lrx:3618,lry:591}],"A-WnMus.Hs.44706-305":[{id:"k118-annot-idm1150",ann:"<p>mehr Finale</p>",ulx:6932,uly:1520,lrx:7913,lry:1892}],"A-WnMus.Hs.44706-306":[{id:"k118-annot-idm1852",ann:"<p>mehr<br/>Marsch.</p>",ulx:408,uly:2364,lrx:946,lry:2735}],"A-WnMus.Hs.44706-307":[{id:"k120-annot-idm86",ann:"<p>Motive zum Andante der Symphonie</p>",ulx:1085,uly:68,lrx:6264,lry:518},{id:"k120-annot-idm88",ann:'<p><date isodate="1863-03-13">13. März<br/> 1863</date>.</p>',ulx:7314,uly:16,lrx:8082,lry:465},{id:"k120-annot-idm686",ann:'<p><date isodate="1863-03-14">14. März</date></p>',ulx:265,uly:3811,lrx:1126,lry:4161}],"A-WnMus.Hs.44706-308":[],"A-WnMus.Hs.44706-309":[],"A-WnMus.Hs.44706-310":[],"A-WnMus.Hs.44706-311":[{id:"k123-annot-idm93",ann:"<p>Motive</p>",ulx:1054,uly:233,lrx:2354,lry:707},{id:"k123-annot-idm509",ann:"<p>NB</p>",ulx:4641,uly:3022,lrx:5037,lry:3286},{id:"k123-annot-idm678",ann:"<p>NB</p>",ulx:1361,uly:4835,lrx:1788,lry:5205},{id:"k123-annot-idm680",ann:"<p>veraltet.</p>",ulx:1467,uly:5269,lrx:2745,lry:5664}],"A-WnMus.Hs.44706-312":[{id:"k123-annot-idm733",ann:"<p>NB</p>",ulx:216,uly:519,lrx:640,lry:922},{id:"k123-annot-idm1267",ann:'<p>entweder<br/> <span class="annot-abbr" data-abbr="rep." data-expan="repetirt">rep.</span> mit<br/>Veränderung</p>',ulx:2239,uly:3492,lrx:3467,lry:4155},{id:"k123-annot-idm1292",ann:"<p>oder gleich neu</p>",ulx:4939,uly:3171,lrx:6505,lry:3660}],"A-WnMus.Hs.44706-313":[],"A-WnMus.Hs.44706-314":[{id:"k123-annot-idm2383",ann:"<p>z.B. Alt Posaun</p>",ulx:1250,uly:388,lrx:2980,lry:922},{id:"k123-annot-idm2385",ann:"<p>oder nur obere Stimmen</p>",ulx:1300,uly:963,lrx:3011,lry:1316},{id:"k123-annot-idm2606",ann:"<p>mehr für Quartett<br/>1. Satz</p>",ulx:5938,uly:1638,lrx:8097,lry:2330},{id:"k123-annot-idm2865",ann:"<p>Quartett</p>",ulx:137,uly:4755,lrx:939,lry:5139},{id:"k123-annot-idm3028",ann:"<p>?<br/>Motiv<br/>14.<br/>Gesangsgruppe.</p>",ulx:184,uly:5405,lrx:1244,lry:6263},{id:"k123-annot-idm3218",ann:"<p>eine Stufe höher</p>",ulx:6477,uly:5944,lrx:8053,lry:6329}],"A-WnMus.Hs.44706-315":[],"A-WnMus.Hs.44706-316":[],"A-WnMus.Hs.44706-317":[],"A-WnMus.Hs.44706-318":[],"A-WnMus.Hs.44706-319":[{id:"k128-annot-idm92",ann:"<p>III. Satz zur Symphonie.</p>",ulx:407,uly:133,lrx:3987,lry:687},{id:"k128-annot-idm94",ann:'<p><date isodate="1862-04-10">10. April 862</date></p>',ulx:3987,uly:133,lrx:6198,lry:687},{id:"k128-annot-idm97",ann:'<p>darf man <rend rend="underline">wohl</rend> im</p>',ulx:5619,uly:448,lrx:7114,lry:795},{id:"k128-annot-idm675",ann:"<p>Corn</p>",ulx:4999,uly:3850,lrx:5503,lry:4202},{id:"k128-annot-idm696",ann:"<p>Violon</p>",ulx:6054,uly:3916,lrx:6785,lry:4259},{id:"k128-annot-idm784",ann:"<p>Corn</p>",ulx:2474,uly:4337,lrx:3356,lry:4681}],"A-WnMus.Hs.44706-320":[{id:"k129-annot-idm347",ann:"<p>Cello</p>",ulx:590,uly:3616,lrx:1074,lry:4030},{id:"k129-annot-idm635",ann:"<p>Corni</p>",ulx:4004,uly:4752,lrx:4794,lry:5179},{id:"k129-annot-idm865",ann:"<p>? Corni</p>",ulx:3676,uly:5145,lrx:4634,lry:5493},{id:"k129-annot-idm956",ann:"<p>? Fl Cl.</p>",ulx:6191,uly:4800,lrx:6989,lry:5171}],"A-WnMus.Hs.44706-321":[{id:"k130-annot-idm92",ann:'<p><date isodate="1863-04-13">13. April<br/>1863</date></p>',ulx:242,uly:140,lrx:1182,lry:731},{id:"k130-annot-idm95",ann:"<p>Motive zum <del>letzten</del> <ins>Schluß</ins> Satz der Symphonie</p>",ulx:1307,uly:156,lrx:6499,lry:647},{id:"k130-annot-idm820",ann:"<p>sempre 8-mit</p>",ulx:3382,uly:3346,lrx:4426,lry:3709},{id:"k130-annot-idm1229",ann:"<p>Tr. verändern</p>",ulx:1363,uly:5470,lrx:2923,lry:5822},{id:"k130-annot-idm1231",ann:"<p>+ oder</p>",ulx:1471,uly:5744,lrx:2391,lry:6200}],"A-WnMus.Hs.44706-322":[{id:"k130-annot-idm1497",ann:"<p>NB lustiger (bewegter hüpfender</p>",ulx:3650,uly:280,lrx:6179,lry:772},{id:"k130-annot-idm1672",ann:"<p>giltig</p>",ulx:4352,uly:2228,lrx:5581,lry:2722},{id:"k130-annot-idm2173",ann:"<p>aber nicht verwerfen</p>",ulx:4112,uly:3816,lrx:6624,lry:4304},{id:"k130-annot-idm2286",ann:"<p>? oder</p>",ulx:2995,uly:4256,lrx:3932,lry:4749},{id:"k130-annot-idm2338",ann:"<p>+<br/>NB</p>",ulx:105,uly:4906,lrx:808,lry:5583},{id:"k130-annot-idm2352",ann:"<p>o später Anhang</p>",ulx:942,uly:5643,lrx:2488,lry:6175}],"A-WnMus.Hs.44706-323":[{id:"k130-annot-idm3645",ann:'<p>Cello<br/> <span class="annot-abbr" data-abbr="u" data-expan="und">u</span>Violon unten</p>',ulx:6548,uly:5416,lrx:7968,lry:6002}],"A-WnMus.Hs.44706-324":[{id:"k130-annot-idm3831",ann:"<p>oder<br/>vielleicht<br/>besser</p>",ulx:92,uly:1595,lrx:998,lry:2467},{id:"k130-annot-idm3866",ann:"<p>Melodie</p>",ulx:1670,uly:1470,lrx:2507,lry:1879}],"A-WnMus.Hs.44706-325":[{id:"k131-annot-idm100",ann:'<p><date isodate="1863-04-10">10. April</date> von 10. bis 12 Vormittag 4-5 Uhr Abends</p>',ulx:2343,uly:1175,lrx:7450,lry:1642},{id:"k131-annot-idm102",ann:'<p>Ouverture dann Symphonie <span class="annot-abbr" data-abbr="u" data-expan="und">u</span>Psalm beschlossen</p>',ulx:1230,uly:1580,lrx:6525,lry:2087},{id:"k131-annot-idm107",ann:'<p><date isodate="1863-07-10">10. Juli 1863</date></p>',ulx:4589,uly:1927,lrx:6529,lry:2342}],"A-WnMus.Hs.44706-326":[{id:"k132-annot-idm58",ann:"<p>Corni</p>",ulx:748,uly:5570,lrx:1673,lry:6137}],"A-WnMus.Hs.44706-Einband1":[],"A-WnMus.Hs.44706-Einband2":[],"A-WnMus.Hs.44706-Einband3":[],"A-WnMus.Hs.44706-HDspiegel":[],"A-WnMus.Hs.44706-I":[],"A-WnMus.Hs.44706-II":[],"A-WnMus.Hs.44706-IIx":[],"A-WnMus.Hs.44706-Ix":[],"A-WnMus.Hs.44706-VDspiegel":[]};(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&i.register(a,"annotData","/home/bruckner/app/src/data/annotData.js"),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&o(e)}).call(this,n(1)(e))},function(e,t,n){"use strict";(function(e){var r;Object.defineProperty(t,"__esModule",{value:!0}),(r=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).enterModule)&&r(e);var i,o,a=t.getElementsForXPath=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.evaluate(t,e,function(e){return n[e]||null},XPathResult.UNORDERED_NODE_ITERATOR_TYPE,null),i=[],o=r.iterateNext();o;)i.push(o),o=r.iterateNext();return i},l=t.getElementsBySelector=function(e,t){return Array.from(e.querySelectorAll(t))},s=t.getElementsWithIdsIfPresent=function(e,t){return t.map(function(t){return e.querySelector("#"+t)}).filter(function(e){return null!==e})},u=t.addStyleToElements=function(e,t){return e.forEach(function(e){return e.classList.add(t)})};(i=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).default)&&(i.register(a,"getElementsForXPath","/home/bruckner/app/src/interactDOM.js"),i.register(l,"getElementsBySelector","/home/bruckner/app/src/interactDOM.js"),i.register(s,"getElementsWithIdsIfPresent","/home/bruckner/app/src/interactDOM.js"),i.register(u,"addStyleToElements","/home/bruckner/app/src/interactDOM.js")),(o=("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal:n(0)).leaveModule)&&o(e)}).call(this,n(1)(e))},function(e,t,n){t.hot=function(e){return e}},function(e,t,n){var r=n(319);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(321)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(320)(!1)).push([e.i,"body {\n  background-color: #000;\n  color: #eee;\n  font-family: Helvetica, Arial, 'sans-serif';\n}\n\n#app {\n  display: flex;\n  flex-direction: column;\n}\n\n#loading-indicator {\n  color: #000;\n  position: absolute;\n  right: 1em;\n  top: 3em;\n  z-index: 999;\n}\n\n.dark #loading-indicator {\n  color: #fff;\n}\n\n.error-indicator {\n  color: #f00 !important;\n  font-weight: bold;\n}\n\n#controls {\n  height: 2em;\n  flex: none;\n  text-align: center;\n}\n\n#controls-left {\n  float: left;\n  text-align: left;\n  width: 40%;\n}\n\n#controls-right {\n  float: right;\n  text-align: right;\n  width: 60%;\n}\n\n/* variables for viewer grid */\n:root {\n  --wrapperWidth: 98vw;\n  --gutter: 5px;\n  --noOfColumns: 2;\n  --ratio: 0.75; /* 4:3 */\n  --rowHeight: calc((var(--wrapperWidth) / var(--noOfColumns)) * var(--ratio));\n}\n\n.viewers {\n  flex: auto;\n}\n\n.viewersGrid {\n  display: grid;\n  width: var(--wrapperWidth);\n  grid-template-columns: repeat(var(--noOfColumns), 1fr);\n  grid-auto-rows: var(--rowHeight);\n  grid-gap: var(--gutter);\n}\n\n.viewersSolo {\n  height: calc(98vh - 2em);\n  width: 100%;\n}\n\n.viewersSolo .viewer {\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n}\n\n.facsimile-viewer {\n  background-color: #333;\n}\n\n.verovio-viewer {\n  width: 100%;\n  min-width: 100%;\n  height: 100%;\n  min-height: 100%;\n  background-color: #ffeece;\n}\n\n/* dark mode */\n.dark .verovio-viewer,\n.dark .system,\n.dark .system path {\n  background-color: #19191c;\n  stroke: silver;\n  fill: silver;\n}\n\n.button-inline {\n  border-width: 0;\n  background: transparent;\n  color: inherit;\n  text-align: inherit;\n  -webkit-font-smoothing: inherit;\n  padding: 0;\n  font-size: inherit;\n  cursor: pointer;\n}\n\n.button-inline:hover:enabled {\n  color: #ffcb7d !important;\n}\n\n.button-inline:disabled {\n  cursor: auto;\n}\n\n.input-facspage {\n  background-color: inherit;\n  border: 0;\n  color: #ffcb7d;\n  font-size: inherit;\n  line-height: inherit;\n  text-align: right;\n  width: 2.7em;\n}\n\n/* hide measure numbers */\ng.mNum {\n  display: none;\n}\n\n.errorboundary {\n  flex: auto;\n  padding: 50px;\n}\n\n.code-error {\n  background-color: #333;\n  color: #dc322f;\n  padding: 1em;\n}\n\n#controls select {\n  width: 100%; /* used to disable implicit min-width */\n  max-width: 9em;\n}\n\n.button-toggle {\n  font-weight: bold;\n}\n\n.button-analyse {\n  color: yellow;\n  font-weight: bold;\n}\n\n#control-colors .button-toggle {\n  width: 1.5em;\n}\n\n.colors-light {\n  border: solid 2px #000;\n  background-color: #ffeece;\n}\n\n.colors-dark {\n  border: solid 2px silver;\n  background-color: #19191c;\n}\n\n.del-only {\n  color: #aaa;\n  fill: #aaa;\n  stroke: #aaa;\n}\n\n.dark .del-only {\n  color: #777;\n  fill: #777;\n  stroke: #777;\n}\n\n.subst-del {\n  color: #db4103;\n  fill: #db4103;\n  stroke: #db4103;\n}\n\n.dark .subst-del {\n  color: #d24f1d;\n  fill: #d24f1d;\n  stroke: #d24f1d;\n}\n\n.subst-add {\n  color: #0e88d4;\n  fill: #0e88d4;\n  stroke: #0e88d4;\n}\n\n.dark .subst-add {\n  color: #36bcd9;\n  fill: #36bcd9;\n  stroke: #36bcd9;\n}\n\n.midi-active {\n  fill: #f629dd;\n  stroke: #f629dd;\n}\n\n.facs-overlay {\n  background-color: #ffcb7d;\n  color: transparent;\n  cursor: pointer;\n  opacity: 0.1;\n  z-index: 0;\n}\n\n.facs-overlay-text {\n  background-color: #19191c;\n  color: #fff;\n  cursor: pointer;\n  line-height: 1.2;\n  max-width: 50%;\n  max-height: 50%;\n  opacity: 0.6;\n  padding-left: 1em;\n  padding-right: 1em;\n  z-index: 1;\n}\n\n.facs-overlay-text .annot-abbr {\n  text-decoration-line: underline;\n  text-decoration-style: dotted;\n  z-index: 2;\n}\n\n.invisible {\n  display: none !important;\n}\n\n/* passing tones etc */\ng.note.mod {\n  fill: #aaa;\n  stroke: #aaa;\n  z-index: 2;\n}\n",""])},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(a=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var r,i,o={},a=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=r.apply(this,arguments)),i}),l=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),s=null,u=0,c=[],d=n(322);function p(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=o[r.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](r.parts[a]);for(;a<r.parts.length;a++)i.parts.push(v(r.parts[a],t))}else{var l=[];for(a=0;a<r.parts.length;a++)l.push(v(r.parts[a],t));o[r.id]={id:r.id,refs:1,parts:l}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],l={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(l):n.push(r[a]={id:a,parts:[l]})}return n}function f(e,t){var n=l(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=c[c.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=l(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,i)}}function m(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function g(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),y(t,e.attrs),f(e,t),t}function y(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function v(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=u++;n=s||(s=g(t)),r=w.bind(null,n,a,!1),i=w.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",y(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=d(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),l=e.href;e.href=URL.createObjectURL(a),l&&URL.revokeObjectURL(l)}.bind(null,n,t),i=function(){m(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){m(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return p(n,t),function(e){for(var r=[],i=0;i<n.length;i++){var a=n[i];(l=o[a.id]).refs--,r.push(l)}e&&p(h(e,t),t);for(i=0;i<r.length;i++){var l;if(0===(l=r[i]).refs){for(var s=0;s<l.parts.length;s++)l.parts[s]();delete o[l.id]}}}};var x,b=(x=[],function(e,t){return x[e]=t,x.filter(Boolean).join("\n")});function w(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}}]);